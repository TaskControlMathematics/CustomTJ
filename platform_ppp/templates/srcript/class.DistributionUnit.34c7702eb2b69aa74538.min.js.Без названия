(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{1608:function(t,i,e){"use strict";e.r(i),e.d(i,"default",(function(){return _}));var s=e(23),a=e(0),n=e(15),r=e(9),l=e(6),o=e(20);const c="dstr-bn",d="top-mobile",h="right-sidebar",m="before-comments-desktop",p="before-comments-mobile",$=({place:t,unitData:i,size:e})=>`<div class="${c} ${c}--${t}">\n            <a href="${i.url}" target="_blank" class="${c}__link"></a>\n            <div class="${c}__inner">\n              <img src="${Object(l.formImageUrl)(i.leonardoUuid,e)}" alt="" class="${c}__img">\n              <div class="${c}__text">${Object(r.replaceSpacesAfterPrepositions)(i.title)}</div>\n              <a href="${i.url}" target="_blank" class="${c}__button">${i.buttonText}</a>\n            </div>\n          </div>`,u=({place:t,unitData:i,size:e})=>`<div class="${c} ${c}--${t}">\n            <a href="${i.url}" target="_blank" class="${c}__link"></a>\n            <div class="l-island-a">\n              <div class="${c}__inner">\n                <div class="${c}__text">${Object(r.replaceSpacesAfterPrepositions)(i.title)}</div>\n                <img src="${Object(l.formImageUrl)(i.leonardoUuid,e)}" alt="" class="${c}__img">\n                <a href="${i.url}" target="_blank" class="${c}__button">${i.buttonText}</a>\n              </div>\n            </div>\n          </div>`,b={["top-desktop"]:{breakpoint:o.b,imgSize:80,render:$},[d]:{breakpoint:o.a,imgSize:100,render:$},[h]:{breakpoint:o.b,imgSize:252,render:({place:t,unitData:i,size:e})=>`<div class="${c} ${c}--${t}">\n            <a href="${i.url}" target="_blank" class="${c}__link"></a>\n            <div class="${c}__text">${Object(r.replaceSpacesAfterPrepositions)(i.title)}</div>\n            <a href="${i.url}" target="_blank" class="${c}__button">${i.buttonText}</a>\n            <img src="${Object(l.formImageUrl)(i.leonardoUuid,e)}" alt="" class="${c}__img">\n          </div>`},[m]:{breakpoint:o.b,imgSize:160,render:u},[p]:{breakpoint:o.a,imgSize:100,render:u}};class _{constructor({element:t,place:i,unitData:e}){this.element=t,this.place=i,this.unitData=e,this.unit=null,this.dom={},this.scroller=null,this.init()}show(){const t=a.find(this.dom.main,`.${c}__inner`),i=a.find(this.dom.main,`.${c}__img`),e=()=>{a.css(this.dom.main,{maxHeight:a.height(t)+"px"})};t&&i&&(i.complete?e():i.onload=e),a.addClass(this.dom.main,c+"--active")}hit(){n.post({url:`/specials/${this.unitData.id}/hits`,data:{place:this.place}})}init(){this.unit=b[this.place],this.unit&&(this.dom.main=a.parseHTML(this.unit.render({place:this.place,unitData:this.unitData,size:this.unit.imgSize})),a.after(this.element,this.dom.main),this.scroller=new s.a((t,i)=>{i&&(this.show(),this.hit(),this.scroller.destroy())}),this.scroller.addElement(this.dom.main),this.breakpoint=o.e.on(t=>{t===this.unit.breakpoint&&this.destroy()}))}destroy(){this.scroller&&this.scroller.destroy(),this.breakpoint&&this.breakpoint(),this.dom.main&&(this.dom.main.remove(),this.dom=null)}}}}]);