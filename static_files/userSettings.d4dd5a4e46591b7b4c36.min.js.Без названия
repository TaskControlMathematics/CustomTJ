(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{1003:function(t,e,n){var s=n(1444);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,n(29).default)("3063a0e8",s,!1,{})},1004:function(t,e,n){var s=n(1446);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,n(29).default)("05462b91",s,!1,{})},1005:function(t,e,n){var s=n(1448);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,n(29).default)("86e6e522",s,!1,{})},1443:function(t,e,n){"use strict";n(1003)},1444:function(t,e,n){(e=n(28)(!1)).push([t.i,".user-main[data-v-f645009c] {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n  flex-direction: column;\n}\n.user-main__change-password[data-v-f645009c] {\n  margin: 8px 0 0 0;\n  padding: 0;\n  cursor: pointer;\n  outline: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  border: none;\n  background-color: transparent;\n  font-size: 16px;\n  line-height: 24px;\n  font-weight: 400;\n}\n.user-main__accounts-form[data-v-f645009c] .v-form-section__field {\n  margin-top: 0;\n}\n.user-main__accounts-form[data-v-f645009c] .v-form-section__label {\n  margin-bottom: 0;\n}\n.social-links[data-v-f645009c] {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n}\n.social-links__item[data-v-f645009c] {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n  border-radius: 7px;\n  height: 32px;\n  padding: 6px 14px 6px 10px;\n  background-color: #f2f2f2;\n  cursor: pointer;\n  margin-top: 8px;\n}\n.social-links__item[data-v-f645009c]:hover {\n  background-color: #ebebeb;\n}\n.social-links__item[data-v-f645009c]:not(:last-child) {\n  margin-right: 8px;\n}\n.social-links__item--active[data-v-f645009c] {\n  max-width: 155px;\n  padding-right: 0;\n  color: #fff;\n  cursor: default;\n}\n.social-links__item--active .social-links__item-delete[data-v-f645009c] {\n  cursor: pointer;\n}\n.social-links__item--active .social-links__item-delete[data-v-f645009c]:hover {\n  color: #fff;\n}\n.social-links__item--active .social-links__title[data-v-f645009c] {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.social-links__item--active.social-links__item--fb[data-v-f645009c] {\n  background-color: #1778f2;\n}\n.social-links__item--active.social-links__item--tw[data-v-f645009c] {\n  background-color: #1d9bf0;\n}\n.social-links__item--active.social-links__item--vk[data-v-f645009c] {\n  background-color: #2787f5;\n}\n.social-links__item--active.social-links__item--gg[data-v-f645009c] {\n  background-color: #f14336;\n}\n.social-links__item--active.social-links__item--apple[data-v-f645009c] {\n  background-color: #000;\n}\n.social-links__title[data-v-f645009c] {\n  font-size: 14px;\n  line-height: 20px;\n  font-weight: 500;\n}\n.social-links__icon[data-v-f645009c] {\n  -ms-flex-negative: 0;\n  flex-shrink: 0;\n  margin-right: 6px;\n}\n.social-links__item-delete[data-v-f645009c] {\n  display: -ms-flexbox;\n  display: flex;\n  position: relative;\n  color: rgba(255,255,255,0.5);\n  padding: 8px 10px;\n}\n",""]),t.exports=e},1445:function(t,e,n){"use strict";n(1004)},1446:function(t,e,n){(e=n(28)(!1)).push([t.i,".user-plus[data-v-17262f13] {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n  flex-direction: column;\n}\n.plus-info[data-v-17262f13] {\n  padding-left: 20px;\n  padding-right: 20px;\n  margin-bottom: 24px;\n}\n.plus-info__recurring[data-v-17262f13] {\n  display: inline-block;\n  margin: 0 0 0 10px;\n  padding: 0;\n  cursor: pointer;\n  outline: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  border: none;\n  background-color: transparent;\n  font-size: 16px;\n  line-height: 24px;\n  font-weight: 400;\n}\n.plus-info__container[data-v-17262f13] {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: justify;\n  justify-content: space-between;\n  -ms-flex-align: center;\n  align-items: center;\n}\n@media (max-width: 999px) {\n.plus-info__container[data-v-17262f13] {\n    -ms-flex-direction: column;\n    flex-direction: column;\n}\n}\n.plus-info__text[data-v-17262f13] {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n  width: 100%;\n}\n@media (max-width: 999px) {\n.plus-info__text[data-v-17262f13] {\n    margin-right: 0;\n}\n}\n.plus-info__quantity[data-v-17262f13] {\n  font-size: 64px;\n  font-weight: 500;\n  line-height: 90px;\n}\n.plus-info__info[data-v-17262f13] {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  font-size: 18px;\n  line-height: 26px;\n  margin-left: 16px;\n}\n.plus-info__paid-button[data-v-17262f13] {\n  margin-left: 12px;\n}\n@media (max-width: 999px) {\n.plus-info__paid-button[data-v-17262f13] {\n    margin: 0;\n}\n}\n.plus-info__paid-info[data-v-17262f13] {\n  color: #595959;\n}\n@media (max-width: 999px) {\n.plus-info[data-v-17262f13] {\n    padding-right: 0;\n    padding-left: 0;\n}\n.plus-info__paid-button[data-v-17262f13] {\n    width: 100%;\n    margin-top: 12px;\n}\n}\n.benefits-lock[data-v-17262f13] {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: start;\n  align-items: flex-start;\n}\n.benefits-lock + .benefits-lock[data-v-17262f13] {\n  margin-top: 16px;\n}\n.benefits-lock__text[data-v-17262f13] {\n  margin-left: 8px;\n}\n.benefits-lock__icon[data-v-17262f13] {\n  fill: #595959;\n  min-width: 20px;\n  min-height: 20px;\n  margin-top: 2px;\n}\n",""]),t.exports=e},1447:function(t,e,n){"use strict";n(1005)},1448:function(t,e,n){(e=n(28)(!1)).push([t.i,".user-settings__content[data-v-7b1cabee] {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  padding-bottom: 0;\n}\n@media (max-width: 999px) {\n.user-settings[data-v-7b1cabee] {\n    grid-gap: 0;\n    min-height: calc(100vh - 60px);\n    margin-bottom: 0;\n    background-color: #fff;\n}\n.user-settings__content[data-v-7b1cabee] {\n    padding: 0;\n}\n.user-settings__header[data-v-7b1cabee],\n  .user-settings__dev-tools[data-v-7b1cabee],\n  .user-settings__sidebar[data-v-7b1cabee] {\n    display: none !important;\n}\n}\n@media (max-width: 999px) {\n.user-settings__mobile-navbar[data-v-7b1cabee] {\n    --offset-x: 16px;\n}\n}\n.user-settings__container[data-v-7b1cabee] {\n  padding-top: 24px;\n}\n@media (max-width: 999px) {\n.user-settings__container[data-v-7b1cabee] {\n    padding: 16px 16px 0;\n}\n}\n.user-settings__container[data-v-7b1cabee] .v-form-section + .v-form-section {\n  margin-top: 24px;\n}\n@media (max-width: 999px) {\n.user-settings__container[data-v-7b1cabee] .v-form-section {\n    padding-right: 0;\n    padding-left: 0;\n}\n}\n.user-settings__container[data-v-7b1cabee] .v-checkbox {\n  display: -ms-flexbox;\n  display: flex;\n}\n.user-settings__container[data-v-7b1cabee] .v-checkbox + .v-checkbox {\n  margin-top: 8px;\n}\n.user-settings__navigation[data-v-7b1cabee] {\n  margin-bottom: 16px;\n}\n.user-settings__navigation[data-v-7b1cabee] .v-list-tab {\n  max-height: 48px;\n}\n.user-settings__navigation[data-v-7b1cabee] .v-list-tab__comment {\n  padding-top: 14px;\n  padding-bottom: 14px;\n}\n.user-settings__navigation[data-v-7b1cabee] .sidebar-navigation__desktop {\n  margin-bottom: 0;\n}\n.user-settings__navigation[data-v-7b1cabee] .v-list-tab__plus-badge {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  pointer-events: none;\n}\n.user-settings__sticky-container[data-v-7b1cabee] {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n  flex-direction: column;\n}\n.user-settings__dev-tools[data-v-7b1cabee] {\n  -ms-flex-item-align: center;\n  align-self: center;\n  color: rgba(0,0,0,0.65);\n  cursor: pointer;\n}\n.user-settings__dev-tools span[data-v-7b1cabee] {\n  display: block;\n  line-height: 24px;\n}\n",""]),t.exports=e},1672:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return xt}));var s=n(35),i=n.n(s),a=n(57),o=n.n(a),r=n(618),l=n(80),c=n(646),d=n(21),u=n(601),h=function(){var t=this.$createElement;return(this._self._c||t)("sidebar-navigation",{staticClass:"user-navigation",attrs:{items:this.settingsNavigation,title:this.$gettext("Settings"),"is-router":!0}})};h._withStripped=!0;var p=n(650);var m={name:"settings-navigation",components:{SidebarNavigation:p.a},computed:{settingsNavigation(){return this.$store.getters.GET_SETTINGS_NAVIGATION(this.$route.path)}}},g=n(10),f=Object(g.a)(m,h,[],!1,null,null,null);f.options.__file="src/Components/Subsite/vue/settings/user/user-navigation.vue";var _=f.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-main"},[n("form-section",{attrs:{label:t.$gettext("Email and password")}},[n("text-input",{attrs:{name:"email",placeholder:"example@mail.com"},model:{value:t.userEmail,callback:function(e){t.userEmail=e},expression:"userEmail"}}),t._v(" "),t.userEmail?n("button",{staticClass:"t-link-inline user-main__change-password",on:{click:t.changePassword}},[n("translate",{attrs:{"translate-context":"Изменить пароль"}},[t._v("\n        Change password\n      ")])],1):t._e()],1),t._v(" "),n("form-section",{staticClass:"user-main__accounts-form",attrs:{label:t.$gettext("Linked accounts")}},[n("div",{staticClass:"social-links"},t._l(t.socialConfig,(function(e,s){return n("div",{key:s,class:["social-links__item","social-links__item--"+e.name,{"social-links__item--active":e.active}],on:{click:function(n){return t.signinBySocial(e.active,e.name)}}},[n("icon",{staticClass:"social-links__icon",attrs:{width:20,height:20,name:e.icon+(e.active?"_night":"")}}),t._v(" "),n("div",{staticClass:"social-links__title"},[t._v("\n          "+t._s(e.active?e.user:e.label)+"\n        ")]),t._v(" "),e.active?n("div",{staticClass:"social-links__item-delete",on:{click:function(n){return n.stopPropagation(),t.unlinkSocial(e.id,s)}}},[n("icon",{attrs:{name:"v_close",width:16,height:16}})],1):t._e()],1)})),0)]),t._v(" "),t._l(t.selectionLists,(function(e,s){return n("form-section",{key:s,attrs:{label:e.title}},[n("v-select",{attrs:{options:e.options,"offset-bottom":t.footerHeight},model:{value:e.selected,callback:function(n){t.$set(e,"selected",n)},expression:"item.selected"}})],1)})),t._v(" "),n("settings-footer",{on:{onHeight:function(e){t.footerHeight=e}}},[n("layout-button",{staticClass:"user-plus__save-button",attrs:{type:"blue"},on:{click:t.saveMainSettings}},[n("translate",[t._v("\n        Save\n      ")])],1)],1)],2)};b._withStripped=!0;var v=n(5),x=n(3),S=n(38),y=n(62),k=n(90),A=n(26),I=n(54),E=n(641);var w={name:"settings-main",components:{FormSection:S.a,VSelect:y.a,TextInput:k.default,Icon:A.a,LayoutButton:I.a,SettingsFooter:E.a},data:()=>({authData:null,moduleAuth:null,ajaxify:null,footerHeight:0}),computed:{userEmail:{get(){return this.$store.state.main.userEmail},set(t){this.$store.commit("UPDATE_USER_EMAIL",t)}},selectionLists(){return this.$store.state.main.selectionLists},socialConfig(){return this.$store.getters.GET_SOCIAL_CONFIG}},created(){this.moduleAuth=Air.import("module.auth"),this.authData=Air.get("module.auth_data"),this.ajaxify=Air.get("module.ajaxify")},methods:{saveMainSettings(){this.$store.dispatch("SAVE_MAIN_SETTINGS")},signinBySocial(t,e){t||this.moduleAuth.signinBySocial(e,"?link=1").then(()=>{Object(v.success)(this.$gettext("Social network successfully linked")),this.ajaxify.reload()})},unlinkSocial(t,e){this.authData.unlinkSocial(t,e,(t,e)=>{t&&(Object(v.success)(this.$gettext("Social network successfully unlinked")),this.ajaxify.reload())})},changePassword(){Object(x.c)({url:"/auth/simple/recover/request",data:{values:{login:this.userEmail}},success(t){Object(v.success)(t.message)}})}}},T=(n(1443),Object(g.a)(w,b,[],!1,null,"f645009c",null));T.options.__file="src/Components/Subsite/vue/settings/user/user-main.vue";var O=T.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-plus"},[n("div",{staticClass:"plus-info"},[n("div",{staticClass:"plus-info__container"},[n("div",{staticClass:"plus-info__text",attrs:{title:t.paidUntilTitle}},[n("div",{staticClass:"plus-info__quantity"},[t._v("\n          "+t._s(t.quantity)+"\n        ")]),t._v(" "),n("div",{staticClass:"plus-info__info"},[n("span",[t._v("\n            "+t._s(t.infoTextOnTopLine)+"\n          ")]),t._v(" "),n("span",[t._v("\n            "+t._s(t.infoTextOnBottomLine)+"\n          ")])])]),t._v(" "),t.ifIAmNotAdminOrISeeMyProfileAsAdmin?[t.isActivePlus?n("layout-button",{staticClass:"plus-info__paid-button",attrs:{type:"plus",size:"large","air-click":"buy_club_account","data-disable-preloader":"true"}},[n("translate",[t._v("\n            Prolong\n          ")])],1):n("layout-button",{staticClass:"plus-info__paid-button",attrs:{type:"plus",size:"large",url:"/plus"}},[n("translate",[t._v("\n            Buy\n          ")])],1),t._v(" "),n("div",{attrs:{id:"recurring-popup-data",hidden:""}},[t._v("\n          "+t._s(t.$store.state.plus.recurringOptions)+"\n        ")])]:t.isAdminSeesOtherUserWithActivePlus?t._e():[n("layout-button",{staticClass:"plus-info__paid-button",attrs:{type:"plus",size:"large"},on:{click:t.giftAccount}},[n("translate",{attrs:{"translate-context":"Подарить"}},[t._v("\n            Give\n          ")])],1)]],2),t._v(" "),t.isActivePlus&&t.cardLastFour&&(t.isGlobalAdmin||t.isMe)?n("div",{staticClass:"plus-info__paid-info"},[n("span",[t._v("\n        "+t._s(t.paidInfo)+"\n      ")]),t._v(" "),n("button",{staticClass:"t-link-inline plus-info__recurring",attrs:{"air-click":"recurring_options"}},[n("translate",[t._v("\n          Change\n        ")])],1)]):t._e()]),t._v(" "),t.ifIAmNotAdminOrISeeMyProfileAsAdmin?n("form-section",{attrs:{label:t.$gettext("Display name")}},[n("text-input",{attrs:{caption:t.changeNameCaption,maxlength:30,"is-disabled":t.isDisabledEditName},model:{value:t.userName,callback:function(e){t.userName=e},expression:"userName"}})],1):t._e(),t._v(" "),t.isSimpleUserSeesActivePlus||t.isMe||t.isAdminSeesOtherUserWithActivePlus?n("form-section",{attrs:{label:t.$gettext("Blog description")}},[n("textarea-formatted",{attrs:{"cdn-path":t.$store.state.cdnPath,"cdn-version":t.$store.state.cdnVersion,placeholder:t.$gettext("A few words about myself"),maxlength:500,"is-disabled":!t.isActivePlus},model:{value:t.userDescription,callback:function(e){t.userDescription=e},expression:"userDescription"}})],1):t._e(),t._v(" "),t.ifIAmNotAdminOrISeeMyProfileAsAdmin?n("form-section",{attrs:{label:t.$gettext("Setting up benefits")}},[t.isActivePlus?n("div",t._l(t.benefits,(function(e,s){return n("checkbox",{key:s,attrs:{caption:e.label},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"item.value"}})})),1):n("div",t._l(t.benefits,(function(e,s){return n("div",{key:s,staticClass:"benefits-lock"},[n("icon",{staticClass:"benefits-lock__icon",attrs:{name:"v_lock_full",width:20,height:20}}),t._v(" "),n("span",{staticClass:"benefits-lock__text"},[t._v(t._s(e.label))])],1)})),0)]):t._e(),t._v(" "),t.isSimpleUserSeesActivePlus||t.isMe||t.isAdminSeesOtherUserWithActivePlus?n("settings-footer",[n("layout-button",{staticClass:"user-plus__save-button",attrs:{type:"blue",disabled:!t.isActivePlus},on:{click:t.savePlusSettings}},[n("translate",[t._v("\n        Save\n      ")])],1)],1):t._e()],1)};$._withStripped=!0;var C=n(18),N=n(839),j=n(126),L=n(27),P={name:"settings-plus",components:{FormSection:S.a,TextInput:k.default,TextareaFormatted:N.a,Checkbox:j.a,LayoutButton:I.a,Icon:A.a,SettingsFooter:E.a},computed:{userName:{get(){return this.$store.state.plus.newUserName},set(t){this.$store.commit("SET_NEW_USER_NAME",t)}},userDescription:{get(){return this.$store.state.plus.userDescription},set(t){this.$store.commit("UPDATE_USER_DESCRIPTION",t.stringFormat)}},daysLeft(){return this.$store.state.plus.daysLeft},benefits(){return this.$store.state.plus.benefits},isActivePlus(){return this.$store.state.plus.isActivePlus},isGlobalAdmin(){return this.$store.state.isGlobalAdmin},isMe(){return this.$store.state.isMe},cardLastFour(){return this.$store.state.plus.cardLastFour},price(){return this.$store.state.plus.price},paidUntil(){const t=new Date(this.$store.state.plus.paidUntil);return`${t.getDate()} ${Object(C.h)(t)} ${t.getFullYear()}`},quantity(){return this.isActivePlus?this.daysLeft:this.ifIAmNotAdminOrISeeMyProfileAsAdmin?this.price:":("},infoTextOnTopLine(){return this.isActivePlus?this.$ngettext("day","days",this.daysLeft):this.ifIAmNotAdminOrISeeMyProfileAsAdmin?this.$gettext("per month for access"):this.$gettext("User does not have")},infoTextOnBottomLine(){return this.isActivePlus?this.$gettext("until the end of the subscription"):this.ifIAmNotAdminOrISeeMyProfileAsAdmin?this.$gettext("to nice features"):this.$gettext("plus account")},iSeeMyProfileAsAdmin(){return this.isGlobalAdmin&&this.isMe},isSimpleUserSeesActivePlus(){return!this.isGlobalAdmin&&this.isActivePlus},isAdminSeesOtherUserWithActivePlus(){return this.isGlobalAdmin&&this.isActivePlus&&!this.isMe},ifIAmNotAdminOrISeeMyProfileAsAdmin(){return!this.isGlobalAdmin||this.iSeeMyProfileAsAdmin},paidUntilTitle(){return this.iSeeMyProfileAsAdmin||this.isAdminSeesOtherUserWithActivePlus?`${this.$gettext("Paid until")}: ${this.paidUntil}`:""},paidInfo(){return`${this.paidUntil} ${this.$gettext("write off")} ${this.price} ${this.$gettext("per month")}${this.cardLastFour?` ${this.$gettext("from the card")} *${this.cardLastFour}`:""}`},isDisabledEditName(){return!(this.isActivePlus&&this.$store.state.plus.canEditName)},changeNameCaption(){const t=this.$store.state.plus.isExpiredDateForChangeName;if(this.isActivePlus&&!t){const t=Object(C.n)(this.$store.state.plus.nameChangeNextDate),e=this.$gettext("You can't change your nickname until %{ month }, %{ day }");return this.$gettextInterpolate(e,{day:t.getDate(),month:Object(C.h)(t)})}return this.$gettext("You can change your nickname only once a month")}},mounted(){this.userName=this.$store.state.userName},methods:{giftAccount(){Object(L.show)({name:"subsite_gift",onClose:(t,e)=>{t&&this.$store.dispatch("GIFT_ACCOUNT",e)}})},savePlusSettings(){this.$store.dispatch("SAVE_PLUS_SETTINGS")}}},D=(n(1445),Object(g.a)(P,$,[],!1,null,"17262f13",null));D.options.__file="src/Components/Subsite/vue/settings/user/user-plus.vue";var U=D.exports,G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-notifications"},[n("form-section",{attrs:{label:t.$gettext("Letters to the email")}},t._l(t.emailData,(function(e,s){return n("checkbox",{key:s,attrs:{checked:e.value,caption:e.label},on:{change:function(e){return t.changeEmailCheckbox(e,s)}}})})),1),t._v(" "),n("form-section",{attrs:{label:t.$gettext("Site notifications")}},t._l(t.internalData,(function(e,s){return n("checkbox",{key:s,attrs:{checked:e.value,caption:e.label},on:{change:function(e){return t.changeInternalCheckbox(e,s)}}})})),1),t._v(" "),n("settings-footer",[n("layout-button",{staticClass:"user-plus__save-button",attrs:{type:"blue"},on:{click:t.saveNotificationsSettings}},[n("translate",[t._v("\n        Save\n      ")])],1)],1)],1)};G._withStripped=!0;const M="email",R="internal";var H={name:"settings-notifications",components:{FormSection:S.a,Checkbox:j.a,LayoutButton:I.a,SettingsFooter:E.a},computed:{internalData(){return this.$store.state.notifications.internal},emailData(){return this.$store.state.notifications.email}},methods:{saveNotificationsSettings(){this.$store.dispatch("SAVE_NOTIFICATIONS_SETTINGS")},changeEmailCheckbox(t,e){this.$store.commit("UPDATE_RELATED_NOTIFICATIONS",{value:t,checkbox:e,type:M,relatedType:R})},changeInternalCheckbox(t,e){this.$store.commit("UPDATE_RELATED_NOTIFICATIONS",{value:t,checkbox:e,type:R,relatedType:M})}}},B=Object(g.a)(H,G,[],!1,null,null,null);B.options.__file="src/Components/Subsite/vue/settings/user/user-notifications.vue";var F=B.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-blocklist"},[n("form-section",{attrs:{label:t.$gettext("Filter the feed by words")}},[n("settings-hashtags",{attrs:{placeholder:t.$gettext("Key #tag or word"),items:t.$store.state.blocklist.ignoredHashtags},on:{onAdd:t.onAddHashtag,onRemove:t.onRemoveHashtag}})],1),t._v(" "),n("form-section",{attrs:{label:t.$gettext("Users")}},[n("settings-list-subsites",{attrs:{placeholder:t.$gettext("Name or link"),"search-url":t.$store.state.blocklist.searchUrl,items:t.ignoredSubsites,"etc-controls":t.etcControls,"more-items-label":t.moreItemsLabel},on:{onSelect:t.addSubsiteToIgnoreList}})],1)],1)};V._withStripped=!0;var z=n(0),q=n(828),W=n(840),K={name:"settings-blocklist",components:{FormSection:S.a,SettingsHashtags:q.a,SettingsListSubsites:W.a},computed:{ignoredSubsites(){return this.$store.getters.GET_IGNORED_SUBSITES},chevronDownHtml:()=>Object(z.svgHtml)("v_chevron_down",16,16),moreItemsLabel(){return this.$pgettext("Animate","Show all")+this.chevronDownHtml},etcControls(){return[{label:this.$gettext("Remove"),action:this.removeSubsiteFromIgnoreList}]}},methods:{onAddHashtag(t){this.$store.dispatch("UPDATE_HASHTAG_LIST",t)},onRemoveHashtag(t){this.$store.commit("REMOVE_HASHTAG_FROM_IGNORED_HASHTAG_LIST",t),this.$store.dispatch("SAVE_IGNORED_HASHTAGS")},addSubsiteToIgnoreList(t){this.$store.dispatch("UPDATE_SUBSITE_LIST",t)},removeSubsiteFromIgnoreList(t){this.$store.commit("REMOVE_SUBSITE_FROM_IGNORED_SUBSITE_LIST",t.value),this.$store.dispatch("SAVE_IGNORED_SUBSITES")}}},Y=Object(g.a)(K,V,[],!1,null,null,null);Y.options.__file="src/Components/Subsite/vue/settings/user/user-blocklist.vue";var J=Y.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-managing"},[n("form-section",{attrs:{label:t.$gettext("User gender")}},[n("v-select",{attrs:{options:t.gender.options},model:{value:t.gender.selected,callback:function(e){t.$set(t.gender,"selected",e)},expression:"gender.selected"}})],1),t._v(" "),n("form-section",{attrs:{label:t.$gettext("Profile")}},t._l(t.profile,(function(e,s){return n("checkbox",{key:s,attrs:{caption:e.label},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"item.value"}})})),1),t._v(" "),n("settings-footer",[n("layout-button",{staticClass:"user-plus__save-button",attrs:{type:"blue"},on:{click:t.saveManagingSettings}},[n("translate",[t._v("\n        Save\n      ")])],1)],1)],1)};X._withStripped=!0;var Q={name:"settings-managing",components:{FormSection:S.a,VSelect:y.a,Checkbox:j.a,LayoutButton:I.a,SettingsFooter:E.a},computed:{gender(){return this.$store.state.managing.gender},profile(){return this.$store.state.managing.profile}},methods:{saveManagingSettings(){this.$store.dispatch("SAVE_MANAGING_SETTINGS")}}},Z=Object(g.a)(Q,X,[],!1,null,null,null);Z.options.__file="src/Components/Subsite/vue/settings/user/user-managing.vue";var tt=Z.exports;i.a.use(c.a);const et=[{path:u.c.Main,component:O,name:"main"},{path:u.c.Plus,component:U,name:"plus"},{path:u.c.Notifications,component:F,name:"notifications"},{path:u.c.Blocklist,component:J,name:"blocklist"},{path:u.c.Managing,component:tt,name:"managing"}];var nt=n(42),st=n(1),it=n(613);var at={createState:function(t){return Object.assign({selectionLists:{},userEmail:"",socialConfig:{}},t)},getters:{GET_SOCIAL_CONFIG({socialConfig:t}){const e={};for(const n in t)("apple"!==t[n].name||t[n].active)&&(e[n]=t[n]);return e}},mutations:{UPDATE_USER_EMAIL(t,e){t.userEmail=e}},actions:{SAVE_MAIN_SETTINGS({state:{userEmail:t,selectionLists:e},rootState:{subsiteId:n}}){const s={email:t};for(const t in e)s[t]=e[t].selected;Object(x.c)({url:"/subsite/save_user_main_settings/"+n,data:s,success({message:t}){Object(v.success)(t)}})}}};var ot={createState:function(t){return Object.assign({internal:{},email:{}},t)},getters:{},mutations:{UPDATE_RELATED_NOTIFICATIONS(t,{value:e,checkbox:n,type:s,relatedType:i}){const a=t[s][n];a.value=e,a.relationOff&&!1===e&&(t[i][a.relationOff].value=e),a.relationOn&&!0===e&&(t[i][a.relationOn].value=e)}},actions:{SAVE_NOTIFICATIONS_SETTINGS({state:{internal:t,email:e},rootState:{subsiteId:n}}){const s={email_notifications:{},internal_notifications:{}};for(const e in t)s.internal_notifications[t[e].id]=t[e].value;for(const t in e)s.email_notifications[e[t].id]=e[t].value;Object(x.c)({url:"/subsite/save_user_notifications_settings/"+n,data:s,success({message:t}){Object(v.success)(t)}})}}};var rt={createState:function(t){return Object.assign({gender:{},profile:{}},t)},getters:{},mutations:{},actions:{SAVE_MANAGING_SETTINGS({state:{gender:t,profile:e},rootState:{subsiteId:n}}){const s={gender:t.selected};for(const t in e)s[t]=e[t].value;Object(x.c)({url:"/subsite/save_user_managing_settings/"+n,data:s,success({message:t}){Object(v.success)(t)}})}}};var lt={createState:function(t){return Object.assign({isActivePlus:!1,paidUntil:"",daysLeft:0,price:"",canEditName:!1,isExpiredDateForChangeName:!1,nameChangeNextDate:0,userDescription:"",cardLastFour:"",benefits:{},newUserName:"",recurringOptions:{}},t)},getters:{},mutations:{UPDATE_USER_DESCRIPTION(t,e){t.userDescription=e},SET_NEW_USER_NAME(t,e){t.newUserName=e}},actions:{SAVE_PLUS_SETTINGS({state:{benefits:t,userDescription:e,canEditName:n,newUserName:s},rootState:{subsiteId:i,userName:a}}){const o={description:e};n&&""!==s&&s!==a&&(o.name=s);for(const e in t)o[e]=t[e].value;Object(x.c)({url:"/subsite/save_user_plus_settings/"+i,data:o,success({message:t}){Object(v.success)(t)}})},GIFT_ACCOUNT({rootState:{subsiteId:t}},e){const n=Object(st.c)("Done");Object(x.c)({url:"/payments/account/gift",data:{subsite_id:t,period:e,mode:"raw"},success(){Object(v.success)(n)}})}}};var ct={createState:function(t){return Object.assign({ignoredSubsites:[],ignoredHashtags:[],searchUrl:"/search-subsite"},t)},getters:{GET_IGNORED_SUBSITES:t=>t.ignoredSubsites.reduce((t,e)=>{const{additionalData:n}=e;return n&&n.url&&t.push({...e,url:n.url}),t},[])},mutations:{ADD_HASHTAG_TO_IGNORED_HASHTAG_LIST({ignoredHashtags:t},e){t.push({label:e})},REMOVE_HASHTAG_FROM_IGNORED_HASHTAG_LIST({ignoredHashtags:t},e){t.splice(t.findIndex(t=>t.label===e),1)},ADD_SUBSITE_TO_IGNORED_SUBSITE_LIST({ignoredSubsites:t},e){t.unshift({...e,url:e.additionalData.url})},REMOVE_SUBSITE_FROM_IGNORED_SUBSITE_LIST({ignoredSubsites:t},e){t.splice(t.findIndex(t=>t.value===e),1)}},actions:{UPDATE_HASHTAG_LIST({state:{ignoredHashtags:t},commit:e,dispatch:n},s){t.some(t=>t.label===s)?Object(v.error)(Object(st.c)("Hashtag or word is already in the blocklist")):(e("ADD_HASHTAG_TO_IGNORED_HASHTAG_LIST",s),n("SAVE_IGNORED_HASHTAGS"))},UPDATE_SUBSITE_LIST({state:{ignoredSubsites:t},commit:e,dispatch:n},s){t.some(t=>t.value===s.value)?Object(v.error)(Object(st.c)("User is already in the blocklist")):(e("ADD_SUBSITE_TO_IGNORED_SUBSITE_LIST",s),n("SAVE_IGNORED_SUBSITES"))},SAVE_IGNORED_HASHTAGS({state:{ignoredHashtags:t},rootState:{subsiteId:e}}){const n={ignoredHashtags:t.map(t=>t.label)};Object(x.c)({url:"/subsite/save_user_ignored_hashtags_settings/"+e,data:n})},SAVE_IGNORED_SUBSITES({state:{ignoredSubsites:t},rootState:{subsiteId:e}}){const n={ignoredSubsites:t.map(t=>t.value)};Object(x.c)({url:"/subsite/save_user_ignored_subsites_settings/"+e,data:n})}}};i.a.use(nt.a);const dt={GET_SETTINGS_NAVIGATION:({availableSettings:t,navigationItems:e})=>({path:n})=>{const s=[];return e.forEach(e=>{t[e]&&s.push({...t[e],active:t[e].url===n})}),s}},ut={UPDATE_COMMENT_IN_NAVIGATION({availableSettings:t,plus:{daysLeft:e,isActivePlus:n,price:s}}){let i="";i=n?`${e} ${Object(st.a)("day","days",e)}`:s,t.plus.comment=i}},ht={GET_API_TOKEN(){Object(x.b)({url:"/magic/getapitoken",success({active:t,token:e,date_expires:n}){Object(L.show)({name:"get_api_token",data:{active:t?Object(st.c)("Yes"):Object(st.c)("No"),token:e,date_expires:n}})}})}};var pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-settings l-page l-page--content-sidebar l-mt-20 l-mb-20"},[n("div",{staticClass:"l-page__content"},[n("div",{staticClass:"user-settings__content l-island-bg l-island-round v-island"},[n("mobile-navbar",{staticClass:"user-settings__mobile-navbar",attrs:{"subsite-name":t.pageName,"subsite-url":t.subsiteUrl,"is-plus-page":t.isPlusPage},on:{goBack:t.goBack}}),t._v(" "),n("settings-header",{staticClass:"user-settings__header",attrs:{url:t.subsiteUrl,text:t.$store.state.userName}}),t._v(" "),n("div",{staticClass:"user-settings__container"},[n("router-view")],1)],1)]),t._v(" "),n("div",{staticClass:"user-settings__sidebar l-page__sidebar"},[n("sticky-sidebar",{staticClass:"user-settings__sticky-container"},[n("sidebar-navigation",{staticClass:"user-settings__navigation",attrs:{items:t.settingsNavigation,title:t.$gettext("Settings"),"is-router":!0}}),t._v(" "),n("div",{staticClass:"user-settings__dev-tools",on:{click:t.getApiToken}},[n("translate",[t._v("\n          Developer tools\n        ")])],1)],1)],1)])};pt._withStripped=!0;var mt=n(726),gt=n(651),ft=n(727),_t={name:"user-settings",components:{StickySidebar:mt.a,SidebarNavigation:p.a,SettingsHeader:gt.a,MobileNavbar:ft.a},data:()=>({moduleAjaxify:null}),computed:{subsiteUrl(){return this.$store.state.subsiteUrl},settingsNavigation(){return this.$store.getters.GET_SETTINGS_NAVIGATION(this.$route.path)},pageName(){return this.$route.path===u.c.Navigation?this.$store.state.userName:this.$store.state.availableSettings[this.$route.name].label},isPlusPage(){return"plus"===this.$route.name}},created(){this.moduleAjaxify=Air.import("module.ajaxify"),this.$store.commit("UPDATE_COMMENT_IN_NAVIGATION")},methods:{goBack(){this.$route.path===u.c.Navigation?this.moduleAjaxify.goTo(this.subsiteUrl):this.$router.push(u.c.Navigation)},getApiToken(){this.$store.dispatch("GET_API_TOKEN")}}},bt=(n(1447),Object(g.a)(_t,pt,[],!1,null,"7b1cabee",null));bt.options.__file="src/Components/Subsite/vue/settings/user/index.vue";var vt=bt.exports;class xt{constructor({container:t}){this.container=t,this.params=null,this.store=null,this.router=null,this.app=null,this.prepareParams(),this.prepareRouter(),this.init()}prepareParams(){const t=this.container.querySelector("textarea");try{this.params=t?JSON.parse(t.textContent):{},this.store=function({common:t,main:e,plus:n,notifications:s,blocklist:i,managing:a}){return new nt.a.Store({state:(o=t,Object.assign({navigationItems:[],availableSettings:{main:{label:Object(st.c)("Main"),url:u.c.Main,icon:"v_gear",caption:`${Object(st.c)("Login options")}, ${Object(st.c)("Default feed")}`},plus:{label:Object(st.c)("Functions"),url:u.c.Plus,icon:"v_diamond",comment:"22 дня",isPlus:!0,caption:`${Object(st.c)("Nickname")}, ${Object(st.c)("Description")}, ${Object(st.c)("Benefits")}`},notifications:{label:Object(st.c)("Notifications"),url:u.c.Notifications,icon:"v_bell",caption:Object(st.c)("Site notifications and mail")},blocklist:{label:Object(st.c)("Blocklist"),url:u.c.Blocklist,icon:"v_ban",caption:Object(st.c)("Filter by words and users")},managing:{label:Object(st.c)("Managing"),url:u.c.Managing,icon:"v_etc",caption:Object(st.c)("More power, more responsibility")}},subsiteUrl:"",userName:"",subsiteId:"",isMe:!1,isGlobalAdmin:!1,cdnPath:"",cdnVersion:""},o)),getters:dt,mutations:ut,actions:ht,modules:{main:Object(it.a)(at,e),notifications:Object(it.a)(ot,s),managing:Object(it.a)(rt,a),plus:Object(it.a)(lt,n),blocklist:Object(it.a)(ct,i)}});var o}(this.params)}catch(t){console.error("UserSettings params prepare:",t)}}prepareRouter(){const t=new URL(this.params.common.subsiteUrl+"/settings");this.router=function({base:t,navigationItems:e}){const n={routes:et.filter(t=>e.includes(t.name)),mode:"history",scrollBehavior:()=>({x:0,y:0})};return d.e.is("mobile")?(n.routes.push({path:u.c.Navigation,component:_,name:"navigation"}),n.routes.push({path:"/",redirect:u.c.Navigation})):n.routes.push({path:"/",redirect:u.c.Main}),new c.a({...n,base:t})}({base:t.pathname,navigationItems:this.params.common.navigationItems})}init(){i.a.use(o.a,{translations:l,defaultLanguage:window.__i18nLocale}),i.a.use(r.a,{observer:!0}),this.app=new i.a({el:this.container,router:this.router,store:this.store,render:t=>t(vt)});const t=window.Air&&window.Air.get("module.hawk");t&&t.connectVue(i.a)}destroy(){this.app&&(this.app.$destroy(),this.app=null),this.router=null,this.store=null,this.params=null}}},613:function(t,e,n){"use strict";function s(t,e={}){return{state:t.createState(e),getters:t.getters,mutations:t.mutations,actions:t.actions}}n.d(e,"a",(function(){return s}))},641:function(t,e,n){"use strict";var s=function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"footer",class:["settings-footer","l-island-bg",{"settings-footer--has-divider":this.hasDivider}]},[this._t("default")],2)};s._withStripped=!0;var i={name:"settings-footer",data:()=>({hasDivider:!1}),created(){window.addEventListener("scroll",this.scrollHandler)},mounted(){this.scrollHandler(),this.$emit("onHeight",this.$refs.footer.offsetHeight)},beforeDestroy(){window.removeEventListener("scroll",this.scrollHandler)},methods:{scrollHandler(){this.hasDivider=document.body.getBoundingClientRect().bottom>window.innerHeight+20}}},a=(n(820),n(10)),o=Object(a.a)(i,s,[],!1,null,"0eeda8cc",null);o.options.__file="src/Components/Subsite/vue/settings/settings-footer.vue";e.a=o.exports},642:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var s=n(2),i=n(5),a=n(1),o=n(31);function r(t){let e=t.split(".").pop();return e.includes("?")&&(e=e.substring(0,e.indexOf("?"))),["js","css"].includes(e)?new Promise((n,s)=>{if("js"===e)Object(o.a)(t,e=>{e?n(t):s("Failed to load resource: "+t)});else if(null===function(t){const e=document.getElementsByTagName("link");for(let n=0,s=e.length;n<s;n++)if(e[n].href.indexOf(t)>=0)return e[n];return null}(t)){const e=document.createElement("link");e.rel="stylesheet",e.href=t,e.onload=()=>{n(t)},e.onerror=()=>{s("Failed to load resource: "+t)},document.getElementsByTagName("head")[0].appendChild(e)}else n(t)}):Promise.reject("Unsupported file extension: "+e)}class l{constructor({holder:t,editorSettings:e,onReady:n,cdnPath:i,cdnVersion:a,plugins:o,customToolsConfig:r,onChange:l,onBeforeRender:c,onParagraphKeydown:d,externalTools:u}){this.holder=t,this.editorSettings=e,this.cdnVersion=a,this.plugins=o,this.customToolsConfig=r||{},this.onChange=l,this.onReady=n,this.onBeforeRender=c,this.onParagraphKeydown=d,this.externalTools=u||[],document.location.hostname.includes("osnova.io")?this.cdn="//staging.paragraph.osnova.io/":i?this.cdn=i:(s.warn("codex","CDN path for the CodeX Editor does not specified"),this.cdn="//static-osnova.gcdn.co/paragraph-2/"),this.editor=void 0,this.editorLoading=this.loadSources().then(()=>(s.log("codex","All resources loaded"),this.renderEditor())).then(()=>{s.log("codex","Initialised, version: "+this.editor.version),"function"==typeof this.onReady&&this.onReady(!0)}).catch(t=>{s.error("codex","Initialization failed because of:",t)})}loadSources(){const t=this.externalTools.length?this.externalTools:this.plugins,e=[r(this.cdn+"dist/codex-editor.js?v="+this.cdnVersion),r(this.cdn+"dist/codex-editor.css?v="+this.cdnVersion),...this.loadPlugins(t)];return Promise.all(e).catch(t=>{throw Object(i.error)(Object(a.c)("Editor is unavailable. Try to reload the page.")),Error(t)})}loadPlugins(t){const e=[];return t.forEach(t=>{e.push(r(this.cdn+"plugins/"+t+"/"+t+".js?v="+this.cdnVersion),r(this.cdn+"plugins/"+t+"/"+t+".css?v="+this.cdnVersion))}),e}getBaseToolsConfig(){const t={};return this.plugins.includes("paragraph")&&Paragraph&&(t.text={class:Paragraph},"function"==typeof this.onParagraphKeydown&&(t.text.keydownCallback=this.onParagraphKeydown),this.customToolsConfig&&this.customToolsConfig.text&&(t.text=Object.assign(t.text,this.customToolsConfig.text))),t}renderEditor(){const t=this.getBaseToolsConfig();"function"==typeof this.onBeforeRender&&this.onBeforeRender(t);let e={holder:this.holder,initialBlockPlugin:"text",settings:this.editorSettings,visibleToolsLimit:10,notifications:{alert:i.show},data:{items:[],count:0},tools:t,modifyCallback:()=>{this.save().then(t=>{"function"==typeof this.onChange&&this.onChange(t)})}};return this.editorSettings&&(e=Object.assign(e,this.editorSettings)),this.editor=new window.CodexEditor(e),this.editor.isReady}fill(t){this.editor.fill(t)}save(){return this.editor.save()}focus(t){t?this.editor.insertBlockBefore(1,!0):this.editor.focus()}destroy(){this.editor&&this.editor.destroy({ui:!0})}}},651:function(t,e,n){"use strict";var s=function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"settings-header",attrs:{href:this.url}},[e("icon",{staticClass:"settings-header__icon",attrs:{name:"v_arrow_left",width:20,height:20}}),this._v(" "),this.label?e("span",{staticClass:"settings-header__text"},[this._v("\n    "+this._s(this.label)+"\n  ")]):this._e()],1)};s._withStripped=!0;var i={name:"settings-header",components:{Icon:n(26).a},props:{url:{type:String,default:""},text:{type:String,default:""}},data(){return this.label=this.text,{}}},a=(n(818),n(10)),o=Object(a.a)(i,s,[],!1,null,"19bb8f8c",null);o.options.__file="src/Components/Subsite/vue/settings/settings-header.vue";e.a=o.exports},700:function(t,e,n){var s=n(811);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,n(29).default)("081c4eee",s,!1,{})},701:function(t,e,n){var s=n(813);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,n(29).default)("3e6822db",s,!1,{})},702:function(t,e,n){var s=n(815);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,n(29).default)("6f122837",s,!1,{})},703:function(t,e,n){var s=n(817);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,n(29).default)("1f11e33a",s,!1,{})},704:function(t,e,n){var s=n(819);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,n(29).default)("0912d73f",s,!1,{})},705:function(t,e,n){var s=n(821);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,n(29).default)("00c4e69e",s,!1,{})},706:function(t,e,n){var s=n(823);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,n(29).default)("15d9c528",s,!1,{})},810:function(t,e,n){"use strict";n(700)},811:function(t,e,n){(e=n(28)(!1)).push([t.i,".textarea-formatted[data-v-10d4ad50] {\n  position: relative;\n  width: 100%;\n  padding: 8px 0;\n}\n.textarea-formatted--disabled[data-v-10d4ad50] {\n  pointer-events: none;\n  color: #bfbfbf;\n}\n.textarea-formatted--disabled .textarea-formatted__container[data-v-10d4ad50] .ce-block__content a,\n.textarea-formatted--disabled .textarea-formatted__container[data-v-10d4ad50] .ce-block__content mark {\n  color: #bfbfbf;\n  border-color: #bfbfbf;\n}\n.textarea-formatted__countdown[data-v-10d4ad50] {\n  position: absolute;\n  right: 12px;\n  bottom: 8px;\n  font-size: 12px;\n  color: rgba(0,0,0,0.6);\n}\n.textarea-formatted__container[data-v-10d4ad50] {\n  width: 100%;\n}\n.textarea-formatted__container[data-v-10d4ad50] .ce-block--empty .ce-paragraph::before {\n  visibility: hidden;\n}\n.textarea-formatted__container[data-v-10d4ad50] .ce-block--empty:only-child .ce-paragraph::before {\n  visibility: visible;\n}\n.textarea-formatted__container[data-v-10d4ad50] .ce-block__content {\n  padding: 0 !important;\n}\n.textarea-formatted__container[data-v-10d4ad50] .ce-paragraph {\n  padding: 0 12px !important;\n  font-size: 16px;\n  line-height: 24px;\n}\n.textarea-formatted__container[data-v-10d4ad50] .ce-paragraph p {\n  margin: 0;\n  display: inline-block;\n  word-break: break-word;\n}\n.textarea-formatted__container[data-v-10d4ad50] .ce-paragraph b {\n  font-weight: bold;\n}\n.textarea-formatted__container[data-v-10d4ad50] .ce-paragraph i {\n  font-style: italic;\n}\n.textarea-formatted__container[data-v-10d4ad50] .ce-block {\n  margin: 0;\n}\n.textarea-formatted__container[data-v-10d4ad50] .ce-block + .ce-block.ce-block--empty .ce-paragraph::before {\n  content: '';\n}\n.textarea-formatted__container[data-v-10d4ad50] .marked-text {\n  padding: 2px 0 3px;\n  background: -webkit-gradient(linear, left bottom, left top, from(rgba(255,255,255,0.3)), to(rgba(255,255,255,0.3))), -webkit-gradient(linear, left bottom, left top, from(rgba(255,255,255,0.82)), to(rgba(255,255,255,0.82))), #27e;\n  background: linear-gradient(0deg, rgba(255,255,255,0.3), rgba(255,255,255,0.3)), linear-gradient(0deg, rgba(255,255,255,0.82), rgba(255,255,255,0.82)), #27e;\n  mix-blend-mode: multiply;\n  border-radius: 2px;\n}\n.textarea-formatted__container[data-v-10d4ad50] .codex-editor__bottom {\n  height: 40px;\n}\n",""]),t.exports=e},812:function(t,e,n){"use strict";n(701)},813:function(t,e,n){(e=n(28)(!1)).push([t.i,".v-hashtag {\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n  -ms-flex-align: center;\n  align-items: center;\n  border-radius: 6px;\n  overflow: hidden;\n  margin-top: 8px;\n  max-width: 100%;\n  background: -webkit-gradient(linear, left bottom, left top, from(rgba(255,255,255,0.75)), to(rgba(255,255,255,0.75))), -webkit-gradient(linear, left bottom, left top, from(rgba(255,85,119,0.6)), to(rgba(255,85,119,0.6))), #fff;\n  background: linear-gradient(0deg, rgba(255,255,255,0.75), rgba(255,255,255,0.75)), linear-gradient(0deg, rgba(255,85,119,0.6), rgba(255,85,119,0.6)), #fff;\n}\n.v-hashtag:not(:last-child) {\n  margin-right: 8px;\n}\n.v-hashtag__text {\n  padding: 4px 5px 4px 8px;\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 20px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.v-hashtag__close-button {\n  display: -ms-flexbox;\n  display: flex;\n  position: relative;\n  padding: 6px 8px 6px 5px;\n  margin: 0 0 0 1px;\n  cursor: pointer;\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  background: transparent;\n}\n.v-hashtag__close-button::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: -1px;\n  width: 1px;\n  height: 100%;\n  background-color: #fff;\n}\n",""]),t.exports=e},814:function(t,e,n){"use strict";n(702)},815:function(t,e,n){(e=n(28)(!1)).push([t.i,".show-all-button {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n  margin: 12px 0 0;\n  padding: 0;\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  cursor: pointer;\n  background: transparent;\n  color: #3766a9;\n}\n.show-all-button__text {\n  font-size: 16px;\n  line-height: 24px;\n}\n.show-all-button__icon {\n  fill: currentColor;\n  display: none;\n}\n@media (max-width: 999px) {\n.show-all-button__icon {\n    display: block;\n    margin-left: 4px;\n    margin-bottom: -1px;\n}\n}\n",""]),t.exports=e},816:function(t,e,n){"use strict";n(703)},817:function(t,e,n){(e=n(28)(!1)).push([t.i,".settings-hashtags__field-container[data-v-90bf1f34] {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: justify;\n  justify-content: space-between;\n  margin-bottom: 4px;\n}\n.settings-hashtags__field-container .v-field[data-v-90bf1f34] {\n  width: 100%;\n}\n.settings-hashtags__add-button[data-v-90bf1f34] {\n  margin-left: 12px;\n}\n",""]),t.exports=e},818:function(t,e,n){"use strict";n(704)},819:function(t,e,n){(e=n(28)(!1)).push([t.i,".settings-header[data-v-19bb8f8c] {\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n  -ms-flex-align: center;\n  align-items: center;\n  padding-top: 1px;\n  color: rgba(0,0,0,0.65);\n}\n.settings-header__text[data-v-19bb8f8c] {\n  margin-left: 4px;\n  font-size: 16px;\n  line-height: 1.5em;\n}\n",""]),t.exports=e},820:function(t,e,n){"use strict";n(705)},821:function(t,e,n){(e=n(28)(!1)).push([t.i,".settings-footer[data-v-0eeda8cc] {\n  position: -webkit-sticky;\n  position: sticky;\n  z-index: 4;\n  bottom: 0;\n  padding: 20px;\n  margin-top: 8px;\n  margin-left: -20px;\n  margin-right: -20px;\n  border-bottom-left-radius: 8px;\n  border-bottom-right-radius: 8px;\n}\n.settings-footer--has-divider[data-v-0eeda8cc] {\n  z-index: 10;\n  border-top: 1px solid rgba(0,0,0,0.1);\n}\n@media (max-width: 999px) {\n.settings-footer[data-v-0eeda8cc] {\n    padding: 16px;\n    margin-left: -16px;\n    margin-right: -16px;\n}\n}\n",""]),t.exports=e},822:function(t,e,n){"use strict";n(706)},823:function(t,e,n){(e=n(28)(!1)).push([t.i,".settings-list-subsites[data-v-dfc10b28] {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n  flex-direction: column;\n}\n.settings-list-subsites__container[data-v-dfc10b28] {\n  margin-top: 20px;\n}\n.settings-list-subsites__container[data-v-dfc10b28] .v-list-subsites {\n  padding-bottom: 20px;\n}\n.settings-list-subsites__container[data-v-dfc10b28] .v-list-subsites__more {\n  display: none;\n}\n.settings-list-subsites__container--has-more-button[data-v-dfc10b28] .v-list-subsites__more {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n  margin-top: 16px;\n}\n.settings-list-subsites__container--has-more-button[data-v-dfc10b28] .v-list-subsites__more svg {\n  display: none;\n  margin-left: 4px;\n}\n@media (max-width: 999px) {\n.settings-list-subsites__container--has-more-button[data-v-dfc10b28] .v-list-subsites__more svg {\n    display: block;\n}\n}\n",""]),t.exports=e},828:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings-hashtags"},[n("div",{staticClass:"settings-hashtags__field-container"},[n("text-input",{attrs:{placeholder:t.placeholder},on:{enter:t.onAdd},model:{value:t.hashtag,callback:function(e){t.hashtag=e},expression:"hashtag"}}),t._v(" "),n("layout-button",{staticClass:"settings-hashtags__add-button",on:{click:t.onAdd}},[n("translate",[t._v("\n        Add\n      ")])],1)],1),t._v(" "),n("hashtag-container",{attrs:{items:t.items},on:{onRemove:t.onRemove}})],1)};s._withStripped=!0;var i=n(90),a=n(54),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"container",staticClass:"hashtag-container"},[n("div",t._l(t.list,(function(e){return n("hashtag",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"item.isActive"}],key:e.id,ref:"hashtagItem",refInFor:!0,attrs:{label:e.label},on:{onRemove:t.onRemove}})})),1),t._v(" "),t.isNeedButton?n("button",{staticClass:"show-all-button",on:{click:t.clearLimit}},[n("span",{staticClass:"show-all-button__text"},[n("translate",{attrs:{"translate-context":"Показать все"}},[t._v("\n        Show all\n      ")])],1),t._v(" "),n("icon",{staticClass:"show-all-button__icon",attrs:{name:"v_chevron_down",width:16,height:16}})],1):t._e()])};o._withStripped=!0;var r=n(26),l=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"v-hashtag"},[e("div",{staticClass:"v-hashtag__text",attrs:{title:this.label}},[this._v("\n    "+this._s(this.label)+"\n  ")]),this._v(" "),e("button",{staticClass:"v-hashtag__close-button",on:{click:this.onRemove}},[e("icon",{attrs:{name:"v_close",width:16,height:16}})],1)])};l._withStripped=!0;var c={name:"hashtag",components:{Icon:r.a},props:{label:{type:String,required:!0}},methods:{onRemove(){this.$emit("onRemove",this.label)}}},d=(n(812),n(10)),u=Object(d.a)(c,l,[],!1,null,null,null);u.options.__file="src/Components/Ui/vue/hashtag/index.vue";var h=u.exports,p={name:"hashtag-container",components:{Icon:r.a,Hashtag:h},props:{items:{type:Array,required:!0}},data:()=>({limit:null,hashtagArr:[]}),computed:{list(){return this.items.map(({id:t,label:e},n)=>({id:t,label:e,isActive:!this.limit||n<this.limit}))},isNeedButton(){return this.limit&&this.limit<this.items.length}},mounted(){this.recalculateLimit()},beforeDestroy(){this.hashtagArr=null,this.clearLimit()},methods:{onRemove(t){this.isNeedButton&&(this.clearLimit(),this.$nextTick(()=>{this.recalculateLimit()})),this.$emit("onRemove",t)},recalculateLimit(){if(this.hashtagArr=this.$refs.hashtagItem,this.hashtagArr){this.limit=0;const t=this.$refs.container.offsetWidth;let e=0;for(let n=0;n<this.hashtagArr.length;n++)if(e+=this.hashtagArr[n].$el.offsetWidth+parseInt(getComputedStyle(this.hashtagArr[n].$el,!0).marginRight),e<t)this.limit+=1;else{if(0!==this.limit)break;this.limit=1}e<t&&this.clearLimit()}},clearLimit(){this.limit=null}}},m=(n(814),Object(d.a)(p,o,[],!1,null,null,null));m.options.__file="src/Components/Ui/vue/hashtag/hashtag-container.vue";var g=m.exports,f={name:"settings-hashtags",components:{TextInput:i.default,LayoutButton:a.a,HashtagContainer:g},props:{items:{type:Array,required:!0},placeholder:{type:String,default:""}},data:()=>({hashtag:""}),methods:{onAdd(){""!==this.hashtag&&(this.$emit("onAdd",this.hashtag),this.hashtag="")},onRemove(t){this.$emit("onRemove",t)}}},_=(n(816),Object(d.a)(f,s,[],!1,null,"90bf1f34",null));_.options.__file="src/Components/Subsite/vue/settings/settings-hashtags.vue";e.a=_.exports},839:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("field",{attrs:{icons:{},"is-focused":t.isFocused,"is-disabled":t.isDisabled}},[n("div",{class:["textarea-formatted",{"textarea-formatted--disabled":t.isDisabled}]},[n("div",{ref:"textareaEditor",staticClass:"textarea-formatted__container"}),t._v(" "),t.maxlength?n("div",{staticClass:"textarea-formatted__countdown"},[t._v("\n      "+t._s(t.symbolsLeft)+"\n    ")]):t._e()])])};s._withStripped=!0;var i=n(9),a=n(642),o={name:"textarea-formatted",components:{Field:n(44).b},model:{prop:"value",event:"input"},props:{value:{type:[Object,String],default:()=>({blocks:[]})},cdnPath:{type:String,required:!0},cdnVersion:{type:String,required:!0},placeholder:{type:String,default(){return this.$gettext("Write a text or paste a link")}},maxlength:{type:Number,default:null},isDisabled:{type:Boolean,default:!1}},data(){return{textareaEditorInstance:null,symbolsLeft:this.maxlength}},computed:{isFocused(){return!(!this.textareaEditorInstance||!this.textareaEditorInstance.editor)&&this.textareaEditorInstance.editor.editor.state.isEditorFocused}},mounted(){const t={holder:this.$refs.textareaEditor,cdnPath:this.cdnPath,cdnVersion:this.cdnVersion,editorSettings:{hideToolbar:!0},customToolsConfig:{text:{config:{placeholder:this.placeholder}}},plugins:["paragraph"],onChange:this.onChange};this.textareaEditorInstance=new a.a(t),this.textareaEditorInstance.editorLoading.then(()=>{this.textareaEditorInstance.fill({items:this.prepareValueForFill(this.value)}),this.$emit("ready")}),this.maxlength&&(this.symbolsLeft=this.calcSymbolsLeft(this.value))},beforeDestroy(){this.textareaEditorInstance&&this.textareaEditorInstance.destroy()},methods:{onChange(t){const e={blocks:t,stringFormat:this.prepareBlocksToStringFormat(t)};this.maxlength&&(this.symbolsLeft=this.calcSymbolsLeft({blocks:t}),e.symbolsLeft=this.symbolsLeft),this.$emit("input",e)},calcSymbolsLeft(t){if(t.blocks&&t.blocks.length){let e=0;return t.blocks.forEach(t=>{e+=Object(i.stripHtml)(t.data.text).length}),this.maxlength-e}return"string"==typeof t&&""!==t?this.maxlength-Object(i.stripHtml)(t).length:this.maxlength},prepareValueForFill(t){if(t.blocks)return t.blocks;return t.split("</p>").filter(t=>""!==t).map(t=>({type:"text",data:{text:t+"</p>"}}))},prepareBlocksToStringFormat(t){let e="";return t.forEach(t=>{e+=t.data.text||""}),e}}},r=(n(810),n(10)),l=Object(r.a)(o,s,[],!1,null,"10d4ad50",null);l.options.__file="src/Components/Ui/vue/textarea-formatted/index.vue";e.a=l.exports},840:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings-list-subsites"},[n("text-input",{staticClass:"settings-list-subsites__input",attrs:{placeholder:t.placeholder,"search-url":t.searchUrl,autocomplete:{url:t.searchUrl},minlength:3},on:{autocomplete:t.onSelect},model:{value:t.searchUser,callback:function(e){t.searchUser=e},expression:"searchUser"}}),t._v(" "),n("div",{class:["settings-list-subsites__container",{"settings-list-subsites__container--has-more-button":Boolean(t.limitItems)}]},[n("layout-list-subsites",{attrs:{items:t.filteredItems,"etc-controls":t.etcControls,columns:1,"more-items-label":t.showMoreButtonLabel},on:{more:t.showMore}})],1)],1)};s._withStripped=!0;var i=n(90),a=n(623),o={name:"settings-list-subsites",components:{TextInput:i.default,LayoutListSubsites:a.a},props:{placeholder:{type:String,default:""},searchUrl:{type:String,default:""},limit:{type:Number,default:3},items:{type:Array,default:()=>[]},etcControls:{type:Array,default:()=>[]},moreItemsLabel:{type:String,default:""}},data(){return{limitItems:this.items.length>this.limit?this.limit:null,searchUser:""}},computed:{filteredItems(){return this.items.filter((t,e)=>this.limitItems&&e<this.limitItems||!this.limitItems)},showMoreButtonLabel(){return this.limitItems&&this.items.length>this.limitItems?this.moreItemsLabel:""}},methods:{onSelect(t){this.searchUser="",this.$emit("onSelect",t)},showMore(){this.limitItems=null}}},r=(n(822),n(10)),l=Object(r.a)(o,s,[],!1,null,"dfc10b28",null);l.options.__file="src/Components/Subsite/vue/settings/settings-list-subsites.vue";e.a=l.exports}}]);