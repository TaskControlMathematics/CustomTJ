(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{1056:function(t,e,n){"use strict";n(820)},1057:function(t,e,n){(e=n(30)(!1)).push([t.i,".subsite-card {\n  --avatar-size: 40px;\n  font-size: 16px;\n  line-height: 1.5em;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n}\n@media (max-width: 859px) {\n.subsite-card {\n    --avatar-size: 32px;\n    -ms-flex-direction: column;\n    flex-direction: column;\n    -ms-flex-align: start;\n    align-items: flex-start;\n    font-size: 12px;\n}\n}\n.subsite-card__main {\n  display: grid;\n  -ms-flex-align: center;\n  align-items: center;\n  grid-template-columns: var(--avatar-size) 1fr;\n  grid-template-rows: 1fr auto;\n  grid-gap: 0 12px;\n  -ms-flex: 1;\n  flex: 1;\n  min-height: 36px;\n}\n@media (min-width: 860px) {\n.subsite-card__main {\n    min-height: 49px;\n}\n}\n.subsite-card__author-info {\n  overflow: hidden;\n}\n.subsite-card__actions {\n  -ms-flex-negative: 0;\n  flex-shrink: 0;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n  margin-top: -1px;\n}\n@media (min-width: 860px) {\n.subsite-card__actions {\n    margin-left: 18px;\n}\n}\n@media (max-width: 859px) {\n.subsite-card__actions {\n    width: 100%;\n    margin-top: 15px;\n}\n}\n.subsite-card__actions .v-button {\n  --height: 38px;\n  --font-size: 16px;\n}\n@media (max-width: 859px) {\n.subsite-card__actions .v-button {\n    --height: 30px;\n    --font-size: 14px;\n}\n}\n.subsite-card__actions .v-subscribe-button--with-notifications {\n  grid-gap: 18px;\n}\n.subsite-card__actions .v-subscribe-button--state-active .v-subscribe-button__subscribe {\n  display: none;\n}\n@media (max-width: 859px) {\n.subsite-card__actions .v-subscribe-button--state-inactive {\n    -ms-flex: 1;\n    flex: 1;\n}\n}\n.subsite-card__avatar {\n  grid-row: span 2;\n  width: var(--avatar-size);\n  padding-bottom: 100%;\n  -webkit-box-shadow: inset 0 0 0 1px rgba(0,0,0,0.1);\n  box-shadow: inset 0 0 0 1px rgba(0,0,0,0.1);\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n  border-radius: 7px;\n  margin-top: -1px;\n}\n.subsite-card__description {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  line-height: 1.4em;\n}\n.subsite-card__messenger:not(:last-child) {\n  margin-right: 18px;\n}\n@media (max-width: 859px) {\n.subsite-card__messenger {\n    -ms-flex: 1;\n    flex: 1;\n}\n}\n.subsite-card-title {\n  --items-gap: 12px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: baseline;\n  align-items: baseline;\n  min-width: 0;\n}\n@media (max-width: 859px) {\n.subsite-card-title {\n    --items-gap: 8px;\n}\n}\n.subsite-card-title__item {\n  -ms-flex-negative: 0;\n  flex-shrink: 0;\n}\n.subsite-card-title__item:not(:last-child) {\n  margin-right: var(--items-gap);\n}\n.subsite-card-title__item--name {\n  font-size: 18px;\n  line-height: 1.44em;\n  font-weight: 500;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  -ms-flex-negative: 1;\n  flex-shrink: 1;\n}\n@media (max-width: 859px) {\n.subsite-card-title__item--name {\n    font-size: 14px;\n    line-height: 1.3em;\n}\n}\n.subsite-card-title__item--name + .subsite-card-title__item--verified {\n  margin-left: -5px;\n}\n.subsite-card-title__item--verified {\n  margin-top: -1px;\n}\n.subsite-card-title__item--verified,\n.subsite-card-title__item--plus {\n  -ms-flex-item-align: center;\n  align-self: center;\n}\n.subsite-card-title__item--verified .icon,\n.subsite-card-title__item--plus .icon {\n  display: block;\n}\n",""]),t.exports=e},1663:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"subsite-card"},[n("div",{staticClass:"subsite-card__main"},[n("a",{staticClass:"subsite-card__avatar",style:{"background-image":"url('"+t.avatarUrl+"')"},attrs:{href:t.url}}),t._v(" "),n("div",{staticClass:"subsite-card__author-info"},[n("div",{staticClass:"subsite-card-title"},[n("a",{staticClass:"subsite-card-title__item subsite-card-title__item--name",attrs:{href:t.url}},[t._v("\n          "+t._s(t.name)+"\n        ")]),t._v(" "),t.isVerified?n("div",{staticClass:"subsite-card-title__item subsite-card-title__item--verified"},[n("icon",{attrs:{name:"ui_verified",width:"14"}})],1):t._e(),t._v(" "),t.isPlus?n("div",{staticClass:"subsite-card-title__item subsite-card-title__item--plus"},[n("layout-plus-badge",{attrs:{size:"small"}})],1):t._e(),t._v(" "),t.karma?n("div",{staticClass:"subsite-card-title__item subsite-card-title__item--karma"},[n("layout-number-change",{attrs:{value:t.karma,colored:["positive","negative"]}})],1):t._e()]),t._v(" "),t.description?n("div",{staticClass:"subsite-card__description"},[t._v("\n        "+t._s(t.description)+"\n      ")]):t._e()])]),t._v(" "),t.isMe?t._e():n("div",{staticClass:"subsite-card__actions"},[t.isShowMessengerButton?n("layout-button",{staticClass:"subsite-card__messenger",attrs:{icon:"icon-messenger","icon-size":[21,19],"desktop-layout":["icon"]},on:{click:function(e){t.openMessengerWindow(t.id.toString())}}},[n("translate",[t._v("\n        Write\n      ")])],1):t._e(),t._v(" "),n("layout-subscribe-button",{attrs:{"subsite-id":t.id,"initial-button-type":"default","is-show-subscribed-button-labels":!1,"is-show-notifications-button":!0,"is-subscribed":t.isSubscribed,"is-notifications-enabled":t.isNotificationsEnabled}})],1)])};i._withStripped=!0;var s=n(26),a=n(60),u=n(609),o=n(591),r=n(592),l=n(6),c={name:"subsite-header",components:{Icon:s.a,LayoutButton:a.a,LayoutSubscribeButton:u.a,LayoutPlusBadge:o.a,LayoutNumberChange:r.a},props:{id:{type:Number,required:!0},url:{type:String,required:!0},name:{type:String,default:""},avatar:{type:String,default:""},karma:{type:Number,default:0},description:{type:String,default:""},isMe:{type:Boolean,default:!1},isPlus:{type:Boolean,default:!1},isVerified:{type:Boolean,default:!1},isSubscribed:{type:Boolean,default:!1},isNotificationsEnabled:{type:Boolean,default:!1},isShowMessengerButton:{type:Boolean,default:!1}},data:()=>({moduleSiteHeader:null}),computed:{avatarUrl(){return Object(l.formImageUrl)(this.avatar,40)}},created(){this.moduleSiteHeader=Air.import("module.siteHeader")},methods:{openMessengerWindow(t){this.moduleSiteHeader.openMessengerWindow(t)}}},b=(n(1056),n(10)),d=Object(b.a)(c,i,[],!1,null,null,null);d.options.__file="src/Components/Subsite/vue/chunk.subsite-card.vue";e.default=d.exports},558:function(t,e,n){var i=n(596);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(31).default)("f64abcde",i,!1,{})},559:function(t,e,n){var i=n(598);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(31).default)("5a8d1c1e",i,!1,{})},560:function(t,e,n){var i=n(600);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(31).default)("8759ca8a",i,!1,{})},591:function(t,e,n){"use strict";var i=function(){var t=this.$createElement;return(this._self._c||t)("a",{class:["v-plus-badge","v-plus-badge--size-"+this.size,"v-plus-badge--"+this.appCodename],attrs:{href:this.url}},[this._v("\n  Plus\n")])};i._withStripped=!0;var s={name:"layout-plus-badge",components:{},props:{url:{type:String,default:"/plus"},size:{type:String,default:"default"}},data:()=>({appCodename:window.__codename}),computed:{}},a=(n(597),n(10)),u=Object(a.a)(s,i,[],!1,null,null,null);u.options.__file="src/Components/Ui/vue/layout/layout-plus-badge.vue";e.a=u.exports},592:function(t,e,n){"use strict";var i=function(){var t=this.$createElement;return(this._self._c||t)("div",{class:["v-number-change",{"v-number-change--positive":"positive"===this.changeType&&this.colored.includes("positive"),"v-number-change--negative":"negative"===this.changeType&&this.colored.includes("negative")}]},[this._v("\n  "+this._s(this.displayValue)+"\n")])};i._withStripped=!0;var s=n(9),a={name:"layout-number-change",components:{},props:{value:{type:Number,required:!0},postfix:{type:String,default:""},colored:{type:Array,default:()=>[]},isAbs:{type:Boolean,default:!1}},computed:{changeType(){return this.isAbs?"":this.value>0?"positive":this.value<0?"negative":""},sign(){return this.isAbs?"":this.value>0?"+":this.value<0?"âˆ’":""},absNumber(){return Object(s.numberFormat)(Math.abs(this.value),s.NON_BREAKING_SPACE)},displayValue(){return`${this.sign}${this.absNumber}${s.NON_BREAKING_SPACE}${this.postfix}`.trim()}}},u=(n(599),n(10)),o=Object(u.a)(a,i,[],!1,null,null,null);o.options.__file="src/Components/Ui/vue/layout/layout-number-change.vue";e.a=o.exports},595:function(t,e,n){"use strict";n(558)},596:function(t,e,n){(e=n(30)(!1)).push([t.i,".v-subscribe-button {\n  display: grid;\n  grid-template-columns: auto;\n  grid-template-rows: auto;\n}\n.v-subscribe-button--with-notifications {\n  grid-gap: 8px;\n}\n.v-subscribe-button--full {\n  grid-template-columns: minmax(0, 1fr) auto;\n}\n.v-subscribe-button--full .v-button {\n  min-width: 0;\n}\n.v-subscribe-button__subscribe {\n  grid-column: 1/3;\n/**\n     * Decreased from 2 to 1 due to WD-7285\n     */\n  z-index: 1;\n}\n.v-subscribe-button__subscribed,\n.v-subscribe-button__unsubscribe {\n  grid-column: 1/2;\n}\n.v-subscribe-button__notifications {\n  grid-column: 2;\n}\n.v-subscribe-button__unsubscribe {\n  z-index: 1;\n  opacity: 0;\n}\n.v-subscribe-button__unsubscribe:hover {\n  opacity: 1;\n}\n.v-subscribe-button__unsubscribe:hover ~ .v-subscribe-button__subscribed {\n  opacity: 0;\n}\n.v-subscribe-button .v-button {\n  --actions-gap: 0 !important;\n  grid-row: 1;\n}\n.v-subscribe-button .v-button--size-small {\n  --height: 34px;\n}\n.v-subscribe-button .icon--ui_check {\n  color: #2ea83a;\n}\n.v-subscribe-button .icon--ui_close {\n  color: #e52e3a;\n}\n.v-subscribe-button--state-active .v-subscribe-button__subscribe {\n  visibility: hidden;\n}\n.v-subscribe-button--state-inactive .v-subscribe-button__subscribed,\n.v-subscribe-button--state-inactive .v-subscribe-button__unsubscribe,\n.v-subscribe-button--state-inactive .v-subscribe-button__notifications {\n  visibility: hidden;\n}\n.v-subscribe-button--notifications-enabled .icon--bell {\n  color: #4683d9;\n  -webkit-transform: translateX(2px) rotate(15deg);\n  transform: translateX(2px) rotate(15deg);\n}\n",""]),t.exports=e},597:function(t,e,n){"use strict";n(559)},598:function(t,e,n){(e=n(30)(!1)).push([t.i,".v-plus-badge {\n  --font-size: 16px;\n  --font-weight: 700;\n  --height: 22px;\n  --offset: 9px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: center;\n  justify-content: center;\n  background-image: linear-gradient(72.98deg, #f4c560 0%, #e9b649 25%, #d1924d 100%);\n  color: #fff;\n  text-transform: uppercase;\n  font-size: var(--font-size);\n  font-weight: var(--font-weight);\n  height: var(--height);\n  line-height: calc(var(--height) + 1px);\n  border-radius: var(--height);\n  padding: 0 var(--offset);\n}\n@media (max-width: 999px) {\n.v-plus-badge {\n    --font-size: 11px;\n    --height: 16px;\n    --offset: 6px;\n}\n}\n.v-plus-badge--size-small {\n  --font-size: 12px;\n  --height: 17px;\n  --offset: 6px;\n}\n@media (max-width: 999px) {\n.v-plus-badge--size-small {\n    --font-size: 11px;\n    --height: 16px;\n    --font-weight: 500;\n}\n}\n",""]),t.exports=e},599:function(t,e,n){"use strict";n(560)},600:function(t,e,n){(e=n(30)(!1)).push([t.i,".v-number-change {\n  font-weight: 500;\n}\n.v-number-change--positive {\n  color: #2ea83a;\n}\n.v-number-change--negative {\n  color: #e52e3a;\n}\n",""]),t.exports=e},609:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"container",class:["v-subscribe-button","v-subscribe-button--"+t.type,{"v-subscribe-button--with-notifications":t.isShowNotificationsButton,"v-subscribe-button--state-active":t.isSubscribedActually,"v-subscribe-button--state-inactive":!t.isSubscribedActually,"v-subscribe-button--notifications-enabled":t.isNotificationsEnabled}],attrs:{"data-subsite-id":t.subsiteId}},[n("layout-button",{staticClass:"v-subscribe-button__subscribe",attrs:{type:t.isShowNotificationsButton&&!t.initialButtonType?"blue":t.subscribeButtonType,size:t.size,icon:"v_follow","icon-size":24,"data-button":"subscribe"}},["full"===t.type?[n("translate",[t._v("\n        Subscribe\n      ")])]:t._e()],2),t._v(" "),n("layout-button",{staticClass:"v-subscribe-button__unsubscribe",attrs:{size:t.size,icon:"ui_close","icon-size":[12,12],"data-button":"subscribe"},on:{click:function(e){return t.$emit("unsubscribe-click")}}},["full"===t.type&&t.isShowSubscribedButtonLabels?[n("translate",[t._v("\n        Unsubscribe\n      ")])]:t._e()],2),t._v(" "),n("layout-button",{staticClass:"v-subscribe-button__subscribed",attrs:{size:t.size,icon:"ui_check","icon-size":[14,11]}},["full"===t.type&&t.isShowSubscribedButtonLabels?[n("translate",[t._v("\n        Subscribed\n      ")])]:t._e()],2),t._v(" "),t.isShowNotificationsButton?n("layout-button",{staticClass:"v-subscribe-button__notifications",attrs:{size:t.size,icon:"bell","icon-size":"16","data-button":"notifications"}}):t._e()],1)};i._withStripped=!0;var s=n(60),a=n(159),u={name:"layout-subscribe-button",components:{LayoutButton:s.a},props:{type:{type:String,default:"full"},size:{type:String,default:"default"},initialButtonType:{type:String,default:""},subsiteId:{type:Number,required:!0},isShowNotificationsButton:{type:Boolean,default:!1},isSubscribed:{type:Boolean,default:!1},isNotificationsEnabled:{type:Boolean,default:!1},isShowSubscribedButtonLabels:{type:Boolean,default:!0}},data(){return{moduleSubsiteModel:null,subscribeButtonInstance:null,isSubscribedActually:this.isSubscribed}},computed:{},created(){this.moduleSubsiteModel=Air.import("module.subsite_model")},mounted(){this.subscribeButtonInstance=new a.a({element:this.$refs.container,controlling_module:this.moduleSubsiteModel}),this.subscribeButtonInstance.on("Subscription updated",t=>{this.isSubscribedActually=t,this.$emit("subscription-state-update",{id:this.subsiteId,state:t})})},beforeDestroy(){this.subscribeButtonInstance&&(this.subscribeButtonInstance.off(),this.subscribeButtonInstance.destroy(),this.subscribeButtonInstance=null)},methods:{}},o=(n(595),n(10)),r=Object(o.a)(u,i,[],!1,null,null,null);r.options.__file="src/Components/Ui/vue/layout/layout-subscribe-button.vue";e.a=r.exports},820:function(t,e,n){var i=n(1057);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(31).default)("0176b624",i,!1,{})}}]);