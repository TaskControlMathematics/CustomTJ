(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{1129:function(e,t,n){"use strict";n(857)},1130:function(e,t,n){(t=n(30)(!1)).push([e.i,".editor-content {\n  font-size: 18px;\n  position: relative;\n  z-index: 1;\n  -ms-flex: 1;\n  flex: 1;\n}\n.editor-content .codex-editor__bottom {\n  height: 320px;\n}\n.editor-content .ce-block__content {\n  z-index: auto;\n}\n",""]),e.exports=t},1131:function(e,t,n){"use strict";n(858)},1132:function(e,t,n){(t=n(30)(!1)).push([e.i,"/** Match editor media queries */\n.l-editor,\n.ce-block__content,\n.ce-block__indicators,\n.ce-toolbar__content {\n  --offset: 20px;\n  --max-editor-width: 680px;\n  padding-left: var(--offset) !important;\n  padding-right: var(--offset) !important;\n  -ms-flex-item-align: stretch;\n  align-self: stretch;\n  width: 100%;\n  max-width: var(--max-editor-width);\n  margin-left: auto;\n  margin-right: auto;\n  -webkit-box-sizing: content-box;\n  box-sizing: content-box;\n}\n@media (max-width: 1024px) {\n.l-editor,\n  .ce-block__content,\n  .ce-block__indicators,\n  .ce-toolbar__content {\n    --offset: 16px;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n}\n}\n.ce-block__indicators,\n.ce-toolbar__content {\n  --offset: 0;\n}\n",""]),e.exports=t},1133:function(e,t,n){"use strict";n(859)},1134:function(e,t,n){(t=n(30)(!1)).push([e.i,"/** Match editor media queries */\n/** Mixin for scrollable element with optional custom scrollbar */\n.editor {\n  --actions-height: 50px;\n  min-height: 0;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  height: 100%;\n}\n@media (min-width: 1025px) {\n.editor {\n    --actions-height: 78px;\n    height: 590px;\n}\n}\n.editor__body {\n  -ms-flex: 1;\n  flex: 1;\n  min-height: 0;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n  flex-direction: column;\n}\n@media (max-width: 1024px) {\n.editor__body {\n    overflow-x: hidden;\n    overflow-y: scroll;\n    scrollbar-color: dark;\n    -webkit-overflow-scrolling: touch;\n}\n}\n.editor__scrollable {\n  -ms-flex: 1;\n  flex: 1;\n  min-height: 0;\n}\n@media (min-width: 1025px) {\n.editor__scrollable {\n    overflow-x: hidden;\n    overflow-y: scroll;\n    scrollbar-color: dark;\n    -webkit-overflow-scrolling: touch;\n    --scrollbar-size: 16px;\n    --scrollbar-offset: 4px;\n    scrollbar-color: #d9d9d9 transparent;\n    scrollbar-width: thin;\n}\n.editor__scrollable::-webkit-scrollbar {\n    background-color: transparent;\n    width: var(--scrollbar-size);\n    height: var(--scrollbar-size);\n}\n.editor__scrollable::-webkit-scrollbar-thumb {\n    background-color: #d9d9d9;\n    background-clip: padding-box;\n    border: var(--scrollbar-offset) solid transparent;\n    border-radius: var(--scrollbar-size);\n}\n.editor__scrollable::-webkit-scrollbar-thumb:hover {\n    --scrollbar-offset: 3px;\n}\n}\n.editor__authors {\n  --offset-top: 5px;\n  --height: var(--controls-size, 48px);\n  background-color: #fff;\n  margin-bottom: 2px;\n  position: relative;\n  z-index: 2;\n  padding-right: var(--scrollbar-size);\n  margin-top: var(--offset-top);\n  -ms-flex-negative: 0;\n  flex-shrink: 0;\n}\n@media (min-width: 1025px) {\n.editor__authors {\n    --offset-top: 12px;\n    margin-bottom: 3px;\n    position: relative;\n    z-index: 5;\n}\n}\n.editor__actions {\n  height: var(--actions-height);\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n  background-color: #fff;\n  padding-right: var(--scrollbar-size);\n  position: -webkit-sticky;\n  position: sticky;\n  top: 0;\n  z-index: 6;\n  -ms-flex-negative: 0;\n  flex-shrink: 0;\n}\n@media (min-width: 1025px) {\n.editor__actions {\n    -ms-flex-order: 2;\n    order: 2;\n    top: auto;\n    bottom: 0;\n    border-bottom: 0;\n}\n}\n.editor__actions .editor-cp {\n  --height: var(--actions-height);\n}\n.editor__back {\n  margin-right: auto;\n}\n@media (min-width: 1025px) {\n.editor__back {\n    display: none;\n}\n}\n.editor__back .icon {\n  display: block;\n}\n.editor .v-loader {\n  margin: auto;\n}\n.editor-cp-tabs {\n  display: none;\n}\n.app--popup-fullpage-maximized .editor-cp-tabs {\n  display: -ms-flexbox;\n  display: flex;\n}\n@media (min-width: 1025px) {\n.app--popup-fullpage-maximized .editor {\n    min-height: 100%;\n}\n}\n@media (min-width: 1025px) and (min-width: 1025px) {\n.app--popup-fullpage-maximized__authors {\n    --offset-top: 24px;\n}\n}\n",""]),e.exports=t},1640:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return se}));var i={};n.r(i),n.d(i,"createState",(function(){return u})),n.d(i,"getters",(function(){return h})),n.d(i,"actions",(function(){return v})),n.d(i,"mutations",(function(){return b}));var o={};n.r(o),n.d(o,"createState",(function(){return _})),n.d(o,"getters",(function(){return x})),n.d(o,"actions",(function(){return w})),n.d(o,"mutations",(function(){return k}));var s=n(35),a=n.n(s),r=n(42),l=n(577),c=n(683),d=n(3),p=n(612);function u(e){return Object.assign({id:0,user_id:0,type:1,title:"",entry:{blocks:[]},url:"",date:0,date_str:"",modification_date:0,modification_date_str:"",is_published:!1,subsite_id:0,subsite_name:"",removed:!1,custom_style:"",path:"",forced_to_mainpage:!1,is_advertisement:!1,is_enabled_instant_articles:!1,is_enabled_amp:!0,is_approved_for_public_rss:!1,is_enabled_likes:!0,is_enabled_comments:!0,is_enabled_best_comments:!0,is_enabled_ad:!0,is_still_updating:!1,withheld:!1,locked_by_admin:!1,is_show_thanks:!1,is_clean_cover:0,is_editorial:!1,is_disabled_apps:!1,custom_cover:null,is_special:!1,is_filled_by_editors:!1,is_nsfw:!1,is_hidden_for_plus:!1,is_holdonmain:!1,is_holdonflash:0,external_access_link:"",attaches:[],announcement_links:[]},e)}const h={entryDataHash:e=>Object(p.a)(e),title:e=>e.title,hasBlocks:e=>e.entry.blocks.length>0,hasAttaches:e=>e.attaches.length>0},m="updateEntryProperty",f="markCoverBlocks",v={async[c.a]({state:e,commit:t},{isAutosave:n=!1,isPublish:i=!1,additionalData:o={}}){!e.is_published&&i&&t(f),i&&t(m,{key:"is_published",value:!0});try{const i=await Object(d.e)({type:"post",url:"/writing/save",data:{entry:e,autosaving:n,additionalData:o},ignore_error_notify:!0});return["id","date","date_str","external_access_link","url","modification_date","modification_date_str"].forEach(e=>{t(m,{key:e,value:i.entry[e]})}),i}catch(e){return Promise.reject(e)}},async[c.b]({state:e}){try{return Object(d.e)({type:"post",url:"/writing/save-history",data:{entry:e}})}catch(e){console.error("Error while saving history: ",e)}},[c.d]({state:e,commit:t,getters:n}){t(m,{key:"subsite_id",value:n.getDefaultOwner().id})},[c.c]({commit:e},t){e(m,{key:"attaches",value:t})},[c.e]({commit:e},t){Object.entries(t).forEach(([t,n])=>{e(m,{key:t,value:n})})}},b={[m](e,{key:t,value:n}){t in e!=!1?e[t]=n:console.warn("The Entry State has no %s property",t)},[f](e){const t=e.entry.blocks;if(t.filter(e=>!0===e.cover).length)return;if("vc"===window.__codename){return void(t[0].cover=!0)}const n=["tweet","instagram","telegram","video","media","quote","link","number","special"],i=t.findIndex(e=>"text"===e.type),o=t.find(e=>n.includes(e.type));if(-1!==i&&(t[i].cover=!0),!e.title.trim()){const e=t.find((e,t)=>"text"===e.type&&t!==i);e&&(e.cover=!0)}o&&(o.cover=!0)}};var g=n(684);function _(e){return Object.assign({accessLevels:{blue_features:!1,yellow_features:!1,red_features:!1,moderator_features:!1,holdonmain:!1,withheld:!1},domain:"",cdnPath:"",cdnVersion:"",plugins:["paragraph"],owners:[],authors:[],isUnderPaywall:!1},e)}const x={toolsListByAccessLevel(e){const{plugins:t}=e,n={editor_audio:["audio"],yellow_features:["raw","warning","wtrfall","special_button"]};return Object.entries(e.accessLevels).forEach(([e,i])=>{const o=n[e];!0===i&&o&&t.push(...o)}),t},ownerDataById:e=>t=>{const n=e.owners.find(e=>e.id===t);return n||null},authorDataById:e=>t=>{const n=e.authors.find(e=>e.id===t);return n||null},getDefaultOwner:e=>()=>e.owners.find(e=>!0===e.default)},y="updateEditorProperty",w={[g.a]({commit:e},t){Object.entries(t).forEach(([t,n])=>{e(y,{key:t,value:n})})}},k={[y](e,{key:t,value:n}){t in e!=!1?e[t]=n:console.warn("The Editor State has no %s property",t)}};a.a.use(r.a);var S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"wrapper",staticClass:"editor l-island-bg",style:{"--scrollbar-size":e.scrollbarSize+"px"}},[e.isLoading?n("layout-loader"):e._e(),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}],staticClass:"editor__body",attrs:{"data-ignore-scroll-lock":""}},[e.isLoading?e._e():[n("div",{staticClass:"editor__actions"},[n("editor-control-panel",{attrs:{entry:e.entry,owners:e.store.state.editor.owners,"access-levels":e.store.state.editor.accessLevels,"enable-typograph":!0,"is-saving":e.isSaving,"is-error":e.isSavingError,"is-save-disabled":e.isEditorEmpty,"is-typing":e.isTyping,"is-saved":e.isSaved,"is-show-history":e.store.state.editor.accessLevels.isShowHistory},on:{close:function(t){return e.$emit("close")},save:e.saveEntry,change:e.onEntryChange}})],1),e._v(" "),n("div",{staticClass:"editor__authors"},[n("editor-author-panel",{attrs:{to:"u"!==e.to?e.to:"",entry:e.entry,owners:e.store.state.editor.owners,authors:e.store.state.editor.authors,"access-levels":e.store.state.editor.accessLevels},on:{change:e.onEntryChange}})],1)],e._v(" "),n("div",{ref:"scrollable",staticClass:"editor__scrollable",attrs:{"data-ignore-scroll-lock":""}},[n("div",{ref:"editorContent",staticClass:"editor__content"},[e.isLoading?e._e():n("div",{staticClass:"l-editor"},[n("editor-title",{ref:"title",attrs:{autofocus:!e.initialTool},on:{submit:function(t){return e.focusOnEditor(!0)},input:e.onEntryChange},model:{value:e.entry.title,callback:function(t){e.$set(e.entry,"title",t)},expression:"entry.title"}})],1),e._v(" "),e.isInitialDataReady?n("editor",{ref:"editor",attrs:{"initial-tool":e.initialTool,tools:e.store.getters.toolsListByAccessLevel,"cdn-path":e.store.state.editor.cdnPath,"cdn-version":e.store.state.editor.cdnVersion,"external-config":e.externalEditorConfig},on:{ready:e.onEditorReady,contentChanged:e.onEntryChange,cmdS:e.saveEntry,typed:e.onEditorTyped},model:{value:e.entry.entry,callback:function(t){e.$set(e.entry,"entry",t)},expression:"entry.entry"}}):e._e()],1)])],2)],1)};S._withStripped=!0;var C=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{ref:"editor",staticClass:"editor-content",on:{keypress:function(t){return e.$emit("typed")},keydown:function(t){return t.type.indexOf("key")||83===t.keyCode?e.keySPressed.apply(null,arguments):null}}})};C._withStripped=!0;var $=n(693),E={name:"editor",props:{tools:{type:Array,default:()=>[]},initialTool:{type:String,default:""},value:{type:Object,default:()=>({blocks:[]})},cdnPath:{type:String,required:!0},cdnVersion:{type:String,required:!0},placeholder:{type:String,default(){return this.$gettext("Write a text or paste a link")}},externalConfig:{type:Object,default:()=>({})}},data:()=>({editor:null,moduleAndropov:null}),created(){this.moduleAndropov=Air.import("module.andropov")},async mounted(){const e={holder:this.$refs.editor,cdnPath:this.cdnPath,cdnVersion:this.cdnVersion,plugins:this.tools,editorSettings:{placeholder:this.placeholder,offset:{top:90,bottom:90}},onChange:this.onChange,...this.externalConfig},t={airModules:[this.moduleAndropov],disableUnsavedChangesDetector:!0};this.editor=new $.a(e,t),this.editor.editorLoading.then(async()=>{if(await this.editor.fill({items:this.value.blocks}),this.initialTool&&this.tools.includes(this.initialTool)){const{editor:e}=this.editor.editor,t=300,n=e.blocks.append({type:this.initialTool},1,!0);setTimeout(()=>{n.inputs.length&&n.inputs[0].select()},t)}this.$emit("ready")}),this.$popupFullpage.on("maximize",e=>{setTimeout(()=>{this.editor.hashtagInstance.moveDropdown()},0)})},beforeDestroy(){this.$popupFullpage.off("maximize"),this.editor&&this.editor.destroy()},methods:{onChange(e){this.$emit("contentChanged",{blocks:e}),this.$emit("input",{blocks:e})},keySPressed(e){(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.$emit("cmdS"))},async save(){const e=await this.editor.save();this.$emit("input",{blocks:e})}}},z=(n(1129),n(10)),T=Object(z.a)(E,C,[],!1,null,null,null);T.options.__file="src/Components/Editor/vue/writing/editor.vue";var P=T.exports,O=n(795),L=n(799),A=n(808),D=n(537);const M=["cdxToolClick","cdxBlockSettingsOpening","cdxToolSkippedWhileSaving","cdxSavingError","cdxSavingSuccess","cdxShortcutUsed","cdxBlockMarkedAsCover","cdxBlockMarkedAsHidden","cdxBlockRemoved","cdxBlockMoved"];var j=n(11),B=n(5),I=n(22),R=n(0),U=n(9),F=n(21),N="web compact",H="web full",q=n(735),W=n(15);var V={name:"layout",components:{Editor:P,EditorControlPanel:O.a,EditorAuthorPanel:L.a,EditorTitle:A.a,LayoutLoader:D.a},props:{id:{type:[Number,String],default:0},to:{type:String,default:"u"},initialTool:{type:String,default:""},isStaticPage:{type:Boolean,default:!1},entryPoint:{type:String,default:""},store:{type:Object,default:()=>({})},onReady:{type:Function,default:()=>!1},onSave:{type:Function,default:()=>!1}},data(){return{isLoading:!0,isSaving:!1,isSaved:!1,isSavingError:!1,isTyping:!1,isInitialDataReady:!1,savingOnChangesDebouncer:null,editorInputTimeout:null,historyAutoSaving:null,previousEntryHash:null,previousEntryTitle:"",modules:{},unsavedChangesWarning:this.$gettext("The entry has not been saved. Are you sure you want to leave?"),isShouldRedirectAfterPublish:!1,scrollbarSize:0,editorContentObserver:null,isMaximized:!1,saveRetryDealy:F.c*F.b,saveRetryTimout:null,grammarlyBlocker:null,lastFocusedElement:null}},computed:{entry(){return this.store.state.entry},isDraft(){return!this.entry.is_published},externalEditorConfig(){return{customToolsConfig:{quiz:{config:{entry:this.entry}}}}},hasUnsavedChanges(){if(null===this.previousEntryHash)return!1;const e=this.previousEntryHash!==this.store.getters.entryDataHash,t=this.previousEntryTitle!==this.entry.title;return e||t},isUserInteractedWithEditor(){return this.savingOnChangesDebouncer||this.previousEntryTitle!==this.entry.title},editorBlocksCount(){return this.entry.entry.blocks.length},isEditorEmpty(){const e=0===this.entry.title.trim().length,t=this.entry.entry.blocks.length,n=this.entry.entry.blocks.reduce((e,t)=>("text"===t.type&&0===Object(U.stripHtml)(t.data.text).trim().length&&(e+=1),e),0);return e&&t===n},isNeedAjaxifyLock(){return![!this.isUserInteractedWithEditor,this.isShouldRedirectAfterPublish,this.isEditorEmpty,this.isDraft,!this.isDraft&&!this.hasUnsavedChanges].some(e=>e)}},watch:{isNeedAjaxifyLock(e){!0===e?this.modules.ajaxify.confirmLock(!0,this.unsavedChangesWarning):this.modules.ajaxify.confirmLock(!1)},editorBlocksCount(e){if(e>600){const e=this.$gettext("Just a warning: the entry is very long, there may be problems when saving");B.error(e)}}},created(){this.modules.authData=Air.import("module.auth_data"),this.modules.ajaxify=Air.import("module.ajaxify"),this.modules.location=Air.import("module.location")},async mounted(){const e=await Object(d.e)({type:"GET",url:`/writing/${this.id}/editorData?to=${this.to}&static=${this.isStaticPage}`});this.store.dispatch(g.a,e.editor),this.store.dispatch(c.e,e.entry),this.isInitialDataReady=!0,this.clearUnsavedChanges(),this.isDraft||this.startHistoryAutoSaving(),this.listenForEvents(!0),this.editorContentObserver=new ResizeObserver(()=>{this.updateScrollbarSize()}),this.editorContentObserver.observe(this.$refs.editorContent),this.grammarlyBlocker=new q.a(this.$refs.wrapper,!0),document.addEventListener("focus",this.onFocusChange,!0)},beforeDestroy(){this.modules.ajaxify.confirmLock(!1),this.isLoading=!0,this.isInitialDataReady=!1,this.historyAutoSaving&&this.historyAutoSaving.stop(),this.saveRetryTimout&&(clearTimeout(this.saveRetryTimout),this.saveRetryTimout=null),this.listenForEvents(!1),this.editorContentObserver.unobserve(this.$refs.editorContent),this.grammarlyBlocker&&(this.grammarlyBlocker.destroy(),this.grammarlyBlocker=null),document.removeEventListener("focus",this.onFocusChange,!0)},methods:{onEditorReady(){this.isLoading=!1,"function"==typeof this.onReady&&this.onReady()},onBeforeClose(){return!(this.isUserInteractedWithEditor&&!this.isShouldRedirectAfterPublish&&!this.isEditorEmpty)||(this.isDraft?(this.store.dispatch(c.a,{additionalData:{editorType:this.isMaximized?H:N,entryPoint:this.entryPoint}}).then(()=>{const e=this.$gettext("Entry has been saved to drafts");B.success(e,1500)}),!0):!this.hasUnsavedChanges||window.confirm(this.unsavedChangesWarning))},onMaximizeToggle(e){this.isMaximized=e,this.focusOnEditor()},focusOnEditor(e=!1){const{editor:t}=this.$refs.editor;if(e)return void t.focus(!0);if(!this.lastFocusedElement)return;const{editor:n}=t.editor;this.lastFocusedElement.contenteditable?n.focusContenteditable(this.lastFocusedElement):this.lastFocusedElement.focus()},clearUnsavedChanges(){this.previousEntryHash=this.store.getters.entryDataHash,this.previousEntryTitle=this.entry.title},async saveEntry({isAutosave:e=!1,isPublish:t=!1}={}){if(!this.$refs.editor||this.isSaving||this.isEditorEmpty||!this.entry.subsite_id)return Promise.resolve(!1);clearTimeout(this.saveRetryTimout),this.isSaving=!0,this.isSavingError=!1,await this.$refs.editor.save();const n={id:this.entry.id,url:this.entry.url,isDraft:this.isDraft};try{await this.store.dispatch(c.a,{isAutosave:e,isPublish:t,additionalData:{editorType:this.isMaximized?H:N,entryPoint:this.entryPoint}});let i=this.$gettext("Entry has been saved");if(this.clearUnsavedChanges(),this.isDraft||(n.isDraft?(this.$emit("New Entry Published"),i=this.$gettext("Entry has been published"),this.startHistoryAutoSaving()):this.$emit("Entry Updated")),!e){const e=1500;B.success(i,e)}this.isShouldRedirectAfterPublish=n.isDraft&&!this.isDraft&&!this.modules.authData.isSuperuser(),"function"==typeof this.onSave&&setTimeout(()=>{this.onSave({id:this.entry.id,url:this.entry.url,isNeedUpdate:!n.id||n.url!==this.entry.url,isRedirectToEntry:this.isShouldRedirectAfterPublish})},0),this.isSaved=!0,this.saveRetryDealy=F.c*F.b}catch(e){const t=e===W.ErrorMessage.Unsent;return this.isSaved=!1,this.isSaving=!1,this.isSavingError=!0,t?this.saveRetryTimout=setTimeout(()=>{this.saveRetryDealy+=F.c*F.b,this.saveEntry(...arguments)},this.saveRetryDealy):B.error(e),console.error(e),Promise.resolve(!1)}return this.isSaving=!1,Promise.resolve(!0)},onEditorTyped(){this.isTyping=!0,clearTimeout(this.editorInputTimeout),this.editorInputTimeout=setTimeout(()=>{this.isTyping=!1},700)},onEntryChange(){this.isSaved=!1,this.isSavingError=!1,this.isTyping=!0,clearTimeout(this.savingOnChangesDebouncer),this.savingOnChangesDebouncer=setTimeout(async()=>{this.isTyping=!1,this.isSaved=await this.validateAndAutosave()},300)},validateAndAutosave(){return this.isDraft?this.isEditorEmpty?Promise.resolve(!1):(this.entry.subsite_id||this.store.dispatch(c.d),this.saveEntry({isAutosave:!0})):Promise.resolve(!1)},startHistoryAutoSaving(){this.historyAutoSaving=new I.a(()=>{this.tryToSaveHistory()},6e4),this.historyAutoSaving.start(void 0,!1)},tryToSaveHistory(){this.hasUnsavedChanges&&this.store.dispatch(c.b).then(()=>{this.clearUnsavedChanges()})},listenForEvents(e){const t=["New Entry Published","CodeX Editor Emit Event"];if(!e)return t.forEach(e=>{this.$off(e)}),void Object(R.off)(document,".editor");t.forEach(e=>{this.$on(e,t=>{this.sendAnalyticsEvent(e,t)})}),M.forEach(e=>{Object(R.on)(document,e+".editor",t=>{this.$emit("CodeX Editor Emit Event",{name:e.replace("cdx","").replace(/([A-Z])/g," $1").trim(),data:t.detail})})})},sendAnalyticsEvent(e,t){"CodeX Editor Emit Event"===e?Object(j.pushToDataLayer)({event:"Editor - "+t.name,data:t.data}):Object(j.sendDefaultEvent)("Editor - "+e)},updateScrollbarSize(){const{scrollable:e}=this.$refs;this.scrollbarSize=e.offsetWidth-e.clientWidth},onFocusChange(e){if(!this.$refs.editor)return;const{$el:t}=this.$refs.editor;t.contains(e.target)?this.lastFocusedElement=e.target:this.lastFocusedElement=null}}},G=(n(1131),n(1133),Object(z.a)(V,S,[],!1,null,null,null));G.options.__file="src/Components/Editor/vue/writing/layout.vue";var K=G.exports,Y=n(566),Q=n(797),X=n(123),J=n(44),Z=n.n(J),ee=n(55),te=(n(189),n(16));const ne=0,ie=1,oe=-1;class se{constructor(e,t){this.params=e,this.handlers=t,this.popupState=oe,this.prepareStore(),this.init(),this.open()}prepareStore(){this.store=function({entry:e,editor:t}){return new r.a.Store({state:{},modules:{entry:Object(l.a)(i,e),editor:Object(l.a)(o,t)}})}({entry:{blocks:[]},editor:{}})}init(){this.extendVue(),this.app=new a.a({store:this.store});const e=window.Air&&window.Air.get("module.hawk");e&&e.connectVue(a.a)}extendVue(){a.a.use(Y.a),a.a.use(Q.a,{container:document.getElementById("page_wrapper").parentNode}),a.a.directive("click-outside",X.a),a.a.use(Z.a,{translations:ee,defaultLanguage:window.__i18nLocale})}open(){const e="true"===te.b("editor_maximized");this.app.$popupFullpage.open(K,{isMaximized:e,props:{store:this.store,id:this.params.id,to:this.params.to,initialTool:this.params.tool,isStaticPage:this.params.isStaticPage,entryPoint:this.params.entryPoint,onReady:this.handlers.onReady,onSave:this.handlers.onSave,onBeforeClose:this.handlers.onBeforeClose}}),this.app.$popupFullpage.once("close",()=>{this.popupState=ne,"function"==typeof this.handlers.onClose&&this.handlers.onClose()}),this.app.$popupFullpage.on("maximize",e=>{te.d("editor_maximized",e)}),this.popupState=ie}async close(){const e=await this.app.$popupFullpage.close();return e&&this.prepareStore(),e}async destroy(){const e=this.popupState!==ie||await this.close();return this.app.$popupFullpage.off("maximize"),e?(this.app&&this.app.$destroy(),this.handlers=null,this.store=null,this.app=null,this.popupState=oe,Promise.resolve()):Promise.reject(new Error("Canceled by user"))}}},529:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["v-form",{"v-form--loading":e.isLoading}]},[e.title?n("div",{staticClass:"v-form__title"},[e._v("\n    "+e._s(e.title)+"\n  ")]):e._e(),e._v(" "),e.subtitle?n("div",{staticClass:"v-form__subtitle"},[e._v("\n    "+e._s(e.subtitle)+"\n  ")]):e._e(),e._v(" "),n("div",{class:["v-form__content",{"v-form__content--grid":e.grid}]},[e._t("default")],2),e._v(" "),e.$slots.footer?n("div",{staticClass:"v-form__footer"},[e._t("footer")],2):e._e(),e._v(" "),e.$slots.legal?n("div",{staticClass:"v-form__legal"},[e._t("legal")],2):e._e(),e._v(" "),e._t("bottom")],2)};i._withStripped=!0;var o={name:"form",components:{},props:{title:{type:String,default:""},subtitle:{type:String,default:""},grid:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1}},computed:{},methods:{}},s=(n(540),n(10)),a=Object(s.a)(o,i,[],!1,null,null,null);a.options.__file="src/Components/Ui/vue/layout/layout-form.vue";t.a=a.exports},531:function(e,t,n){var i=n(541);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(31).default)("1141f1b1",i,!1,{})},537:function(e,t,n){"use strict";var i=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:["v-loader","ui_preloader",{"ui_preloader--white":"light"===this.mode}]},[t("span",{staticClass:"ui_preloader__dot"}),this._v(" "),t("span",{staticClass:"ui_preloader__dot"}),this._v(" "),t("span",{staticClass:"ui_preloader__dot"})])};i._withStripped=!0;var o={name:"layout-loader",components:{},props:{mode:{type:String,default:"dark"}},computed:{}},s=n(10),a=Object(s.a)(o,i,[],!1,null,null,null);a.options.__file="src/Components/Ui/vue/layout/layout-loader.vue";t.a=a.exports},540:function(e,t,n){"use strict";n(531)},541:function(e,t,n){(t=n(30)(!1)).push([e.i,".v-form {\n  font-size: 15px;\n  line-height: 1.5em;\n}\n.v-form--loading input,\n.v-form--loading label {\n  pointer-events: none;\n}\n.v-form--loading input {\n  opacity: 0.75;\n}\n.v-form__title {\n  font-size: 24px;\n  line-height: 1.2em;\n  font-weight: 500;\n  margin-bottom: 18px;\n}\n.v-form__subtitle {\n  margin-bottom: 16px;\n  line-height: 1.5em;\n}\n.v-form__content {\n  --row-gap: 24px;\n}\n.v-form__content--grid {\n  display: grid;\n  -ms-flex-align: start;\n  align-items: start;\n  grid-template-columns: 1fr 1fr;\n  grid-column-gap: 32px;\n  grid-row-gap: var(--row-gap);\n}\n.v-form__content--grid p,\n.v-form__content--grid .v-form-input:not(:nth-child(3)):not(:nth-child(4)),\n.v-form__content--grid .v-form-input-autocomplete:not(:nth-child(3)):not(:nth-child(4)) {\n  grid-column: 1/3;\n}\n.v-form__content:not(.v-form__content--grid) p:not(:last-child),\n.v-form__content:not(.v-form__content--grid) .v-form-input:not(:last-child),\n.v-form__content:not(.v-form__content--grid) .v-form-input-autocomplete:not(:last-child) {\n  margin-bottom: var(--row-gap);\n}\n.v-form__content > .v-form-section:not(:last-child) {\n  margin-bottom: 32px;\n}\n.v-form__content > .v-form-section .v-form-section__field:not(:first-child) {\n  margin-top: 8px;\n}\n.v-form__footer {\n  margin-top: 28px;\n  display: -ms-flexbox;\n  display: flex;\n}\n.v-form__footer .ui-button,\n.v-form__footer .v-button {\n  min-width: 124px;\n}\n.v-form__footer .ui-button:last-child,\n.v-form__footer .v-button:last-child {\n  margin-left: auto;\n}\n.v-form__legal {\n  margin-top: 28px;\n  padding-top: 20px;\n  font-size: 12px;\n  line-height: 1.5em;\n  color: #595959;\n  position: relative;\n}\n@media (min-width: 860px) {\n.v-form__legal {\n    margin-bottom: -8px;\n}\n}\n.v-form__legal:before {\n  content: '';\n  display: block;\n  height: 1px;\n  background-color: #f0f0f0;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n}\n@media (max-width: 859px) {\n.v-form__legal:before {\n    left: 0;\n    right: 0;\n}\n}\n.v-form__legal a {\n  border-bottom: 1px solid rgba(89,89,89,0.3);\n}\n.v-form__legal a:hover {\n  color: #cd192e;\n  border-bottom-color: rgba(205,25,46,0.3);\n}\n.v-popup-window .v-form__legal:before {\n  left: -30px;\n  right: -30px;\n}\n@media (max-width: 859px) {\n.v-popup-window .v-form__legal:before {\n    left: -20px;\n    right: -20px;\n}\n}\n",""]),e.exports=t},543:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{class:["ui-button","ui-button--"+e.type,"ui-button--"+e.size,{"ui-button--only-icon":e.onlyIcon,"ui-button--disabled":e.disabled,"ui--bg_loading":e.loading}],on:{click:function(t){return t.preventDefault(),e.onClick.apply(null,arguments)}}},[e.icon?n("icon",{attrs:{name:e.icon,width:e.iconSize,height:e.iconSize}}):e._e(),e._v(" "),e.$slots.default?n("span",[e._t("default")],2):e._e()],1)};i._withStripped=!0;var o={name:"ui-button",components:{Icon:n(26).a},props:{type:{type:Number,default:1},icon:{type:String,default:""},iconSize:{type:Number,default:12},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onlyIcon:{type:Boolean,default:!1},size:{type:String,default:"default"}},computed:{},methods:{onClick(){this.disabled||this.$emit("click")}}},s=n(10),a=Object(s.a)(o,i,[],!1,null,null,null);a.options.__file="src/Components/Ui/vue/ui-button.vue";t.a=a.exports},545:function(e,t,n){var i=n(573);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(31).default)("37887071",i,!1,{})},547:function(e,t,n){var i=n(579);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(31).default)("1778d5fc",i,!1,{})},555:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"tabs",staticClass:"v-tabs"},[n("div",{staticClass:"v-tabs__scroll"},[n("div",{staticClass:"v-tabs__content"},[e.isRouter?e._l(e.items,(function(t){return n("router-link",{key:t.url,staticClass:"v-tab",attrs:{to:t.url,tag:"div","exact-active-class":"v-tab--active"}},[n("span",{staticClass:"v-tab__label"},[e._v("\n            "+e._s(t.label)+"\n\n            "),t.counter?n("span",{staticClass:"v-tab__counter"},[e._v("\n              "+e._s(e._f("numberFormat")(t.counter," "))+"\n            ")]):e._e()])])})):e._l(e.items,(function(t){return n(t.action?"div":"a",{key:t.url,tag:"component",class:["v-tab",{"v-tab--active":t.isActive}],attrs:{href:t.url||!1},on:{click:t.action}},[n("span",{staticClass:"v-tab__label"},[e._v("\n            "+e._s(t.label)+"\n\n            "),t.counter?n("span",{staticClass:"v-tab__counter"},[e._v("\n              "+e._s(e._f("numberFormat")(t.counter," "))+"\n            ")]):e._e()])])}))],2)])])};i._withStripped=!0;var o=n(162),s={name:"layout-tabs",components:{},props:{items:{type:Array,default:()=>[]},isRouter:{type:Boolean,default:!1}},data:()=>({scrollableTabsInstance:null}),computed:{},mounted(){setTimeout(()=>{this.scrollableTabsInstance=new o.a({element:this.$refs.tabs})},0),window.addEventListener("resize",this.refreshScrollableTabs)},beforeDestroy(){window.removeEventListener("resize",this.refreshScrollableTabs),this.scrollableTabsInstance&&this.scrollableTabsInstance.destroy()},methods:{refreshScrollableTabs(){this.scrollableTabsInstance&&this.scrollableTabsInstance.refresh()}}},a=(n(572),n(10)),r=Object(a.a)(s,i,[],!1,null,null,null);r.options.__file="src/Components/Ui/vue/layout/layout-tabs.vue";t.a=r.exports},556:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("field",{class:{"v-field--scroll":e.hasScrollbar},attrs:{size:e.size,icons:{right:e.icon},caption:e.caption,error:e.error,"is-focused":e.isFocused,"is-disabled":e.isDisabled,"is-invalid":e.isInvalid}},[n("div",{class:["v-text-area","v-text-area--"+e.size,{"v-text-area--disabled":e.isDisabled,"v-text-area--resizable":e.isResizable,"v-text-area--scroll":e.hasScrollbar}]},[n("textarea",{ref:"input",staticClass:"v-text-area__input",attrs:{disabled:e.isDisabled,placeholder:e.placeholder,minlength:e.minlength,maxlength:e.maxlength},domProps:{value:e.value},on:{focus:function(t){e.isFocused=!0},blur:function(t){e.isFocused=!1},input:e.onInput}}),e._v(" "),e.maxlength?n("div",{ref:"countdown",staticClass:"v-text-area__countdown"},[e._v("\n      "+e._s(e.symbolsLeft)+"\n    ")]):e._e()])])};i._withStripped=!0;var o=n(61),s={name:"text-area",components:{Field:o.b},model:{prop:"value",event:"input"},props:{value:{type:String,default:""},size:{type:String,default:o.a.Default,validator:e=>Object.values(o.a).includes(e)},icon:{type:Object,default:null},placeholder:{type:String,default:""},minlength:{type:Number,default:0},maxlength:{type:[Number,String],default:""},caption:{type:String,default:null},error:{type:String,default:""},isDisabled:{type:Boolean,default:!1},isInvalid:{type:Boolean,default:!1},isResizable:{type:Boolean,default:!1}},data(){return{isFocused:!1,symbolsLeft:this.maxlength,hasScrollbar:!1}},mounted(){this.checkScroll(),this.maxlength&&(this.symbolsLeft=this.calcSymbolsLeft(this.value))},methods:{onInput(e){const{value:t}=e.target;this.checkScroll(),this.maxlength&&(this.symbolsLeft=this.calcSymbolsLeft(t),this.updateRightPadding()),this.$emit("input",t)},checkScroll(){const e=this.$refs.input;this.hasScrollbar=e.clientHeight<e.scrollHeight},updateRightPadding(){const{input:e,countdown:t}=this.$refs;let n=t.clientWidth+10+12;this.hasScrollbar&&(n-=19),e.style.paddingRight=n+"px"},calcSymbolsLeft(e){const t=e?e.length:0;return this.maxlength-t}}},a=(n(578),n(10)),r=Object(a.a)(s,i,[],!1,null,null,null);r.options.__file="src/Components/Ui/vue/text-area/index.vue";t.a=r.exports},557:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"v-message"},[n("div",{staticClass:"v-message__title"},[e._v("\n    "+e._s(e.title)+"\n\n    "),"success"===e.type?n("icon",{attrs:{name:"ui_check"}}):e._e(),e._v(" "),"error"===e.type?n("icon",{attrs:{name:"ui_close",width:"12"}}):e._e()],1),e._v(" "),e.isAllowedHtml?n("div",{staticClass:"v-message__text",domProps:{innerHTML:e._s(e.text)}}):n("div",{staticClass:"v-message__text"},[e._v("\n    "+e._s(e.text)+"\n  ")]),e._v(" "),e.errorText?n("div",{staticClass:"v-message__error"},[e._v("\n    "+e._s(e.errorText)+"\n  ")]):e._e(),e._v(" "),e.type?n("div",{staticClass:"v-message__footer"},["success"===e.type?n("ui-button",{attrs:{type:"5"},on:{click:function(t){return e.$emit("close")}}},[n("translate",[e._v("\n        Continue\n      ")])],1):e._e(),e._v(" "),"error"===e.type?n("ui-button",{attrs:{type:"5"},on:{click:function(t){return e.$emit("back")}}},[n("translate",[e._v("\n        Back\n      ")])],1):e._e(),e._v(" "),"confirm"===e.type?[n("ui-button",{attrs:{type:"5"},on:{click:function(t){return e.$emit("back")}}},[n("translate",[e._v("\n          Cancel\n        ")])],1),e._v(" "),n("ui-button",{attrs:{type:"2"},on:{click:function(t){return e.onConfirm()}}},[e._v("\n        "+e._s(e.confirmButtonText)+"\n      ")])]:e._e()],2):e._e()])};i._withStripped=!0;var o=n(1),s=n(26),a=n(543),r={name:"layout-message",components:{Icon:s.a,UiButton:a.a},props:{type:{type:String,default:"success"},title:{type:String,default:""},text:{type:String,default:""},isAllowedHtml:{type:Boolean,default:!1},errorText:{type:String,default:""},confirmButtonText:{type:String,default:()=>Object(o.c)("Continue")},onConfirm:{type:Function,default:()=>!1}},data:()=>({}),computed:{},methods:{}},l=(n(603),n(10)),c=Object(l.a)(r,i,[],!1,null,null,null);c.options.__file="src/Components/Ui/vue/layout/layout-message.vue";t.a=c.exports},562:function(e,t,n){var i=n(604);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(31).default)("2943b361",i,!1,{})},567:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"v-mobile-menu"},[n("div",{staticClass:"v-mobile-menu__header"},[e.title?n("div",{staticClass:"v-mobile-menu__name"},[e._v("\n      "+e._s(e.title)+"\n    ")]):e._e(),e._v(" "),n("div",{staticClass:"v-mobile-menu__close",on:{click:function(t){return e.$emit("close")}}},[n("icon",{attrs:{name:"v_close",width:"16",height:"16"}})],1)]),e._v(" "),e._l(e.filteredItems,(function(t,i){return n("div",{key:i,staticClass:"v-mobile-menu__list"},e._l(t,(function(t,i){return n(t.url?"a":"div",{key:i,tag:"component",staticClass:"v-mobile-menu__item",attrs:{href:t.url||!1,target:!!t.url&&"_blank"},on:{click:function(e){"function"==typeof t.action&&t.action()}}},[n("div",{staticClass:"v-mobile-menu__icon"},[t.icon?n("icon",{attrs:{name:t.icon,width:"24",height:"24"}}):e._e()],1),e._v(" "),n("div",{staticClass:"v-mobile-menu__title"},[n("span",[e._v(e._s(t.title))])]),e._v(" "),t.more?n("div",{staticClass:"v-mobile-menu__more"},[n("icon",{attrs:{name:"v_arrow_right",width:"20",height:"20"}})],1):e._e()])})),1)})),e._v(" "),e._t("default")],2)};i._withStripped=!0;var o={name:"layout-mobile-menu",components:{Icon:n(26).a},props:{title:{type:String,default:""},items:{type:Object,default:()=>[]}},computed:{filteredItems(){return this.items.filter(e=>Object.keys(e).length)}}},s=(n(627),n(10)),a=Object(s.a)(o,i,[],!1,null,null,null);a.options.__file="src/Components/Ui/vue/layout/layout-mobile-menu.vue";t.a=a.exports},572:function(e,t,n){"use strict";n(545)},573:function(e,t,n){(t=n(30)(!1)).push([e.i,".v-tabs {\n  --font-size: 16px;\n  --height: 60px;\n  --nav-size: 36px;\n  --tab-offset: 18px;\n  font-size: var(--font-size);\n  height: var(--height);\n  position: relative;\n  min-width: 0;\n}\n@media (max-width: 859px) {\n.v-tabs {\n    --tab-offset: 14px;\n    overflow: hidden;\n}\n}\n.v-tabs__scroll {\n  white-space: nowrap;\n  overflow-x: hidden;\n  overflow-y: hidden;\n  -webkit-overflow-scrolling: touch;\n}\n@media (max-width: 859px) {\n.v-tabs__scroll {\n    overflow-x: auto;\n    padding-bottom: 15px;\n}\n}\n.v-tabs__content {\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n  vertical-align: top;\n}\n.v-tabs--overflown::before,\n.v-tabs--overflown::after {\n  content: '';\n  -webkit-box-sizing: content-box;\n  box-sizing: content-box;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: calc(var(--nav-size) + var(--nav-size) * 0.25);\n  z-index: 1;\n  display: none;\n}\n.v-tabs--overflown::before {\n  left: 0;\n  background-image: -webkit-gradient(linear, right top, left top, from(rgba(255,255,255,0)), color-stop(40%, #fff));\n  background-image: linear-gradient(-90deg, rgba(255,255,255,0) 0%, #fff 40%);\n}\n.v-tabs--overflown::after {\n  right: 0;\n  background-image: -webkit-gradient(linear, left top, right top, from(rgba(255,255,255,0)), color-stop(40%, #fff));\n  background-image: linear-gradient(90deg, rgba(255,255,255,0) 0%, #fff 40%);\n}\n.v-tabs--scrolling {\n  pointer-events: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.v-tabs--has-prev::before {\n  display: block !important;\n}\n.v-tabs--has-prev .v-tabs-navigation--prev {\n  visibility: visible;\n}\n.v-tabs--has-next::after {\n  display: block !important;\n}\n.v-tabs--has-next .v-tabs-navigation--next {\n  visibility: visible;\n}\n.v-tab {\n  padding: 0 var(--tab-offset);\n  -ms-flex-negative: 0;\n  flex-shrink: 0;\n  cursor: pointer;\n}\n.v-tab:first-child {\n  padding-left: 0;\n}\n.v-tab:last-child {\n  padding-right: 0;\n}\n.v-tab:hover {\n  color: #4683d9;\n}\n.v-tab--active {\n  pointer-events: none;\n  font-weight: 500;\n}\n.v-tab--active .v-tab__label {\n  position: relative;\n}\n.v-tab--active .v-tab__label::after {\n  content: '';\n  width: 100%;\n  height: 3px;\n  background-color: #4683d9;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n}\n.v-tab__label {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: baseline;\n  align-items: baseline;\n  height: var(--height);\n  line-height: calc(var(--height) + 1px);\n}\n.v-tab__counter {\n  font-size: 14px;\n  font-weight: 400;\n  margin-left: 6px;\n  color: #595959;\n}\n.v-tabs-navigation {\n  visibility: hidden;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  width: var(--nav-size);\n  height: var(--nav-size);\n  border-radius: 50%;\n  background-color: #fff;\n  -webkit-box-shadow: 0 1px 3px rgba(0,0,0,0.25);\n  box-shadow: 0 1px 3px rgba(0,0,0,0.25);\n  position: absolute;\n  right: calc(var(--nav-size) * -0.25);\n  top: 50%;\n  margin-top: calc(var(--nav-size) * -0.5);\n  z-index: 2;\n  cursor: pointer;\n}\n.v-tabs-navigation .icon {\n  width: calc(var(--nav-size) * 0.25);\n  height: auto;\n}\n.v-tabs-navigation--prev {\n  left: calc(var(--nav-size) * -0.25);\n}\n@media (max-width: 859px) {\n.v-tabs-navigation--prev {\n    left: 5px;\n}\n}\n.v-tabs-navigation--prev .icon {\n  -webkit-transform: rotate(180deg);\n  transform: rotate(180deg);\n  margin-left: -2px;\n}\n.v-tabs-navigation--next {\n  right: calc(var(--nav-size) * -0.25);\n}\n@media (max-width: 859px) {\n.v-tabs-navigation--next {\n    right: 5px;\n}\n}\n.v-tabs-navigation--next .icon {\n  margin-left: 2px;\n}\n.v-tabs-navigation:hover {\n  -webkit-box-shadow: 0 1px 3px rgba(0,0,0,0.35);\n  box-shadow: 0 1px 3px rgba(0,0,0,0.35);\n}\n.v-tabs-navigation:active {\n  -webkit-box-shadow: 0 1px 1px rgba(0,0,0,0.35);\n  box-shadow: 0 1px 1px rgba(0,0,0,0.35);\n  -webkit-transform: translateY(1px);\n  transform: translateY(1px);\n}\n",""]),e.exports=t},577:function(e,t,n){"use strict";function i(e,t={}){return{state:e.createState(t),getters:e.getters,mutations:e.mutations,actions:e.actions}}n.d(t,"a",(function(){return i}))},578:function(e,t,n){"use strict";n(547)},579:function(e,t,n){(t=n(30)(!1)).push([e.i,".v-text-area {\n  width: 100%;\n  padding: 3px;\n  color: rgba(0,0,0,0.65);\n}\n.v-text-area--disabled {\n  pointer-events: none;\n  color: #bfbfbf;\n}\n.v-text-area__input {\n  position: relative;\n  z-index: 1;\n  vertical-align: bottom;\n  margin: 0;\n  border: none;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  width: 100%;\n  min-height: 40px;\n  padding: 4px 8px;\n  font-size: 16px;\n  line-height: 1.5em;\n  background: transparent;\n  outline: none;\n  resize: none;\n  font-family: 'Roboto';\n}\n.v-text-area__input::-webkit-input-placeholder {\n  opacity: 1;\n  color: #595959;\n}\n.v-text-area__input::-moz-placeholder {\n  opacity: 1;\n  color: #595959;\n}\n.v-text-area__input:-ms-input-placeholder {\n  opacity: 1;\n  color: #595959;\n}\n.v-text-area__input::-ms-input-placeholder {\n  opacity: 1;\n  color: #595959;\n}\n.v-text-area__input::placeholder {\n  opacity: 1;\n  color: #595959;\n}\n.v-text-area--resizable .v-text-area__input {\n  resize: vertical;\n}\n.v-text-area--disabled {\n  color: #bfbfbf;\n  -webkit-text-fill-color: #bfbfbf;\n}\n.v-text-area--disabled::-webkit-input-placeholder {\n  opacity: 1;\n  color: #bfbfbf;\n}\n.v-text-area--disabled::-moz-placeholder {\n  opacity: 1;\n  color: #bfbfbf;\n}\n.v-text-area--disabled:-ms-input-placeholder {\n  opacity: 1;\n  color: #bfbfbf;\n}\n.v-text-area--disabled::-ms-input-placeholder {\n  opacity: 1;\n  color: #bfbfbf;\n}\n.v-text-area--disabled::placeholder {\n  opacity: 1;\n  color: #bfbfbf;\n}\n.v-text-area--tiny .v-text-area__input {\n  height: 32px;\n  min-height: 32px;\n  padding: 0px 4px;\n  font-size: 12px;\n  line-height: 1.33em;\n}\n.v-text-area--small .v-text-area__input {\n  height: 44px;\n  min-height: 44px;\n  padding: 2px 8px;\n  font-size: 14px;\n  line-height: 1.43em;\n}\n.v-text-area--large .v-text-area__input {\n  height: 66px;\n  min-height: 66px;\n  padding: 7px 12px;\n  font-size: 18px;\n  line-height: 1.44em;\n}\n.v-text-area__countdown {\n  position: absolute;\n  right: 12px;\n  bottom: 8px;\n  font-size: 12px;\n}\n.v-text-area--tiny .v-text-area__countdown {\n  right: 8px;\n  bottom: 4px;\n}\n.v-text-area--small .v-text-area__countdown {\n  right: 12px;\n  bottom: 6px;\n}\n.v-text-area--large .v-text-area__countdown {\n  right: 16px;\n  bottom: 11px;\n}\n.v-text-area--scroll .v-text-area__countdown {\n  right: 21px;\n}\n",""]),e.exports=t},585:function(e,t,n){var i=n(628);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(31).default)("3062bb32",i,!1,{})},603:function(e,t,n){"use strict";n(562)},604:function(e,t,n){(t=n(30)(!1)).push([e.i,".v-message {\n  font-size: 15px;\n  line-height: 1.5em;\n}\n.v-message__title {\n  font-size: 24px;\n  line-height: 1.2em;\n  font-weight: 500;\n  margin-bottom: 18px;\n}\n.v-message__title .icon {\n  margin-left: 4px;\n  position: relative;\n}\n.v-message__title .icon--ui_check {\n  color: #2ea83a;\n}\n.v-message__title .icon--ui_close {\n  color: #e52e3a;\n  top: 1px;\n}\n.v-message__error {\n  margin-top: 15px;\n  color: #595959;\n}\n.v-message__footer {\n  margin-top: 28px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: end;\n  justify-content: flex-end;\n}\n.v-message__footer .ui-button {\n  min-width: 124px;\n}\n.v-message__footer .ui-button:not(:last-child) {\n  margin-right: 10px;\n}\n",""]),e.exports=t},625:function(e,t,n){var i=n(708);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(31).default)("122917ae",i,!1,{})},626:function(e,t,n){var i=n(710);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(31).default)("b240ef18",i,!1,{})},627:function(e,t,n){"use strict";n(585)},628:function(e,t,n){(t=n(30)(!1)).push([e.i,".v-mobile-menu {\n  --offset-x: 20px;\n  --offset-y: 20px;\n  --height: 48px;\n  --font-size: 16px;\n  padding: 0 var(--offset-x) var(--offset-y);\n}\n.v-mobile-menu__header {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n  line-height: 1.5em;\n  font-weight: 500;\n  padding: 0 var(--offset-x);\n  margin-left: calc(var(--offset-x) * -1);\n  margin-right: calc(var(--offset-x) * -1);\n  height: 50px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  position: -webkit-sticky;\n  position: sticky;\n  top: 0;\n  z-index: 10;\n  background-color: #fff;\n  margin-bottom: 2px;\n}\n.v-mobile-menu__name {\n  margin-top: 5px;\n}\n.v-mobile-menu__close {\n  margin-left: auto;\n  -ms-flex-item-align: start;\n  align-self: flex-start;\n  padding: 10px;\n  margin-right: calc(var(--offset-x) * -1);\n  cursor: pointer;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n}\n.v-mobile-menu__close .icon {\n  display: block;\n}\n.v-mobile-menu__list:not(:last-child):after {\n  content: '';\n  display: block;\n  height: 1px;\n  background-color: rgba(0,0,0,0.1);\n  margin: 8px 0;\n  margin-left: 36px;\n  margin-right: calc(var(--offset-x) * -1);\n}\n.v-mobile-menu__list:last-child {\n  margin-bottom: -12px;\n}\n.v-mobile-menu__item {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n  font-size: var(--font-size);\n  line-height: var(--height);\n  cursor: pointer;\n  white-space: nowrap;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.v-mobile-menu__icon {\n  width: 24px;\n  height: 24px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  margin-right: 12px;\n  color: #000;\n}\n.v-mobile-menu__icon .icon--v_favorite_solid {\n  fill: #4683d9;\n}\n.v-mobile-menu__title {\n  min-width: 0;\n  -ms-flex: 1;\n  flex: 1;\n}\n.v-mobile-menu__title span {\n  display: block;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.v-mobile-menu__more .icon {\n  display: block;\n}\n",""]),e.exports=t},629:function(e,t,n){var i=n(712);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(31).default)("82b16918",i,!1,{})},630:function(e,t,n){var i=n(714);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(31).default)("dd730d6c",i,!1,{})},631:function(e,t,n){var i=n(716);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(31).default)("1f73f894",i,!1,{})},632:function(e,t,n){var i=n(718);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(31).default)("42920d2c",i,!1,{})},633:function(e,t,n){var i=n(720);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(31).default)("2d0ed974",i,!1,{})},634:function(e,t,n){var i=n(722);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(31).default)("5c0f2b8e",i,!1,{})},635:function(e,t,n){var i=n(724);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(31).default)("392cec54",i,!1,{})},636:function(e,t,n){var i=n(726);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(31).default)("289ba3de",i,!1,{})},637:function(e,t,n){var i=n(728);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(31).default)("91eac2c4",i,!1,{})},638:function(e,t,n){var i=n(730);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(31).default)("3c6baa58",i,!1,{})},639:function(e,t,n){var i=n(732);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(31).default)("342da494",i,!1,{})},640:function(e,t,n){var i=n(734);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(31).default)("bb3201b4",i,!1,{})},641:function(e,t,n){var i=n(738);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(31).default)("101e7920",i,!1,{})},642:function(e,t,n){var i=n(740);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(31).default)("0cae92ac",i,!1,{})},643:function(e,t,n){var i=n(742);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(31).default)("f337ce5c",i,!1,{})},683:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return r}));const i="saveEntry",o="saveHistory",s="setDefaultSubsite",a="setAttaches",r="setEntryState"},684:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i="setEditorState"},707:function(e,t,n){"use strict";n(625)},708:function(e,t,n){(t=n(30)(!1)).push([e.i,"/** Match editor media queries */\n.editor-cp-tab:last-child {\n  min-width: 0;\n  margin-right: -10px;\n}\n.editor-cp-tab--active .editor-cp-tab__label {\n  color: #4683d9;\n}\n.editor-cp-tab--active .editor-cp-tab__content {\n  display: block;\n}\n.editor-cp-tab__label {\n  height: 50px;\n  padding: 0 12px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n  cursor: pointer;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n@media (max-width: 1024px) {\n.editor-cp-tab__label {\n    padding: 0 7px;\n}\n}\n.editor-cp-tab__label:hover {\n  color: #4683d9;\n}\n.editor-cp-tab__label .icon {\n  width: 20px;\n  height: 20px;\n  -ms-flex-negative: 0;\n  flex-shrink: 0;\n}\n@media (min-width: 1025px) {\n.editor-cp-tab__label .icon:not(:last-child) {\n    margin-right: 6px;\n}\n}\n.editor-cp-tab__label span {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n@media (max-width: 1024px) {\n.editor-cp-tab__label span {\n    display: none;\n}\n}\n.editor-cp-tab__content {\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  padding: 32px;\n  max-width: var(--max-editor-width);\n  max-height: calc(100vh - var(--height) - 72px);\n  margin: 0 auto;\n  background-color: #fff;\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  display: none;\n  -webkit-box-shadow: 0 4px 8px rgba(0,0,0,0.06), 0 0 1px rgba(0,0,0,0.25), 0 8px 0 0 #fff;\n  box-shadow: 0 4px 8px rgba(0,0,0,0.06), 0 0 1px rgba(0,0,0,0.25), 0 8px 0 0 #fff;\n  border-radius: 8px;\n  overflow: auto;\n  -webkit-overflow-scrolling: touch;\n  z-index: -2;\n}\n@media (min-width: 1025px) {\n.editor-cp-tab__content {\n    top: auto;\n    bottom: 100%;\n}\n}\n@media (min-width: 1025px) {\n.editor-cp-tab__content .v-mobile-menu {\n    --offset-x: 0;\n    --offset-y: 0;\n}\n}\n.editor-cp-tab__content .v-mobile-menu__header {\n  display: none;\n}\n",""]),e.exports=t},709:function(e,t,n){"use strict";n(626)},710:function(e,t,n){(t=n(30)(!1)).push([e.i,".editor-cp-tabs {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n}\n",""]),e.exports=t},711:function(e,t,n){"use strict";n(629)},712:function(e,t,n){(t=n(30)(!1)).push([e.i,'/** Match editor media queries */\n@media (max-width: 1024px) {\n.editor-settings {\n    margin-top: 12px;\n}\n}\n.editor-settings__checkboxes {\n  display: grid;\n  grid-template-columns: 38% 31% 31%;\n  gap: 8px 16px;\n}\n@media (max-width: 1024px) {\n.editor-settings__checkboxes {\n    grid-template-columns: 50% 50%;\n}\n.editor-settings__checkboxes .v-checkbox__caption {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n}\n.editor-settings__code {\n  display: inline-block;\n  border-radius: 4px;\n  padding: 0 5px;\n  font-size: 13px;\n  height: 20px;\n  line-height: 1.5em;\n  font-family: Menlo, Consolas, "Lucida Console", Monaco, "Courier New", Courier, monospace;\n  background: rgba(0,0,0,0.05);\n  margin-top: 4px;\n  margin-bottom: 12px;\n}\n',""]),e.exports=t},713:function(e,t,n){"use strict";n(630)},714:function(e,t,n){(t=n(30)(!1)).push([e.i,".v-radio {\n  position: relative;\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n  -ms-flex-pack: start;\n  justify-content: flex-start;\n  -ms-flex-align: start;\n  align-items: flex-start;\n  min-width: 18px;\n  min-height: 32px;\n  cursor: pointer;\n}\n.v-radio--disabled {\n  cursor: default;\n}\n.v-radio__input {\n  position: absolute;\n  top: 0;\n  left: 0;\n  opacity: 0;\n  visibility: hidden;\n}\n.v-radio__control {\n  position: absolute;\n  z-index: 1;\n  top: 7px;\n  left: 0;\n  width: 18px;\n  height: 18px;\n  background-color: rgba(0,0,0,0.06);\n  border: 1px solid rgba(0,0,0,0.03);\n  border-radius: 100%;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  -webkit-transition: background-color 0.1s linear, border-color 0.1s linear, -webkit-box-shadow 0.1s linear;\n  transition: background-color 0.1s linear, border-color 0.1s linear, -webkit-box-shadow 0.1s linear;\n  transition: background-color 0.1s linear, border-color 0.1s linear, box-shadow 0.1s linear;\n  transition: background-color 0.1s linear, border-color 0.1s linear, box-shadow 0.1s linear, -webkit-box-shadow 0.1s linear;\n}\n.v-radio__control::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  width: 8px;\n  height: 8px;\n  margin: auto;\n  background-color: #fff;\n  border-radius: 100%;\n  opacity: 0;\n}\n@media (hover: hover) {\n.v-radio:hover .v-radio__control {\n    background-color: #fff;\n    border-color: #bdd6fa;\n    -webkit-box-shadow: 0 0 0 3px rgba(70,131,217,0.12);\n    box-shadow: 0 0 0 3px rgba(70,131,217,0.12);\n}\n.v-radio--checked:hover .v-radio__control {\n    background-color: #427ccd;\n    border-color: #427ccd;\n}\n}\n.v-radio--checked .v-radio__control {\n  background-color: #4683d9;\n  border-color: #4683d9;\n  -webkit-transition: background-color 0s linear, border-color 0s linear, -webkit-box-shadow 0.1s linear;\n  transition: background-color 0s linear, border-color 0s linear, -webkit-box-shadow 0.1s linear;\n  transition: background-color 0s linear, border-color 0s linear, box-shadow 0.1s linear;\n  transition: background-color 0s linear, border-color 0s linear, box-shadow 0.1s linear, -webkit-box-shadow 0.1s linear;\n}\n.v-radio--checked .v-radio__control::after {\n  opacity: 1;\n}\n.v-radio--invalid .v-radio__control {\n  background-color: rgba(229,46,58,0.1);\n  border-color: #e52e3a;\n}\n.v-radio--invalid .v-radio__control::after {\n  background-color: rgba(0,0,0,0.25);\n}\n.v-radio--disabled .v-radio__control {\n  background-color: rgba(0,0,0,0.04) !important;\n  border-color: rgba(0,0,0,0.1) !important;\n  -webkit-box-shadow: none !important;\n  box-shadow: none !important;\n}\n.v-radio--disabled .v-radio__control::after {\n  background-color: rgba(0,0,0,0.25);\n}\n.v-radio__caption {\n  padding: 4px 0 0 26px;\n  font-size: 16px;\n  line-height: 1.5em;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.v-radio--disabled .v-radio__caption {\n  color: rgba(0,0,0,0.65);\n}\n",""]),e.exports=t},715:function(e,t,n){"use strict";n(631)},716:function(e,t,n){(t=n(30)(!1)).push([e.i,".editor-push {\n  --gap: 12px;\n}\n.editor-push__header {\n  margin-bottom: var(--gap);\n  display: -ms-flexbox;\n  display: flex;\n}\n.editor-push .v-form__content > .v-form-section:not(:last-child) {\n  margin-bottom: var(--gap);\n}\n.editor-push .v-form__content > .v-form-section:last-child .v-form-section__field {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n}\n.editor-push .v-form__content > .v-form-section:last-child .v-form-section__field .v-button {\n  margin-right: 16px;\n}\n.editor-push-tabs {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n  margin-left: auto;\n  font-size: 16px;\n  line-height: 1.5em;\n}\n@media (max-width: 859px) {\n.editor-push-tabs {\n    max-width: 150px;\n}\n}\n.editor-push-tabs__item {\n  -ms-flex-negative: 1;\n  flex-shrink: 1;\n  min-width: 0;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 4px 12px;\n  border-radius: 20px;\n  -ms-flex-align: center;\n  align-items: center;\n  cursor: pointer;\n}\n.editor-push-tabs__item:not(:last-child) {\n  margin-right: 4px;\n}\n.editor-push-tabs__item--active {\n  background-color: #fff;\n  -webkit-box-shadow: 0 1px 4px rgba(0,0,0,0.15);\n  box-shadow: 0 1px 4px rgba(0,0,0,0.15);\n}\n.editor-push-tabs__item span {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n",""]),e.exports=t},717:function(e,t,n){"use strict";n(632)},718:function(e,t,n){(t=n(30)(!1)).push([e.i,".editor-distribution-button {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n  color: #4683d9;\n  cursor: pointer;\n  font-size: 16px;\n  line-height: 1.5em;\n}\n.editor-distribution-button:hover {\n  color: #000;\n}\n.editor-distribution-button .icon {\n  -ms-flex-negative: 0;\n  flex-shrink: 0;\n  margin-right: 8px;\n  top: -1px;\n}\n",""]),e.exports=t},719:function(e,t,n){"use strict";n(633)},720:function(e,t,n){(t=n(30)(!1)).push([e.i,".editor-custom-cover {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.editor-custom-cover--loading {\n  pointer-events: none;\n}\n.editor-custom-cover--loading .editor-custom-cover__preview:after {\n  content: '';\n  position: absolute;\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  border: 2px solid #dedede;\n  border-top-color: #4683d9;\n  left: 50%;\n  top: 50%;\n  margin-top: -15px;\n  margin-left: -15px;\n  -webkit-animation: keyframes-ui_wait 0.5s infinite linear;\n  animation: keyframes-ui_wait 0.5s infinite linear;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.editor-custom-cover--loading .editor-custom-cover__preview img {\n  -webkit-filter: grayscale(1);\n  filter: grayscale(1);\n}\n.editor-custom-cover__preview {\n  max-width: 420px;\n  margin-top: 12px;\n  background-color: #ccc;\n  border-radius: 8px;\n  overflow: hidden;\n  position: relative;\n}\n@media (max-width: 859px) {\n.editor-custom-cover__preview {\n    margin-top: 20px;\n}\n}\n.editor-custom-cover__preview:hover .editor-custom-cover__remove {\n  visibility: visible;\n  opacity: 1;\n}\n.editor-custom-cover__preview:before {\n  content: '';\n  display: block;\n  padding-bottom: 52.5%;\n}\n.editor-custom-cover__preview img {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  width: 100%;\n  outline: 1px solid rgba(0,0,0,0.1);\n  outline-offset: -1px;\n}\n.editor-custom-cover__remove {\n  background-color: rgba(0,0,0,0.7);\n  visibility: hidden;\n  opacity: 0;\n  width: 100%;\n  height: 100%;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 1;\n  -webkit-transition: all 0.14s;\n  transition: all 0.14s;\n}\n",""]),e.exports=t},721:function(e,t,n){"use strict";n(634)},722:function(e,t,n){(t=n(30)(!1)).push([e.i,"/** Match editor media queries */\n.editor-announcements {\n  margin-top: 12px;\n}\n.editor-announcements__item {\n  position: relative;\n}\n.editor-announcements__item:not(:last-child) {\n  margin-bottom: 12px;\n}\n",""]),e.exports=t},723:function(e,t,n){"use strict";n(635)},724:function(e,t,n){(t=n(30)(!1)).push([e.i,"/** Match editor media queries */\n@media (max-width: 1024px) {\n.editor-distribution {\n    margin-top: 12px;\n}\n}\n.editor-distribution .editor-push {\n  margin-top: -36px;\n}\n.editor-distribution__checkboxes {\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  gap: 0 16px;\n  max-width: 420px;\n}\n@media (max-width: 1024px) {\n.editor-distribution__checkboxes {\n    gap: 8px 16px;\n    grid-template-columns: 50% 50%;\n}\n}\n.editor-distribution__checkboxes:not(:last-child) {\n  margin-bottom: 8px;\n}\n@media (max-width: 1024px) {\n.editor-distribution__checkboxes:not(:last-child) {\n    margin-bottom: 16px;\n}\n}\n",""]),e.exports=t},725:function(e,t,n){"use strict";n(636)},726:function(e,t,n){(t=n(30)(!1)).push([e.i,"/** Match editor media queries */\n.editor-history {\n  display: grid;\n  gap: 30px;\n}\n@media (max-width: 1024px) {\n.editor-history {\n    margin-top: 12px;\n}\n}\n.editor-history__items {\n  --gap: 8px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  margin-bottom: calc(var(--gap) * -1);\n}\n.editor-history .v-form__content > .v-form-section .v-form-section__field:not(:first-child) {\n  margin-top: 12px;\n}\n.editor-history-item {\n  --border-radius: 6px;\n  --height: 32px;\n  --offset: 12px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n  line-height: var(--height);\n  -ms-flex-negative: 0;\n  flex-shrink: 0;\n  border-radius: var(--border-radius);\n  border: 1px solid #dedede;\n  margin-right: var(--gap);\n  margin-bottom: var(--gap);\n  white-space: nowrap;\n  font-size: 16px;\n}\n@media (hover: hover) {\n.editor-history-item:hover {\n    -webkit-box-shadow: 0 1px 4px rgba(0,0,0,0.08);\n    box-shadow: 0 1px 4px rgba(0,0,0,0.08);\n}\n}\n.editor-history-item:active {\n  -webkit-transform: translateY(1px);\n  transform: translateY(1px);\n}\n.editor-history-item__author {\n  --size: 24px;\n  -ms-flex-negative: 0;\n  flex-shrink: 0;\n  width: var(--size);\n  height: var(--size);\n  background-color: #dedede;\n  border-radius: var(--border-radius);\n  position: relative;\n  overflow: hidden;\n  margin-left: 4px;\n  margin-right: -4px;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n  -webkit-box-shadow: inset 0 0 0 1px rgba(0,0,0,0.1);\n  box-shadow: inset 0 0 0 1px rgba(0,0,0,0.1);\n}\n@media (max-width: 1024px) {\n.editor-history-item__author {\n    --size: 26px;\n    margin-right: 0;\n}\n}\n.editor-history-item__author:after {\n  content: '';\n  display: block;\n  padding-bottom: 100%;\n}\n.editor-history-item__date {\n  padding: 0 var(--offset);\n  line-height: inherit;\n}\n",""]),e.exports=t},727:function(e,t,n){"use strict";n(637)},728:function(e,t,n){(t=n(30)(!1)).push([e.i,"/** Match editor media queries */\n.editor-cp {\n  --offset-bottom: 4px;\n  width: 100%;\n  background-color: #fff;\n  z-index: 19;\n  font-size: 16px;\n  line-height: 1.5em;\n  position: relative;\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n}\n.editor-cp__content {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n  height: var(--height, 50px);\n}\n.editor-cp__content .editor-cp-tab__label {\n  height: var(--height, 50px);\n}\n@media (min-width: 1025px) {\n.editor-cp__content .editor-cp-tab__label {\n    padding-bottom: var(--offset-bottom);\n}\n}\n.editor-cp__left {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n  min-width: 0;\n}\n@media (min-width: 1025px) {\n.editor-cp__left {\n    margin-right: 20px;\n    padding-bottom: var(--offset-bottom);\n}\n}\n@media (max-width: 1024px) {\n.editor-cp__left {\n    -ms-flex: 1;\n    flex: 1;\n    -ms-flex-direction: row-reverse;\n    flex-direction: row-reverse;\n    -ms-flex-pack: start;\n    justify-content: flex-start;\n}\n}\n.editor-cp__left .v-button {\n  -ms-flex-negative: 0;\n  flex-shrink: 0;\n}\n@media (min-width: 1025px) {\n.editor-cp__left .v-button:not(:last-child) {\n    margin-right: 12px;\n}\n}\n@media (max-width: 1024px) {\n.editor-cp__left .v-button:not(:first-child) {\n    margin-right: 8px;\n}\n}\n.editor-cp__right {\n  margin-left: auto;\n}\n.editor-cp__back {\n  padding: var(--offset, 16px);\n  margin-left: calc(var(--offset, 16px) * -1);\n  -ms-flex-item-align: stretch;\n  align-self: stretch;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n  cursor: pointer;\n}\n.editor-cp__back .icon {\n  display: block;\n}\n.editor-cp__etc {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n  -ms-flex-item-align: stretch;\n  align-self: stretch;\n  padding: 0 15px;\n  cursor: pointer;\n}\n@media (max-width: 1024px) {\n.editor-cp .v-button {\n    --offset: 14px;\n    --min-width: 36px;\n    --height: 32px;\n    --font-size: 14px;\n    --icon-size: 20px;\n    --border-radius: 6px;\n}\n}\n.editor-cp__autosave {\n  font-size: 16px;\n  line-height: 1.5em;\n  color: #595959;\n  margin-left: 14px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n  min-width: 0;\n}\n@media (max-width: 1024px) {\n.editor-cp__autosave {\n    margin-left: 0;\n    margin-right: auto;\n    font-size: 15px;\n}\n}\n.editor-cp__autosave::after {\n  content: '...';\n  white-space: nowrap;\n  overflow: hidden;\n  -webkit-animation: editorAutosaveDots 0.8s infinite step-start;\n  animation: editorAutosaveDots 0.8s infinite step-start;\n}\n.editor-cp__autosave--finished::after {\n  display: none;\n}\n.editor-cp__autosave span {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n@media (max-width: 359px) {\n.editor-cp__autosave span {\n    display: none;\n}\n}\n.editor-cp__autosave .icon {\n  -ms-flex-negative: 0;\n  flex-shrink: 0;\n  margin-left: 4px;\n  margin-top: -2px;\n  -webkit-animation: editorAutosaveTick 0.1s ease-in;\n  animation: editorAutosaveTick 0.1s ease-in;\n}\n@media (max-width: 1024px) {\n.editor-cp-desktop {\n    display: none;\n}\n}\n@media (min-width: 1025px) {\n.editor-cp-mobile {\n    display: none;\n}\n}\n.typograph-success {\n  position: relative;\n}\n.typograph-success .icon {\n  -webkit-transition: opacity 250ms ease, color 250ms ease, -webkit-transform 250ms ease;\n  transition: opacity 250ms ease, color 250ms ease, -webkit-transform 250ms ease;\n  transition: opacity 250ms ease, transform 250ms ease, color 250ms ease;\n  transition: opacity 250ms ease, transform 250ms ease, color 250ms ease, -webkit-transform 250ms ease;\n  -webkit-transform: rotate(45deg) scale(0.8);\n  transform: rotate(45deg) scale(0.8);\n  opacity: 0;\n  color: #1eb82f;\n}\n.typograph-success::before {\n  content: '';\n  display: inline-block;\n  width: 18px;\n  height: 18px;\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 14 14'%3E%3Cpath fill='%231EB82F' d='M7 0a7 7 0 100 14A7 7 0 007 0zM5.92 10.23L2.69 7.01l1.24-1.24 1.98 1.99 4.21-4.21 1.24 1.24-5.44 5.44z'/%3E%3C/svg%3E\");\n  background-size: 18px 18px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-top: -9px;\n  margin-left: -9px;\n  -webkit-animation: rotateIn 300ms ease forwards;\n  animation: rotateIn 300ms ease forwards;\n}\n@-moz-keyframes rotateIn {\n0% {\n    transform: rotate(-45deg) scale(0.3);\n}\n100% {\n    transform: none;\n}\n}\n@-webkit-keyframes rotateIn {\n0% {\n    -webkit-transform: rotate(-45deg) scale(0.3);\n    transform: rotate(-45deg) scale(0.3);\n}\n100% {\n    -webkit-transform: none;\n    transform: none;\n}\n}\n@-o-keyframes rotateIn {\n0% {\n    transform: rotate(-45deg) scale(0.3);\n}\n100% {\n    transform: none;\n}\n}\n@keyframes rotateIn {\n0% {\n    -webkit-transform: rotate(-45deg) scale(0.3);\n    transform: rotate(-45deg) scale(0.3);\n}\n100% {\n    -webkit-transform: none;\n    transform: none;\n}\n}\n@-moz-keyframes editorAutosaveDots {\n0%, 100% {\n    width: 0;\n}\n25% {\n    width: 4px;\n}\n50% {\n    width: 8px;\n}\n75% {\n    width: 16px;\n}\n}\n@-webkit-keyframes editorAutosaveDots {\n0%, 100% {\n    width: 0;\n}\n25% {\n    width: 4px;\n}\n50% {\n    width: 8px;\n}\n75% {\n    width: 16px;\n}\n}\n@-o-keyframes editorAutosaveDots {\n0%, 100% {\n    width: 0;\n}\n25% {\n    width: 4px;\n}\n50% {\n    width: 8px;\n}\n75% {\n    width: 16px;\n}\n}\n@keyframes editorAutosaveDots {\n0%, 100% {\n    width: 0;\n}\n25% {\n    width: 4px;\n}\n50% {\n    width: 8px;\n}\n75% {\n    width: 16px;\n}\n}\n@-moz-keyframes editorAutosaveTick {\n0% {\n    transform: scale(0.75);\n}\n100% {\n    transform: scale(1);\n}\n}\n@-webkit-keyframes editorAutosaveTick {\n0% {\n    -webkit-transform: scale(0.75);\n    transform: scale(0.75);\n}\n100% {\n    -webkit-transform: scale(1);\n    transform: scale(1);\n}\n}\n@-o-keyframes editorAutosaveTick {\n0% {\n    transform: scale(0.75);\n}\n100% {\n    transform: scale(1);\n}\n}\n@keyframes editorAutosaveTick {\n0% {\n    -webkit-transform: scale(0.75);\n    transform: scale(0.75);\n}\n100% {\n    -webkit-transform: scale(1);\n    transform: scale(1);\n}\n}\n",""]),e.exports=t},729:function(e,t,n){"use strict";n(638)},730:function(e,t,n){(t=n(30)(!1)).push([e.i,".editor-subsite-select {\n  white-space: nowrap;\n  line-height: 22px;\n  position: relative;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.editor-subsite-select--disabled {\n  pointer-events: none;\n}\n.editor-subsite-select__current {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n  cursor: pointer;\n}\n.editor-subsite-select__current:hover {\n  color: rgba(0,0,0,0.7);\n}\n.editor-subsite-select__label {\n  -ms-flex-negative: 1;\n  flex-shrink: 1;\n  min-width: 20px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.editor-subsite-select__image {\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  width: 22px;\n  height: 22px;\n  border-radius: 6px;\n  overflow: hidden;\n  margin-right: 8px;\n  -ms-flex-negative: 0;\n  flex-shrink: 0;\n  background-color: #ccc;\n}\n.editor-subsite-select__image--empty {\n  background-color: transparent;\n  border: 1px dotted #595959;\n}\n.editor-subsite-select__image img {\n  width: 100%;\n  height: 100%;\n  outline: 1px solid rgba(0,0,0,0.1);\n  outline-offset: -1px;\n}\n.editor-subsite-select .icon--v_arrow_down {\n  -ms-flex-negative: 0;\n  flex-shrink: 0;\n  margin-left: 6px;\n}\n.editor-subsite-select .popover {\n  top: 100%;\n  margin-top: 7px;\n  width: auto !important;\n  min-width: 220px;\n  left: -16px;\n  right: -16px;\n}\n",""]),e.exports=t},731:function(e,t,n){"use strict";n(639)},732:function(e,t,n){(t=n(30)(!1)).push([e.i,"/** Match editor media queries */\n.editor-ap {\n  font-size: 15px;\n  line-height: 1.6em;\n}\n.editor-ap__content {\n  height: var(--height, 48px);\n}\n.editor-ap__item {\n  min-width: 0;\n  -ms-flex-negative: 1;\n  flex-shrink: 1;\n}\n.editor-ap__item:not(:last-child) {\n  margin-right: 24px;\n}\n@media (max-width: 1024px) {\n.editor-ap__item:not(:last-child) {\n    margin-right: 12px;\n}\n}\n@media (max-width: 1024px) {\n.editor-ap__item:nth-child(2) {\n    margin-left: auto;\n    margin-right: 0;\n}\n.editor-ap__item:nth-child(2) .editor-subsite-select .popover {\n    left: auto;\n    right: -16px;\n}\n.editor-ap__item:nth-child(2) .editor-subsite-select__image {\n    margin-right: 0;\n}\n.editor-ap__item:nth-child(2) .editor-subsite-select__label {\n    display: none;\n}\n}\n@media (max-width: 1024px) {\n.editor-ap-desktop {\n    display: none;\n}\n}\n@media (min-width: 1025px) {\n.editor-ap-mobile {\n    display: none;\n}\n}\n",""]),e.exports=t},733:function(e,t,n){"use strict";n(640)},734:function(e,t,n){(t=n(30)(!1)).push([e.i,".editor-title {\n  --color-placeholder: #d1d1d1;\n  display: block;\n  width: 100%;\n  height: 47px;\n  margin: 0 0 9px;\n  padding: 0;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  resize: none;\n  border: 0;\n  outline: 0 !important;\n  font-size: 36px;\n  line-height: 1.3em;\n  font-weight: 500;\n}\n@media (max-width: 859px) {\n.editor-title {\n    font-size: 28px;\n}\n}\n.editor-title:focus {\n  --color-placeholder: #e8e8e8;\n}\n.editor-title::-webkit-input-placeholder {\n  color: var(--color-placeholder);\n  opacity: 1;\n}\n.editor-title::-moz-placeholder {\n  color: var(--color-placeholder);\n  opacity: 1;\n}\n.editor-title:-ms-input-placeholder {\n  color: var(--color-placeholder);\n  opacity: 1;\n}\n.editor-title::-ms-input-placeholder {\n  color: var(--color-placeholder);\n  opacity: 1;\n}\n.editor-title::placeholder {\n  color: var(--color-placeholder);\n  opacity: 1;\n}\n",""]),e.exports=t},735:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{constructor(e,t=!1){this.container=null,this.observer=null,this.processedElements=null,this.isEnableObserver=t,this.isGrammarlyEnabled=document.body.hasAttribute("data-gr-ext-installed")||document.body.hasAttribute("data-new-gr-c-s-loaded"),this.isGrammarlyEnabled&&(this.container=e,this.processedElements=new Set,this.init(),this.isEnableObserver&&this.observe())}init(){const e=[...this.container.querySelectorAll("textarea, [contenteditable=true]")];e.length&&e.forEach(this.processElement.bind(this))}observe(){this.observer=new MutationObserver(this.observerHandler.bind(this)),this.observer.observe(this.container,{childList:!0,subtree:!0})}observerHandler(e){e.reduce((e,t)=>{const{target:n}=t;return[...n.querySelectorAll("textarea, [contenteditable=true]")].forEach(t=>{this.processedElements.has(t)||e.add(t)}),e},new Set).forEach(this.processElement.bind(this))}destroy(){this.observer&&(this.observer.disconnect(),this.observer=null),this.container=null,this.processedElements=null}processElement(e){i.setGrammarlyOff(e),this.processedElements.add(e)}static setGrammarlyOff(e){e.dataset.gramm=!1}}},737:function(e,t,n){"use strict";n(641)},738:function(e,t,n){(t=n(30)(!1)).push([e.i,"/** Match editor media queries */\n.v-popup-fp-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0,0,0,0.75);\n  z-index: 998;\n  overflow: hidden;\n  padding: 70px;\n  display: grid;\n  -ms-flex-line-pack: center;\n  align-content: center;\n  grid-template-columns: 1fr;\n  justify-items: center;\n}\n@media (max-width: 1024px) {\n.v-popup-fp-overlay {\n    padding: 0;\n    position: fixed;\n    -ms-flex-line-pack: stretch;\n    align-content: stretch;\n}\n}\n@media (min-width: 1025px) {\n.v-popup-fp-overlay--maximized {\n    padding: 0;\n    position: absolute;\n    -ms-flex-line-pack: stretch;\n    align-content: stretch;\n}\n}\n",""]),e.exports=t},739:function(e,t,n){"use strict";n(642)},740:function(e,t,n){(t=n(30)(!1)).push([e.i,"/** Match editor media queries */\n.v-popup-fp-window {\n  --controls-size: 48px;\n  border-radius: 8px;\n  background-color: #fff;\n  width: 100%;\n  max-width: 880px;\n  display: grid;\n  grid-template-rows: 1fr auto;\n  position: relative;\n  overflow: hidden;\n/** Safari fix */\n  -webkit-mask-image: -webkit-radial-gradient(#fff, #000);\n}\n@media (max-width: 1024px) {\n.v-popup-fp-window {\n    border-radius: 0;\n    max-width: none;\n}\n}\n.v-popup-fp-window--maximized {\n  border-radius: 0;\n  max-width: none;\n}\n.v-popup-fp-window__controls {\n  height: var(--controls-size);\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n  margin-left: auto;\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 10;\n}\n@media (max-width: 1024px) {\n.v-popup-fp-window__controls {\n    display: none;\n}\n}\n.v-popup-fp-window__control {\n  padding: 12px;\n  cursor: pointer;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  opacity: 0.5;\n}\n.v-popup-fp-window__control .icon {\n  display: block;\n}\n.v-popup-fp-window__control:hover {\n  opacity: 1;\n}\n.v-popup-fp-window__control:not(:last-child) {\n  padding-right: 4px;\n  padding-left: 4px;\n}\n.v-popup-fp-window__body {\n  min-height: 0;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n  flex-direction: column;\n}\n",""]),e.exports=t},741:function(e,t,n){"use strict";n(643)},742:function(e,t,n){(t=n(30)(!1)).push([e.i,"/** Match editor media queries */\n@media (min-width: 1025px) {\n.v-popup-fp-container--maximized {\n    position: fixed;\n    top: 60px;\n    left: var(--left-column-width, 0);\n    right: 0;\n    height: calc(100vh - 60px);\n    z-index: 18;\n}\n}\n.v-popup-fp-enter-active {\n  -webkit-animation: v-popup-fp 0.14s;\n  animation: v-popup-fp 0.14s;\n}\n.v-popup-fp-leave-active {\n  -webkit-animation: v-popup-fp-reverse 0.14s;\n  animation: v-popup-fp-reverse 0.14s;\n}\n@-moz-keyframes v-popup-fp {\n0% {\n    opacity: 0;\n}\n100% {\n    opacity: 1;\n}\n}\n@-webkit-keyframes v-popup-fp {\n0% {\n    opacity: 0;\n}\n100% {\n    opacity: 1;\n}\n}\n@-o-keyframes v-popup-fp {\n0% {\n    opacity: 0;\n}\n100% {\n    opacity: 1;\n}\n}\n@keyframes v-popup-fp {\n0% {\n    opacity: 0;\n}\n100% {\n    opacity: 1;\n}\n}\n@-moz-keyframes v-popup-fp-reverse {\n0% {\n    opacity: 1;\n}\n100% {\n    opacity: 0;\n}\n}\n@-webkit-keyframes v-popup-fp-reverse {\n0% {\n    opacity: 1;\n}\n100% {\n    opacity: 0;\n}\n}\n@-o-keyframes v-popup-fp-reverse {\n0% {\n    opacity: 1;\n}\n100% {\n    opacity: 0;\n}\n}\n@keyframes v-popup-fp-reverse {\n0% {\n    opacity: 1;\n}\n100% {\n    opacity: 0;\n}\n}\n",""]),e.exports=t},795:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"editor-cp"},[n("div",{staticClass:"editor-cp__content l-editor"},[n("div",{staticClass:"editor-cp__back editor-cp-mobile",on:{click:function(t){return e.$emit("close")}}},[n("icon",{attrs:{name:"v_back",width:"24",height:"24"}})],1),e._v(" "),n("div",{staticClass:"editor-cp__left"},[e.isDraft?n("layout-button",{key:"publish",attrs:{type:"blue","mobile-size":"tiny",disabled:e.isSaveDisabled},on:{click:e.publish}},[n("translate",[e._v("\n          Publish\n        ")])],1):e._e(),e._v(" "),e.isShowSaveButton?n("layout-button",{key:"save",attrs:{type:e.isDraft?"default":"blue","mobile-size":"tiny",icon:"v_save","icon-size":"24",loading:e.isSaving,disabled:e.isSaveDisabled,title:e.titles.save},on:{click:e.save}},[e.isDraft?e._e():n("translate",[e._v("\n          Save\n        ")])],1):e._e(),e._v(" "),e.isShowPreview&&e.entry.url?n("layout-button",{staticClass:"editor-cp-desktop",attrs:{"mobile-size":"tiny",icon:"v_eye","icon-size":"24",title:e.titles.link,url:e.entry.url,"new-tab":!0}}):e._e(),e._v(" "),e.enableTypograph&&e.entry.id?n("layout-button",{staticClass:"editor-cp-desktop",class:{"typograph-success":e.typographProcessed},attrs:{"mobile-size":"tiny",icon:"v_letter","icon-size":"24",title:e.titles.typograph},on:{click:e.fixTypos}}):e._e(),e._v(" "),e.isMobileMenuAvailable?n("div",{staticClass:"editor-cp__etc editor-cp-mobile",on:{click:e.openMobilePopup}},[n("icon",{attrs:{name:"ui_etc",width:"18",height:"8"}})],1):e._e(),e._v(" "),e.isDraft&&e.saveProgressLabel?n("div",{class:["editor-cp__autosave",{"editor-cp__autosave--finished":e.isError||e.isSaved&&!e.isSavingProgressLabel}]},[n("span",[e._v(e._s(e.saveProgressLabel))]),e._v(" "),e.isSaved&&!e.isSavingProgressLabel?n("icon",{attrs:{name:"v_tick",width:"16",height:"16"}}):e._e()],1):e._e()],1),e._v(" "),n("div",{staticClass:"editor-cp__right editor-cp-desktop"},[n("editor-control-panel-tabs",{attrs:{list:e.availableTabs},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[e.activeTab===e.EditorTab.Settings?n("editor-settings",{attrs:{"access-levels":e.accessLevels},on:{change:function(t){return e.$emit("change")}},model:{value:e.entry,callback:function(t){e.entry=t},expression:"entry"}}):e._e(),e._v(" "),e.activeTab===e.EditorTab.Distribution?n("editor-distribution",{attrs:{"access-levels":e.accessLevels},on:{change:function(t){return e.$emit("change")}},model:{value:e.entry,callback:function(t){e.entry=t},expression:"entry"}}):e._e(),e._v(" "),e.activeTab===e.EditorTab.History?n("editor-history",{model:{value:e.entry,callback:function(t){e.entry=t},expression:"entry"}}):e._e()],1)],1)])])};i._withStripped=!0;var o=n(26),s=n(60),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"editor-cp-tabs"},e._l(e.list,(function(t){return n("editor-control-panel-tab",{key:t.name,attrs:{name:t.name,label:t.label,icon:t.icon,title:t.title,"is-active":t.name===e.value},on:{click:e.onTabClick}},[n("keep-alive",[t.name===e.value?e._t("default"):e._e()],2)],1)})),1)};a._withStripped=!0;var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.onClickOutside,expression:"onClickOutside"}],class:["editor-cp-tab",{"editor-cp-tab--active":e.isActive}]},[n("div",{staticClass:"editor-cp-tab__label",attrs:{title:e.title},on:{click:e.onClick}},[e.icon?n("icon",{attrs:{name:e.icon,width:"24",height:"24"}}):e._e(),e._v(" "),e.label?n("span",[e._v(e._s(e.label))]):e._e()],1),e._v(" "),n("div",{staticClass:"editor-cp-tab__content"},[e._t("default")],2)])};r._withStripped=!0;var l={name:"editor-control-panel-tab",components:{Icon:o.a},props:{name:{type:String,default:""},label:{type:String,default:""},icon:{type:String,default:""},title:{type:String,default:""},isActive:{type:Boolean,default:!1}},methods:{onClick(){this.$emit("click",this.name)},onClickOutside(){this.isActive&&this.$emit("click","")}}},c=(n(707),n(10)),d=Object(c.a)(l,r,[],!1,null,null,null);d.options.__file="src/Components/Ui/vue/editor/editor-control-panel-tab.vue";var p={name:"editor-control-panel-tabs",components:{EditorControlPanelTab:d.exports},model:{prop:"value",event:"change"},props:{value:{type:String,default:""},list:{type:Array,default:()=>[]}},methods:{onTabClick(e=""){this.$emit("change",e===this.value?"":e)}}},u=(n(709),Object(c.a)(p,a,[],!1,null,null,null));u.options.__file="src/Components/Ui/vue/editor/editor-control-panel-tabs.vue";var h=u.exports,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("layout-mobile-menu",{attrs:{title:e.$gettext("Settings")},on:{close:function(t){return e.$emit("back")}}},[n("div",{staticClass:"editor-settings"},[n("layout-form",[e.accessLevels.yellow_features&&e.entry.id&&Object.keys(e.entry).includes("path")?n("form-section",[n("text-input",{attrs:{prefix:e.domain+"/"+e.entry.id+"-",icons:{right:{name:"v_link",onClick:e.onExternalLinkCopyClick}}},on:{input:function(t){return e.$emit("change",e.entry)}},model:{value:e.entry.path,callback:function(t){e.$set(e.entry,"path",t)},expression:"entry.path"}})],1):e._e(),e._v(" "),e._l(e.availableCheckboxes,(function(t,i){return n("form-section",{key:"group-"+i,attrs:{label:t.label}},[n("div",{staticClass:"editor-settings__checkboxes"},e._l(t.checkboxes,(function(t,o){return n("checkbox",{key:"group-"+i+"-checkbox-"+o,attrs:{checked:t.isInverted?!e.entry[t.name]:e.entry[t.name],value:t.value,caption:t.label,"is-disabled":t.isDisabled},on:{change:function(n){return e.onSettingCheckboxChange(t,n)}}})})),1)])})),e._v(" "),e.accessLevels.blue_features&&e.entry.id&&Object.keys(e.entry).includes("custom_style")?n("form-section",{attrs:{label:e.$gettext("Style for feed")}},[n("span",{staticClass:"editor-settings__code"},[e._v(".content-feed--"+e._s(e.entry.id))]),e._v(" "),n("text-area",{on:{input:function(t){return e.$emit("change",e.entry)}},model:{value:e.entry.custom_style,callback:function(t){e.$set(e.entry,"custom_style",t)},expression:"entry.custom_style"}})],1):e._e()],2)],1)])};m._withStripped=!0;var f=n(529),v=n(38),b=n(88),g=n(556),_=n(124),x=n(567),y=n(5),w=n(158),k={name:"editor-settings",components:{LayoutForm:f.a,FormSection:v.a,TextInput:b.default,TextArea:g.a,Checkbox:_.a,LayoutMobileMenu:x.a},model:{prop:"entry",event:"change"},props:{entry:{type:Object,default:()=>({})},accessLevels:{type:Object,default:()=>({})}},data:()=>({domain:"tjournal.ru"}),computed:{availableCheckboxes(){const{yellow_features:e,blue_features:t,red_features:n,moderator_features:i,holdonmain:o,withheld:s}=this.accessLevels;return[{label:this.$gettext("Entry"),checkboxes:[{name:"is_still_updating",label:this.$gettext("Updating"),access:e},{name:"is_editorial",label:this.$gettext("Editorial"),access:n},{name:"is_special",label:this.$gettext("Special project"),access:n},{name:"is_filled_by_editors",label:this.$pgettext("supplemented","Completed"),access:n},{name:"is_nsfw",label:"18+",access:n||i},{name:"is_hidden_for_plus",label:this.$gettext("Hide for Plus"),access:n||i}]},{label:this.$gettext("On the main"),checkboxes:[{name:"is_holdonmain",label:this.$gettext("Hold for 4 h"),access:o},{name:"forced_to_mainpage",label:this.$gettext("Hide"),value:-1,access:e||i},{name:"is_holdonflash",label:this.$gettext("Breaking"),access:t}]},{label:this.$gettext("Disable"),checkboxes:[{name:"is_enabled_comments",label:this.$gettext("Comments"),access:t,isInverted:!0},{name:"is_enabled_likes",label:this.$gettext("Voting"),access:t,isInverted:!0},{name:"locked_by_admin",label:this.$gettext("Editing"),access:t},{name:"is_disabled_apps",label:this.$gettext("Displaying in apps"),access:t},{name:"withheld",label:this.$gettext("Displaying in Russia"),access:s,value:"ru"},{name:"is_show_thanks",label:this.$gettext("+ «Thanks»"),access:t},{name:"is_enabled_ad",label:this.$gettext("Advertising"),access:n,isInverted:!0}]}].filter(e=>(e.checkboxes=e.checkboxes.filter(e=>e.access&&Object.keys(this.entry).includes(e.name)),e.checkboxes.length))}},methods:{onSettingCheckboxChange(e,t){this.entry[e.name]=e.isInverted?!t:t,this.$emit("change",this.entry)},async onExternalLinkCopyClick(){try{await Object(w.a)(this.entry.external_access_link),Object(y.success)(this.$gettext("Link copied"))}catch{Object(y.error)(this.$gettext("Failed to copy link"))}}}},S=(n(711),Object(c.a)(k,m,[],!1,null,null,null));S.options.__file="src/Components/Ui/vue/editor/editor-settings.vue";var C=S.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("layout-mobile-menu",{attrs:{title:e.$gettext("Distribution")},on:{close:function(t){return e.$emit("back")}}},[n("div",{staticClass:"editor-distribution"},[n("layout-form",[e.entry.is_published&&e.accessLevels.red_features?n("form-section",{attrs:{label:e.$gettext("Push notification")}},[n("editor-push",{attrs:{"entry-id":e.entry.id,text:e.entry.title,url:e.entry.url}})],1):e._e(),e._v(" "),n("form-section",{attrs:{label:e.$gettext("Social networks")}},[n("div",{staticClass:"editor-distribution__checkboxes"},e._l(e.socialCheckboxes,(function(t,i){return n("checkbox",{key:"social-checkbox-"+i,attrs:{caption:t.label},on:{change:function(t){return e.$emit("change",e.entry)}},model:{value:e.entry[t.name],callback:function(n){e.$set(e.entry,t.name,n)},expression:"entry[checkbox.name]"}})})),1),e._v(" "),e.entry.url?n("editor-distribution-button",{attrs:{icon:"v_refresh"},on:{click:e.clearEntryCache}},[n("translate",[e._v("\n            Clear cache\n          ")])],1):e._e()],1),e._v(" "),n("form-section",{attrs:{label:e.$gettext("Cover")}},[n("div",{staticClass:"editor-distribution__checkboxes"},e._l(e.coverRadioButtons,(function(t,i){return n("radio",{key:"cover-radio-"+i,attrs:{value:t.value,caption:t.label},on:{change:function(t){return e.$emit("change",e.entry)}},model:{value:e.entry[t.name],callback:function(n){e.$set(e.entry,t.name,n)},expression:"entry[radio.name]"}})})),1),e._v(" "),e.isCustomCoverAvailable?[n("editor-custom-cover",{on:{input:function(t){return e.$emit("change",e.entry)}},model:{value:e.entry.custom_cover,callback:function(t){e.$set(e.entry,"custom_cover",t)},expression:"entry.custom_cover"}})]:e._e()],2),e._v(" "),e.isAnnouncementLinksAvailable?n("form-section",{attrs:{label:e.$gettext("Announcements")}},[n("editor-announcements",{attrs:{"entry-id":e.entry.id,"entry-date":e.entry.date,links:e.entry.announcement_links},on:{change:function(t){return e.$emit("change",e.entry)}}})],1):e._e()],1)],1)])};$._withStripped=!0;var E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{class:["v-radio",{"v-radio--checked":e.isChecked,"v-radio--invalid":e.isInvalid,"v-radio--disabled":e.isDisabled}]},[n("input",{ref:"input",staticClass:"v-radio__input",attrs:{type:"radio",disabled:e.isDisabled},domProps:{value:e.value,checked:e.isChecked},on:{change:e.onChange}}),e._v(" "),n("span",{staticClass:"v-radio__control"}),e._v(" "),e.caption?n("span",{staticClass:"v-radio__caption"},[e._v("\n    "+e._s(e.caption)+"\n  ")]):e._e()])};E._withStripped=!0;var z={name:"radio",model:{prop:"checked",event:"change"},props:{checked:{type:String,required:!0},value:{type:String,default:""},caption:{type:String,default:""},isInvalid:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1}},computed:{isChecked(){return this.value===this.checked}},methods:{onChange(){this.$emit("change",this.value)}}},T=(n(713),Object(c.a)(z,E,[],!1,null,null,null));T.options.__file="src/Components/Ui/vue/radio/index.vue";var P=T.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"editor-push"},[n("div",{staticClass:"editor-push__header"},[n("div",{staticClass:"editor-push-tabs"},e._l(e.tabs,(function(t,i){return n("div",{key:i,class:["editor-push-tabs__item",{"editor-push-tabs__item--active":t.isActive}],on:{click:t.action}},[n("span",[e._v("\n          "+e._s(t.label)+"\n        ")])])})),0)]),e._v(" "),n("layout-form",{attrs:{"is-loading":e.isLoading}},[e._l(e.structure.fields,(function(t){return n("form-section",{key:t.name},[n(t.component,{tag:"component",attrs:{placeholder:t.placeholder,name:t.name,maxlength:t.maxlength,"is-disabled":e.isLoading},model:{value:e.values[t.name],callback:function(n){e.$set(e.values,t.name,n)},expression:"values[field.name]"}})],1)})),e._v(" "),n("form-section",[n("layout-button",{attrs:{disabled:e.isLoading},on:{click:e.send}},[n("translate",[e._v("\n          Send\n        ")])],1),e._v(" "),e._l(e.structure.checkboxes,(function(t){return n("checkbox",{key:t.name,attrs:{caption:t.label,"is-disabled":e.isLoading},model:{value:e.values[t.name],callback:function(n){e.$set(e.values,t.name,n)},expression:"values[field.name]"}})}))],2)],2)],1)};O._withStripped=!0;var L=n(555),A=n(557),D=n(3);const M={Web:"web",Mobile:"mobile"};var j={name:"editor-push",components:{LayoutForm:f.a,FormSection:v.a,Checkbox:_.a,TextInput:b.default,TextArea:g.a,LayoutTabs:L.a,LayoutButton:s.a,LayoutMessage:A.a},props:{entryId:{type:Number,required:!0},title:{type:String,default:""},text:{type:String,default:""},url:{type:String,default:""}},data(){return{pushTypes:{[M.Mobile]:{title:this.$gettext("Mobile"),endpoint:"/admin/push/mobile/news"},[M.Web]:{title:this.$gettext("Browser"),endpoint:"/admin/push/web"}},currentPushType:M.Mobile,values:{id:this.entryId,title:this.title,text:this.text,url:this.url+(this.url.includes("?")?"&":"?")+"from=push",is_enabled_mobile_push_sound:!1},isLoading:!1}},computed:{tabs(){const e=[];return Object.entries(this.pushTypes).forEach(([t,n])=>{e.push({label:n.title,isActive:t===this.currentPushType,action:()=>{this.setCurrentPushType(t)}})}),e},structure(){const e={fields:[{name:"title",placeholder:this.$gettextInterpolate(this.$gettext("Push title %{ optional }"),{optional:"mobile"===this.currentPushType?this.$gettext("(optional)"):""}),maxlength:24,component:"text-input",supportedPushTypes:[M.Web,M.Mobile]},{name:"text",placeholder:this.$gettext("Message text"),component:"text-area",supportedPushTypes:[M.Web,M.Mobile]},{name:"url",placeholder:this.$gettext("Link"),component:"text-input",supportedPushTypes:[M.Web]}],checkboxes:[{name:"is_enabled_mobile_push_sound",label:this.$gettext("With sound"),supportedPushTypes:[M.Mobile]}]};return Object.keys(e).forEach(t=>{e[t]=e[t].filter(e=>e.supportedPushTypes.includes(this.currentPushType))}),e}},created(){this.PushType=M},methods:{setCurrentPushType(e){this.currentPushType=e},confirm(){const e=this.values.is_enabled_mobile_push_sound;return new Promise(t=>{e?this.$popup.open(A.a,{maxWidth:460,props:{title:this.$gettext("Are you sure?"),text:this.$gettext("Send a push-notification with sound and vibration to all users?"),type:"confirm",confirmButtonText:this.$gettext("Send"),onConfirm(){this.$popup.close(),t()}}}):t()})},send(){this.isLoading||this.confirm().then(()=>(this.isLoading=!0,Object(D.e)({type:"POST",url:this.pushTypes[this.currentPushType].endpoint,data:{values:this.values},ignore_error_notify:!0}))).then(()=>{y.success(this.$gettext("Push has been sent"))}).catch(e=>{const t=this.$gettext("Push sending failed: %{ error }");y.error(this.$gettextInterpolate(t,{error:e}))}).finally(()=>{this.isLoading=!1})}}},B=(n(715),Object(c.a)(j,O,[],!1,null,null,null));B.options.__file="src/Components/Ui/vue/editor/editor-push.vue";var I=B.exports,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.tag,{tag:"component",staticClass:"editor-distribution-button",on:{click:function(t){return e.$emit("click")}}},[e.icon?n("icon",{attrs:{name:e.icon,width:20,height:20}}):e._e(),e._v(" "),e._t("default")],2)};R._withStripped=!0;var U={name:"editor-distribution-button",components:{Icon:o.a},props:{tag:{type:String,default:"div"},icon:{type:String,default:""}}},F=(n(717),Object(c.a)(U,R,[],!1,null,null,null));F.options.__file="src/Components/Ui/vue/editor/editor-distribution-button.vue";var N=F.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["editor-custom-cover",{"editor-custom-cover--loading":e.isLoading}]},[n("editor-distribution-button",{attrs:{tag:"label"}},[n("input",{attrs:{hidden:"",type:"file",accept:"image/png, image/jpeg, .webp"},on:{change:e.onFileSelect}}),e._v(" "),n("icon",{attrs:{name:"v_image",width:"20",height:"20"}}),e._v(" "),n("translate",[e._v("\n      Upload cover image\n    ")])],1),e._v(" "),e.hasPreview?n("div",{staticClass:"editor-custom-cover__preview"},[e.base64Preview?n("img",{attrs:{src:e.base64Preview,alt:""}}):e._e(),e._v(" "),e.value&&!e.base64Preview?[n("img",{attrs:{src:e._f("formImageUrl")(e.value.data.uuid,1200,630),alt:""}}),e._v(" "),n("div",{staticClass:"editor-custom-cover__remove"},[n("layout-button",{attrs:{type:"red",icon:"v_delete"},on:{click:function(t){return t.stopPropagation(),e.removeCover.apply(null,arguments)}}},[n("translate",[e._v("\n            Remove\n          ")])],1)],1)]:e._e()],2):e._e()],1)};H._withStripped=!0;var q=n(6),W={name:"editor-custom-cover",components:{Icon:o.a,LayoutButton:s.a,EditorDistributionButton:N},model:{prop:"value",event:"change"},props:{value:{type:Object,default:()=>({})}},data:()=>({base64Preview:"",isLoading:!1}),computed:{hasPreview(){return this.value||this.base64Preview}},methods:{onFileSelect(e){const{files:t}=e.target;t&&t.length&&!this.isLoading&&this.uploadCover(t)},uploadCover(e){this.isLoading=!0,this.loadPreview(e).then(e=>{this.isLoading&&(this.base64Preview=e)}),this.uploadFiles(e).then(e=>{const{type:t,data:n}=e[0];this.$emit("change",{type:t,data:n}),this.base64Preview=null}).catch(e=>{const t=this.$gettext("File uploading failed: %{ error }");y.error(this.$gettextInterpolate(t,{error:e.message}))}).finally(()=>{this.isLoading=!1})},removeCover(){this.$emit("change",null)},loadPreview:e=>new Promise((t,n)=>{const i=new FileReader;i.readAsDataURL(e[0]),i.onload=e=>{t(e.target.result)},i.onerror=e=>{n(new Error(e))}}),uploadFiles:e=>new Promise((t,n)=>{Object(q.uploadFiles)(e,e=>{e&&e.length?t(e):n(new Error("Error occured while uploading custom cover"))})})}},V=(n(719),Object(c.a)(W,H,[],!1,null,null,null));V.options.__file="src/Components/Ui/vue/editor/editor-custom-cover.vue";var G=V.exports,K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"editor-announcements"},[e._l(e.links,(function(t,i){return n("div",{key:i,staticClass:"editor-announcements__item"},[n("text-input",{ref:"inputs",refInFor:!0,attrs:{placeholder:e.inputPlaceholder,icons:e.social(t)?{left:{name:"v_"+e.social(t),onClick:function(){e.openUrl(t)}}}:{}},on:{submit:function(t){return e.enterHandler(i)}},model:{value:e.links[i],callback:function(t){e.$set(e.links,i,t)},expression:"links[index]"}})],1)})),e._v(" "),e.entryDate&&e.isOld?n("editor-distribution-button",{attrs:{icon:"v_refresh"},on:{click:e.updateData}},[n("translate",[e._v("\n      Refresh data\n    ")])],1):n("editor-distribution-button",{attrs:{icon:"v_plus"},on:{click:function(t){return e.addNew(!0)}}},[n("translate",[e._v("\n      Add a link\n    ")])],1)],2)};K._withStripped=!0;var Y=n(21),Q={name:"editor-announcements",components:{TextInput:b.default,EditorDistributionButton:N},props:{entryId:{type:Number,required:!0},entryDate:{type:Number,required:!0},links:{type:Array,required:!0}},data(){return{icons:{vk:"vkontakte",facebook:"facebook","t.me":"telegram",twitter:"twitter"},inputPlaceholder:this.$gettext("Announcement link")}},computed:{isOld(){return this.entryDate<Object(Y.f)()-1209600}},beforeMount(){this.addNew()},methods:{social(e){if(!e)return null;for(const t in this.icons)if(e.includes(t))return this.icons[t];return null},enterHandler(e){const{length:t}=this.links;e+1===t?this.addNew(!0):this.$refs.inputs[e+1].$el.focus(),this.$emit("change")},addNew(e){const t=this.links.length;this.$set(this.links,t,""),e&&this.$nextTick(()=>{this.$refs.inputs[t].$el.focus()})},updateData(){Object(D.e)({type:"post",url:`/writing/${this.entryId}/update_announcements`,data:{}}).then(()=>{y.success(this.$gettext("The data will be refreshed in 1 hour"))}).catch(e=>{const t=this.$gettext("Failed to refresh the data: %{ error }");y.error(this.$gettextInterpolate(t,{error:e}))})},openUrl(e){window.open(e)}}},X=(n(721),Object(c.a)(Q,K,[],!1,null,null,null));X.options.__file="src/Components/Ui/vue/editor/editor-announcements.vue";var J=X.exports,Z={name:"editor-distribution",components:{LayoutForm:f.a,FormSection:v.a,Checkbox:_.a,Radio:P,EditorPush:I,EditorDistributionButton:N,EditorCustomCover:G,EditorAnnouncements:J,LayoutMobileMenu:x.a},model:{prop:"entry",event:"change"},props:{entry:{type:Object,default:()=>({})},accessLevels:{type:Object,default:()=>({})}},computed:{socialCheckboxes:()=>[{name:"is_enabled_amp",label:"AMP"},{name:"is_enabled_instant_articles",label:"IA"},{name:"is_approved_for_public_rss",label:"RSS"}],coverRadioButtons(){return[{name:"is_clean_cover",label:this.$gettext("Regular"),value:0},{name:"is_clean_cover",label:this.$gettext("Without text"),value:1},{name:"is_clean_cover",label:this.$gettext("Without picture"),value:2}]},isCustomCoverAvailable(){return Object.keys(this.entry).includes("custom_cover")},isAnnouncementLinksAvailable(){return Object.keys(this.entry).includes("announcement_links")}},methods:{clearEntryCache(){!function(e,t){const n=window.open("https://api.vk.com/method/pages.clearCache?url="+e);window.open("https://developers.facebook.com/tools/debug/?q="+e),setTimeout((function(){n&&!n.closed&&n.close(),t&&t(!0)}),500)}(this.entry.url)}}},ee=(n(723),Object(c.a)(Z,$,[],!1,null,null,null));ee.options.__file="src/Components/Ui/vue/editor/editor-distribution.vue";var te=ee.exports,ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("layout-mobile-menu",{attrs:{title:e.$gettext("Version history")},on:{close:function(t){return e.$emit("back")}}},[n("div",{staticClass:"editor-history"},[e.isLoading&&e.isEmpty?n("span",{staticClass:"ui_preloader"},[n("span",{staticClass:"ui_preloader__dot"}),e._v(" "),n("span",{staticClass:"ui_preloader__dot"}),e._v(" "),n("span",{staticClass:"ui_preloader__dot"})]):e._e(),e._v(" "),!e.isLoading&&e.isEmpty?n("translate",[e._v("\n      Version history is empty\n    ")]):e._e(),e._v(" "),e.isEmpty?e._e():n("layout-form",e._l(e.parsedItems,(function(t,i){return n("form-section",{key:i,attrs:{label:i}},[n("div",{staticClass:"editor-history__items"},e._l(t,(function(t,i){return n("div",{key:i,staticClass:"editor-history-item"},[t.author?n("a",{staticClass:"editor-history-item__author",style:{"background-image":"url("+e.formAvatarUrl(t.author.avatarUrl)+")"},attrs:{target:"_blank",href:t.author.url,title:t.author.name}}):e._e(),e._v(" "),n("a",{staticClass:"editor-history-item__date",attrs:{href:t.url,target:"_blank"}},[e._v("\n              "+e._s(t.date)+"\n            ")])])})),0)])})),1)],1)])};ne._withStripped=!0;var ie={name:"editor-history",components:{LayoutForm:f.a,FormSection:v.a,LayoutMobileMenu:x.a},model:{prop:"entry",event:"change"},props:{entry:{type:Object,default:()=>({})}},data:()=>({items:[],isLoading:!1}),computed:{historyUrl(){return`/writing/${this.entry.id}/history`},isEmpty(){return!Object.keys(this.items).length},parsedItems(){const e={};return Object.keys(this.items).length?(Object.entries(this.items).forEach(([t,n])=>{const i=new Date(t),o=Object(Y.e)(i.getTime()/Y.b,"{dayN} {month}");e[o]=[];let s=null;n.forEach(t=>{const n={date:Object(Y.e)(t.date,"{time}"),url:`${this.historyUrl}/${t.id}`};t.author.id!==s&&(n.author=t.author),e[o].push(n),s=t.author.id})}),e):e}},mounted(){this.loaditems()},activated(){this.loaditems()},methods:{formAvatarUrl:e=>Object(q.formImageUrl)(e,24),loaditems(){this.isLoading||(this.isLoading=!0,Object(D.e)({type:"GET",url:this.historyUrl}).then(e=>{this.items=e}).finally(()=>{this.isLoading=!1}))}}},oe=(n(725),Object(c.a)(ie,ne,[],!1,null,null,null));oe.options.__file="src/Components/Ui/vue/editor/editor-history.vue";var se=oe.exports,ae=n(0);class re{constructor(){this.rules=[],this.addRule("hypenToDash",/\s(-)\s/g," — "),this.addRule("doubleQuote",/"([^"]+)"/g,"«$1»"),this.addRule("doubleDiffQuote",/“([^"]+)”/g,"«$1»"),this.addRule("caps",/([A-ZА-Я]{6,})/g,(e,t)=>`<span class="${this.wrapperClass}">${t.toLowerCase()}</span>`,(e,t)=>t.toLowerCase()),this.addRule("collapseMultiplePunctuation",/([!?])\1+/g,"$1"),this.addRule("triplePeriods",/\.{3,}/g,"…"),this.addRule("copyright",/\([cC]\)/g,"©"),this.addRule("trademark",/\bTM\b/g,"™"),this.addRule("registered",/\([rR]\)/g,"®"),this.addRule("singleQuote",/([\wа-яА-Я])'([\wа-яА-Я])/g,"$1’$2"),this.addRule("numeroSign",/(?:N|n)o\.\s*(\d)/g,"№ $1"),this.addRule("collapseMultipleSpaces",/\x20{2,}/g," "),this.addRule("noSpaceBeforePunctuation",new RegExp("(\\s+)(\\.|,|;|:|!|\\?|%|\\)|\\u2019|\\u2026|\\u2030|\\u2031)(?!NET)","g"),"$2$1"),this.addRule("noSpaceAfterQuote",/([^s])(\u2019)\s+/g,"$1$2"),this.addRule("spaceAfterPunctuation",new RegExp('(?:[^\\d\\s])(,|;|!|\\?|%|\\u2026|\\u2030|\\u2031)([^\\s\\)"\\u00bb])',"g"),"$1 $2"),this.addRule("lastParagraphWords",/(\S+)\x20(\S+\.)$/gm,"$1 $2"),this.addRule("nonBreakingSpaceAfterNumeroSign",/(\u2116)\s*(\d)/g,"$1 $2"),this.addRule("numberBeforeWord",/(\d)\x20(\D)/g,"$1 $2"),ae.on(document.body,"click.typograph",()=>{this.unwrapAll()})}get wrapperClass(){return"typograph-fix"}addRule(e,t,n,i){this.rules.push({name:e,pattern:t,substitutions:n,substitutionsNativeFallback:i})}processElements(e){setTimeout(()=>{(e=Array.from(e)).forEach(e=>{const t=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1);let n;const i=[];for(;n=t.nextNode();)i.push(n);i.forEach(e=>{this.processTextNode(e)})})})}processTextNode(e){this.rules.forEach(t=>{if(this.checkRule(e.textContent,t)){const n=ae.make("span");n.innerHTML=this.applyRule(e.textContent,t),e.parentNode&&(ae.replace(e,n),ae.unwrap(n))}})}processNativeInput(e){e&&(this.rules.forEach(t=>{this.checkRule(e.value,t)&&(e.value=this.applyRule(e.value,t,!1))}),e.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0})))}applyRule(e,t,n=!0){let i=t.substitutions;return"string"==typeof i&&n&&(i=`<span class="${this.wrapperClass}">${i}</span>`),!n&&t.substitutionsNativeFallback&&(i=t.substitutionsNativeFallback),e.replace(t.pattern,i)}checkRule(e,t){return t.pattern.test(e)}unwrapAll(){ae.findAll(document.body,"."+this.wrapperClass).forEach(e=>ae.unwrap(e))}destroy(){ae.off(document.body,"click.typograph")}}var le={Settings:"settings",Distribution:"distribution",History:"history"},ce=n(20);const de="entry",pe="coub";var ue={name:"editor-control-panel",components:{Icon:o.a,LayoutButton:s.a,EditorControlPanelTabs:h,EditorSettings:C,EditorDistribution:te,EditorHistory:se},props:{entry:{type:Object,default:()=>({})},isShowPreview:{type:Boolean,default:!0},isShowHistory:{type:Boolean,default:!0},owners:{type:Array,default:()=>[]},accessLevels:{type:Object,default:()=>({})},enableTypograph:{type:Boolean,default:!1},isSaving:{type:Boolean,default:!1},isError:{type:Boolean,default:!1},contentType:{type:String,default:de},isSaveDisabled:{type:Boolean,default:!1},isTyping:{type:Boolean,default:!1},isSaved:{type:Boolean,default:!1},isShowSaveButtonForDrafts:{type:Boolean,default:!1}},data(){return{typograph:null,typographProcessed:!1,titles:{link:this.$gettext("Go to entry"),save:this.$gettext("Save"),typograph:this.$gettext("Fix formatting issues")},activeTab:""}},computed:{isDraft(){return Object.prototype.hasOwnProperty.call(this.entry,"is_draft")?this.entry.is_draft:!this.entry.is_published},isShowSaveButton(){return!!this.isShowSaveButtonForDrafts||!this.isDraft},availableTabs(){const e=[];if(!this.accessLevels)return e;const{yellow_features:t,blue_features:n,red_features:i,moderator_features:o}=this.accessLevels;return(t||n||o)&&e.push({name:le.Settings,title:this.$gettext("Settings"),icon:"v_gear"}),(n||i)&&e.push({name:le.Distribution,title:this.$gettext("Distribution"),icon:"v_distribution"}),this.isShowHistory&&this.entry.id&&e.push({name:le.History,title:this.$gettext("Version history"),icon:"v_history"}),1===e.length&&e.forEach(e=>{e.label=e.title}),e},availableMobileActions(){const e={};return this.enableTypograph&&this.entry.id&&(e.typograph={title:this.titles.typograph,icon:"v_letter",action:()=>{this.fixTypos(),this.$popup.close()}}),this.entry.url&&(e.entry={title:this.titles.link,icon:"v_eye",url:this.entry.url}),e},availableMobileTabs(){const e={};return this.availableTabs.forEach(t=>{e[t.name]={title:t.title,icon:t.icon,more:!0,action:()=>{this.openMobilePopup(t.name)}}}),e},isMobileMenuAvailable(){return[...Object.keys(this.availableMobileActions),...Object.keys(this.availableMobileTabs)].length>0},isSavingProgressLabel(){return this.isSaving||this.isTyping},saveProgressLabel(){return this.isError?this.$gettext("Error"):this.isSavingProgressLabel?this.$gettext("Saving"):this.isSaved?this.$gettext("Saved"):""}},beforeDestroy(){this.typograph&&this.typograph.destroy()},created(){this.EditorTab=le},mounted(){ce.e.on(()=>{ce.a&&this.$popup.close()})},methods:{save(){this.isSaveDisabled||this.$emit("save")},publish(){if(this.isSaveDisabled)return;let e=null;switch(this.contentType){default:case de:e=this.$gettext("Publish the entry?");break;case pe:e=this.$gettext("Publish the coub?")}this.$popup.open(A.a,{maxWidth:460,props:{title:this.$gettext("Confirmation"),text:e,type:"confirm",confirmButtonText:this.$gettext("Publish"),onConfirm:()=>{this.$popup.close(),this.$emit("save",{isPublish:!0})}}})},fixTypos(){this.typograph||(this.typograph=new re);const e=document.querySelectorAll(".ce-block [contenteditable]");this.typograph.processElements(e),this.typograph.processNativeInput(document.querySelector(".editor-title"));setTimeout(()=>{this.typographProcessed=!0,setTimeout(()=>{this.typographProcessed=!1},3e3)},250)},openMobilePopup(e=""){let t=null,n=this.entry,i={},o={};switch(e){case le.Settings:t=C,i={accessLevels:this.accessLevels},o={change:()=>{this.$emit("change")}};break;case le.Distribution:t=te,i={accessLevels:this.accessLevels},o={change:()=>{this.$emit("change")}};break;case le.History:t=se;break;default:t=x.a,n=!1,i={title:this.$gettext("Extra"),items:[this.availableMobileActions,this.availableMobileTabs]}}this.$popup.open(t,{align:"bottom",model:n,props:i,events:o})}}},he=(n(727),Object(c.a)(ue,i,[],!1,null,null,null));he.options.__file="src/Components/Ui/vue/editor/editor-control-panel.vue";t.a=he.exports},797:function(e,t,n){"use strict";var i=n(736),o=n.n(i),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classes},[e.popup?n("transition",{attrs:{name:"v-popup-fp"}},[n("keep-alive",[n("popup-fullpage-overlay",{attrs:{"is-maximized":e.popup.isMaximized},on:{close:e.close}},[n("popup-fullpage-window",{attrs:{"is-maximized":e.popup.isMaximized},on:{maximize:e.toggleMaximizedState,close:e.close}},[n(e.popup.component,e._b({ref:"component",tag:"component",on:{back:e.openPrevPopup,close:e.close}},"component",e.popup.componentProps,!1))],1)],1)],1)],1):e._e()],1)};s._withStripped=!0;var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{ref:"overlay",class:["v-popup-fp-overlay",{"v-popup-fp-overlay--maximized":e.isMaximized}],on:{mousedown:function(t){return t.target!==t.currentTarget?null:e.$emit("close")}}},[e._t("default")],2)};a._withStripped=!0;var r={name:"popup-fullpage-overlay",props:{isMaximized:{type:Boolean,default:!1}}},l=(n(737),n(10)),c=Object(l.a)(r,a,[],!1,null,null,null);c.options.__file="src/Components/Ui/vue/plugins/popup-fullpage/popup-fullpage-overlay.vue";var d=c.exports,p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["v-popup-fp-window",{"v-popup-fp-window--maximized":e.isMaximized}]},[n("div",{staticClass:"v-popup-fp-window__controls"},[n("div",{staticClass:"v-popup-fp-window__control v-popup-fp-window__control--size",on:{click:function(t){return e.$emit("maximize")}}},[n("icon",{attrs:{name:e.isMaximized?"v_minimize":"v_maximize",width:"24",height:"24"}})],1),e._v(" "),n("div",{staticClass:"v-popup-fp-window__control",on:{click:function(t){return e.$emit("close")}}},[n("icon",{attrs:{name:"v_close",width:"24",height:"24"}})],1)]),e._v(" "),n("div",{ref:"windowBody",staticClass:"v-popup-fp-window__body"},[e._t("default")],2)])};p._withStripped=!0;var u={name:"popup-fullpage-window",components:{Icon:n(26).a},inheritAttrs:!1,props:{isMaximized:{type:Boolean,default:!1}},data:()=>({moduleScrollLocker:null}),created(){this.moduleScrollLocker=Air.import("module.scrollLocker")},mounted(){this.moduleScrollLocker.lock(this.$refs.windowBody)},beforeDestroy(){this.moduleScrollLocker.unlock(this.$refs.windowBody)}},h=(n(739),Object(l.a)(u,p,[],!1,null,null,null));h.options.__file="src/Components/Ui/vue/plugins/popup-fullpage/popup-fullpage-window.vue";var m=h.exports,f=n(36),v=n(17);var b={name:"popup-fullpage-container",components:{PopupFullpageOverlay:d,PopupFullpageWindow:m},data:()=>({popup:null,history:[],moduleSidebar:null}),computed:{classes(){const e=["v-popup-fp-container"];return this.popup&&this.popup.isMaximized&&e.push("v-popup-fp-container--maximized"),this.popup&&this.popup.props.classNames&&this.popup.props.classNames.length>0?[...e,...this.popup.props.classNames]:e}},created(){this.moduleSidebar=Air?Air.import("module.sidebar"):null,this.$root._popupContainer=this},beforeDestroy(){window.removeEventListener("keydown",this.handleKeydownEvents)},methods:{add(e,t={}){t.isMaximized&&this.moduleSidebar.toggleSidebar(!t.isMaximized,!1);let n=!1;this.popup?(this.history.push(this.popup),n=!0):window.addEventListener("keydown",this.handleKeydownEvents),this.popup={component:e,isMaximized:t.isMaximized,props:{},componentProps:{isOpenedFromPopup:n,...t.props}};const i=Object(v.b)();i&&window.scroll(0,i),this.updateBodyClasses()},onBeforeClose(){return new Promise(e=>{const{component:t}=this.$refs;if(t&&"function"==typeof t.onBeforeClose){if(!1===t.onBeforeClose())return void e(!1)}e(!0)})},async close(){return!!await this.onBeforeClose()&&(this.remove(),this.$emit("close"),window.removeEventListener("keydown",this.handleKeydownEvents),!0)},remove(){this.popup=null,this.history=[],this.moduleSidebar&&this.moduleSidebar.restoreSidebarToLastSavedState(),this.updateBodyClasses()},openPrevPopup(){const e=this.history.pop();e?(this.popup=e,this.updateBodyClasses()):this.remove()},toggleMaximizedState(){this.popup.isMaximized=!this.popup.isMaximized,this.moduleSidebar&&this.moduleSidebar.toggleSidebar(!this.popup.isMaximized,!1);const{component:e}=this.$refs;e&&"function"==typeof e.onMaximizeToggle&&e.onMaximizeToggle(this.popup.isMaximized),this.updateBodyClasses(),this.$emit("maximize",this.popup.isMaximized)},updateBodyClasses(){const e=this.popup&&this.popup.isMaximized;document.body.classList[e?"add":"remove"]("app--popup-fullpage-maximized")},handleKeydownEvents(e){f.a(e,"ESC")&&this.close()}}},g=(n(741),Object(l.a)(b,s,[],!1,null,null,null));g.options.__file="src/Components/Ui/vue/plugins/popup-fullpage/popup-fullpage-container.vue";var _=g.exports;t.a={install(e,t={}){const n={container:document.body,...t};e.use(o.a);const i=document.createElement("div"),s=new e({render:e=>e(_)});n.container.insertBefore(i,n.container.firstChild),s.$mount(i),e.prototype.$popupFullpage={open(e,t){s._popupContainer.add(e,t)},close:()=>s._popupContainer.close(),back(){s._popupContainer.back()},on(e,t){s._popupContainer.$on(e,t)},once(e,t){s._popupContainer.$once(e,t)},off(e,t){s._popupContainer.$off(e,t)}}}}},799:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"editor-ap"},[n("div",{staticClass:"editor-ap__content l-editor l-flex l-fa-center"},[n("div",{staticClass:"editor-ap__item"},[n("editor-subsite-select",{attrs:{placeholder:e.placeholders.owner,items:e.owners,selected:e.defaultOwner,"is-load-items-on-open":!0,"is-disabled":e.isOwnerSelectDisabled,"search-url":e.searchUrl.owner},on:{input:function(t){return e.$emit("change")}},model:{value:e.entry.subsite_id,callback:function(t){e.$set(e.entry,"subsite_id",t)},expression:"entry.subsite_id"}})],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isHideAuthorSelect,expression:"!isHideAuthorSelect"}],staticClass:"editor-ap__item"},[n("editor-subsite-select",{attrs:{placeholder:e.placeholders.author,items:e.authors,selected:e.defaultAuthor,"is-load-items-on-open":!1,"is-disabled":e.isAuthorSelectDisabled,"search-url":e.searchUrl.author},on:{input:function(t){return e.$emit("change")}},model:{value:e.entry.user_id,callback:function(t){e.$set(e.entry,"user_id",t)},expression:"entry.user_id"}})],1)])])};i._withStripped=!0;var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.onClickOutside,expression:"onClickOutside"}],class:["editor-subsite-select",{"editor-subsite-select--disabled":e.isDisabled}]},[n("div",{staticClass:"editor-subsite-select__current",on:{click:function(t){e.isPopoverVisible=!e.isPopoverVisible}}},[n("span",{staticClass:"editor-subsite-select__image"},[n("img",{attrs:{src:e.selectedItem.image}})]),e._v(" "),n("span",{staticClass:"editor-subsite-select__label"},[e._v("\n      "+e._s(e.selectedItem.label)+"\n    ")]),e._v(" "),e.isDisabled?e._e():n("icon",{attrs:{name:"v_arrow_down",width:"14",height:"14"}})],1),e._v(" "),e.isPopoverVisible?n("popover",{attrs:{"is-search-enabled":!0,"initial-data-url":e.isLoadItemsOnOpen&&!e.popoverData.length?e.searchUrl:"","search-url":e.searchUrl,"search-query-handler":e.onBeforeServerSearch,"pre-selected":e.value,"max-visible-items":6},on:{select:e.onSubsiteSelect},model:{value:e.popoverData,callback:function(t){e.popoverData=t},expression:"popoverData"}}):e._e()],1)};o._withStripped=!0;var s=n(26),a=n(89),r={name:"editor-subsite-select",components:{Icon:s.a,Popover:a.default},props:{value:{type:Number,default:0},items:{type:Array,default:()=>[]},selected:{type:Object,default:()=>({})},searchUrl:{type:String,default:""},isDisabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},isLoadItemsOnOpen:{type:Boolean,default:!1},isPopoverVisible:{type:Boolean,default:!1}},data(){return{popoverData:this.isLoadItemsOnOpen?[]:this.items,selectedItem:this.selected}},methods:{onSubsiteSelect(e,t){this.isPopoverVisible=!1,this.selectedItem=t,this.$emit("input",e)},onClickOutside(){this.isPopoverVisible=!1},onBeforeServerSearch(e){const t=e.startsWith("http"),n=parseInt(t?e.replace(/\D+/,""):e,10);return Number.isNaN(n)?{query:e}:{id:n}}}},l=(n(729),n(10)),c=Object(l.a)(r,o,[],!1,null,null,null);c.options.__file="src/Components/Ui/vue/editor/editor-subsite-select.vue";var d={name:"editor-author-panel",components:{EditorSubsiteSelect:c.exports},props:{to:{type:String,default:""},entry:{type:Object,default:()=>({})},owners:{type:Array,default:()=>[]},authors:{type:Array,default:()=>[]},accessLevels:{type:Object,default:()=>({})}},data(){return{placeholders:{owner:this.$gettext("Subsite name"),author:this.$gettext("Author name")}}},computed:{searchUrl(){return{owner:"/writing/search/subsites_to_write_in"+(this.to?"?to="+this.to:""),author:"/writing/search/users"}},defaultOwner(){return this.owners.find(e=>e.id===this.entry.subsite_id)},defaultAuthor(){return this.authors.find(e=>e.id===this.entry.user_id)},isHideAuthorSelect(){const{subsite_id:e,user_id:t}=this.entry;return e>0&&t>0&&e===t},isOwnerSelectDisabled(){return!this.accessLevels.yellow_features&&!this.accessLevels.moderator_features&&this.entry.is_published},isAuthorSelectDisabled(){return!this.accessLevels.red_features&&!this.accessLevels.moderator_features}}},p=(n(731),Object(l.a)(d,i,[],!1,null,null,null));p.options.__file="src/Components/Ui/vue/editor/editor-author-panel.vue";t.a=p.exports},808:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement;return(e._self._c||t)("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"textarea",staticClass:"editor-title",attrs:{rows:"1",placeholder:e.defaultValue,default:e.defaultValue,maxlength:e.maxLength},domProps:{value:e.value},on:{input:[function(t){t.target.composing||(e.value=t.target.value)},e.onInput],keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),t.stopPropagation(),e.onEnter.apply(null,arguments))}}})};i._withStripped=!0;var o={name:"editor-title",props:{value:{type:String,default:""},autofocus:{type:Boolean,default:!1},defaultValue:{type:String,default(){return this.$gettext("Title")}},maxLength:{type:Number,default:120}},data:()=>({moduleInputs:null}),created(){this.moduleInputs=Air.import("module.inputs")},mounted(){const{textarea:e}=this.$refs;e.scrollHeight>0&&(e.style.height="1px",e.style.height=e.scrollHeight+"px",e.style.overflowY="hidden"),this.autofocus&&setTimeout(()=>{e.focus()},0),this.moduleInputs.processVisibleIn(this.$refs.textarea.parentNode)},beforeDestroy(){this.moduleInputs.destroyVisibleIn(this.$refs.textarea.parentNode)},methods:{onInput(e){this.autoresize(),this.$emit("input",e.target.value)},onEnter(){this.$emit("submit")},autoresize(){const{textarea:e}=this.$refs;e.style.height="1px",e.style.height=e.scrollHeight+"px"},focus(){const{textarea:e}=this.$refs;e.focus()}}},s=(n(733),n(10)),a=Object(s.a)(o,i,[],!1,null,null,null);a.options.__file="src/Components/Ui/vue/editor/editor-title.vue";t.a=a.exports},857:function(e,t,n){var i=n(1130);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(31).default)("7bc74896",i,!1,{})},858:function(e,t,n){var i=n(1132);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(31).default)("6f5a5bf6",i,!1,{})},859:function(e,t,n){var i=n(1134);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(31).default)("85cc5812",i,!1,{})}}]);