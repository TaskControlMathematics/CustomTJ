/*!
 * Paragraph — fork of Editor.js from CodeX (past CodeX Editor)
 * 
 * @see https://editorjs.io 
 * @see https://codex.so 
 * 
 * @author CodeX <team@codex.so> 
 * @author CMTT (vc.ru, dtf.ru, tjournal.ru)
 * @author Peter Savchenko <specc.dev+paragraph@gmail.com>
 * 
 * @version 3.16.0
 * 
 * @uses html-janitor
 * @licence Apache-2.0 (https://github.com/guardian/html-janitor/blob/master/LICENSE)
 */
var CodexEditor=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=84)}([function(e,t,n){var o,r,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t],void 0===(i="function"==typeof(o=function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function r(e){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=document.createElement(e);if(Array.isArray(o)&&o.length?(t=i.classList).add.apply(t,n(o)):o&&(i.className=o),r&&Object.keys(r).length)for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a]);return i}function i(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}function a(e){return!e||0===e.textContent.replace("​","").trim().length}function l(e){return e&&["INPUT","TEXTAREA"].includes(e.tagName)}Object.defineProperty(e,"__esModule",{value:!0}),e.node=r,e.icon=function(e){return r("span",["cdx-icon","cdx-icon--".concat(e)])},e.text=function(e){return document.createTextNode(e)},e.insertAfter=function(e,t){e.parentNode.insertBefore(t,e.nextSibling)},e.insertBefore=function(e,t){e.parentNode.insertBefore(t,e)},e.replace=function(e,t){e.parentNode.replaceChild(t,e)},e.isSingleTag=i,e.deepestNode=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(l(e))return e;for(var n,o,r=document.createTreeWalker(e,NodeFilter.SHOW_ALL,{acceptNode:function(e){return NodeFilter.FILTER_ACCEPT}},!1),a=t?"lastChild":"firstChild",s=t?"previousSibling":"nextSibling";o=r[a]();){if(i(o)&&o[s]&&(o=o[s]),(n=o)&&n.nodeType===Node.TEXT_NODE){""===n.textContent.trim()&&i(n.parentNode)&&(n=n.parentNode);break}r.currentNode=o}return n},e.hasMediaContent=function(e){var t=["IMG","IFRAME","VIDEO","AUDIO","SOURCE","INPUT","TEXTAREA","twitterwidget"],n=e.querySelectorAll(t.join());return t.includes(e.tagName.toUpperCase())||0!==n.length},e.isEmpty=a,e.isLineBreakTag=function(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)},e.isNativeInput=l,e.wrapTextWithParagraphs=function(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=document.createElement("DIV"),i=document.createElement("DIV"),a=["DIV","P","H1","H2","H3","H4","H5","H6","CODE","PRE","BLOCKQUOTE","UL","OL","LI"];r.innerHTML=e,t=document.createElement("P");for(var l=0;l<r.childNodes.length;l++)if(n=r.childNodes[l],-1!==a.indexOf(n.tagName))if(t.childNodes.length&&(i.appendChild(t.cloneNode(!0)),t=null,t=document.createElement("P")),"DIV"===n.tagName){var s=document.createElement("P");s.innerHTML=n.innerHTML,i.appendChild(s)}else i.appendChild(n.cloneNode(!0));else t.appendChild(n.cloneNode(!0)),l===r.childNodes.length-1&&i.appendChild(t.cloneNode(!0));return o?i.children:i.innerHTML},e.isDomNode=function(e){return e&&"object"===t(e)&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE},e.htmlToNodesArray=function(e){var t=[],n=document.createElement("div");n.innerHTML=e.trim();for(var o=n.childNodes,r=o.length,i=0;i<r;i++){var a=o[i];(a.nodeType!==Node.TEXT_NODE||a.textContent.trim())&&t.push(a)}return t},e.allSiblingsEmpty=function(e,t){for(var n=e,o=[];n.parentNode&&"true"!==n.parentNode.contentEditable;)n=n.parentNode;for(var r="left"===t?"previousSibling":"nextSibling";n[r];)n=n[r],o.push(n);return o.every((function(e){return a(e)}))},e.findClosestScrollableParent=function(e){for(var t=e.parentElement;t;){if(window.getComputedStyle(t).overflow.split(" ").some((function(e){return"auto"===e||"scroll"===e})))return t;t=t.parentElement}return document.documentElement},e.EDITABLE_ELEMENT_SELECTOR=void 0,e.EDITABLE_ELEMENT_SELECTOR='[contenteditable="true"], textarea, input:not([type]), input[type="text"]'})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t],void 0===(i="function"==typeof(o=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";switch(o){case"blue":o="background: #d7edff";break;case"red":o="background: #ffd9e6";break;case"green":o="background: #15ae45; color: #fff; padding: 3px; border-radius: 3px; display: inline-block";break;case"yellow":o="background: #fff08e"}n?e="[CodeX Editor]:      ".concat(o?"%c":"")+e:(n=e||"undefined",e="[CodeX Editor]:      ".concat(o?"%c ":"","%o"));try{"console"in window&&window.console[t]&&(o?window.console[t](e,o,n):window.console[t](e,n))}catch(e){}}})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n(91))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var o,r,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(1)],void 0===(i="function"==typeof(o=function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var r;Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.IS_MOBILE=e.IS_COVER_BLOCKS_LIMIT_EXCEEDED=e.IS_EDITOR_FOCUSED=void 0,t=(r=t)&&r.__esModule?r:{default:r},e.IS_EDITOR_FOCUSED="isEditorFocused",e.IS_COVER_BLOCKS_LIMIT_EXCEEDED="isCoverBlocksLimitExceeded",e.IS_MOBILE="IS_MOBILE";var i=function(){function e(t){n(this,e),this.editor=t,this.isEditorFocused=!1,this.isCoverBlocksLimitExceeded=!1,this.IS_MOBILE=window.matchMedia("(max-width: ".concat(1024,"px)")).matches}var r,i,a;return r=e,(i=[{key:"mutate",value:function(e,n){void 0!==this[e]?this[e]=n:(0,t.default)("Can not mutate state property ".concat(e,": this property does not exist"),"warn")}},{key:"get",value:function(e){if(void 0!==this[e])return this[e];(0,t.default)("Can not get state property ".concat(e,": this property does not exist"),"warn")}}])&&o(r.prototype,i),a&&o(r,a),e}();e.default=i})?o.apply(t,r):o)||(e.exports=i)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var o=n(2),r=n(41),i=n(3),a=n(42),l=n(53),s=n(101),c=r("wks"),u=o.Symbol,f=s?u:u&&u.withoutSetter||a;e.exports=function(e){return i(c,e)||(l&&i(u,e)?c[e]=u[e]:c[e]=f("Symbol."+e)),c[e]}},function(e,t,n){var o,r,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t],void 0===(i="function"==typeof(o=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ON_PASTE=e.HANDLE_FILES=e.HANDLE_TAGS=e.RENDER_ON_PASTE_PATTERNS=e.MARKDOWN_CONFIG=e.APPEND_CALLBACK=e.PASTE_PATTERN_PARSED=e.MAKE_MOBILE_TOOLBAR_SETTINGS=e.MAKE_EXTERNAL_SETTINGS=e.MAKE_SETTINGS=e.INLINE_TOOLBAR=e.CONTENTLESS=e.PREPARE=void 0,e.PREPARE="prepare",e.CONTENTLESS="contentless",e.INLINE_TOOLBAR="inlineToolbar",e.MAKE_SETTINGS="makeSettings",e.MAKE_EXTERNAL_SETTINGS="makeExternalSettings",e.MAKE_MOBILE_TOOLBAR_SETTINGS="makeMobileToolbarSettings",e.PASTE_PATTERN_PARSED="pastePatternParsed",e.APPEND_CALLBACK="appendCallback",e.MARKDOWN_CONFIG="markdown",e.RENDER_ON_PASTE_PATTERNS="renderOnPastePatterns",e.HANDLE_TAGS="handleTags",e.HANDLE_FILES="handleFiles",e.ON_PASTE="onPaste"})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(0),n(1),n(136),n(7),n(17),n(137)],void 0===(i="function"==typeof(o=function(e,t,n,o,r,i,l){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=u(t),n=s(n),o=s(o),r=u(r),i=u(i),l=s(l);var y=function(){function e(t){var n=this,r=t.type,a=t.toolClass,s=t.data,c=t.api;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=r,this.id=(0,o.default)(),this.data=s,this.pluginConfig=a,this.pluginClass=a.class,this.api=c,"function"==typeof this.pluginClass?this.pluginInstance=new this.pluginClass({api:c,config:this.pluginConfig[i.CONFIG],block:this.publicBlockMethods}):(this.pluginInstance=this.pluginClass,"function"==typeof this.pluginClass.setApi&&this.pluginClass.setApi(c)),this.wrapper=this.compose(),this.mutationObserver=new MutationObserver((function(){n.contentChanged()})),this.blockModifiedEvent=new CustomEvent("blockModified",{detail:{block:this.wrapper}}),this.inputs=[],this.currentInputIndex=null,this.updateInputs(),this.empty=this.isEmpty,this.indicatorsState={anchor:"",cover:!1,hidden:!1},this.actions=new l.default(c,this),this.dispatchModifiedEvent()}var a,s,c;return a=e,c=[{key:"CSS",get:function(){return{wrapper:"ce-block",wrapperEmpty:"ce-block--empty",wrapperDragOver:"ce-block--dragover",wrapperDragged:"ce-block--dragged",content:"ce-block__content",blockHighlighted:"ce-block--focused",blockSelected:"ce-block--selected",blockInFeed:"ce-block--feed-mode",blockWithAnchor:"ce-block--anchor",indicators:"ce-block__indicators",indicatorsContainer:"ce-block__indicators-container",actions:"ce-block__actions"}}}],(s=[{key:"compose",value:function(){var n=t.node("div",e.CSS.wrapper),o=t.node("div",e.CSS.content),r=t.node("div",e.CSS.indicators),i=t.node("div",e.CSS.indicatorsContainer),a=t.node("div",e.CSS.actions);return o.appendChild(this.render(this.data)),r.appendChild(i),n.appendChild(r),n.appendChild(a),n.appendChild(o),n.dataset.id=this.id,n}},{key:"render",value:function(e){if("function"!=typeof this.pluginInstance.render)throw Error("Plugin «".concat(this.type,"» must have «render» method"));return this.pluginInstance.render(e)}},{key:"addIndicator",value:function(t){this.wrapper.querySelector("."+e.CSS.indicatorsContainer).appendChild(t)}},{key:"addAction",value:function(t){this.wrapper.querySelector("."+e.CSS.actions).appendChild(t)}},{key:"renderMobileActions",value:function(){return this.actions.renderMobileBlockSettings()}},{key:"callApiMethod",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=this.providedApiMethods[e];if("function"==typeof o)return Array.isArray(t)?o.call.apply(o,[this.pluginInstance].concat(d(t))):o.call(this.pluginInstance,t);(0,n.default)("Tool ".concat(this.type," does not implement ").concat(e),"warn",this.pluginInstance)}},{key:"updateInputs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.inputs=Array.from(this.wrapper.querySelectorAll(t.EDITABLE_ELEMENT_SELECTOR)).filter((function(t){return!e||null!==t.offsetParent}))}},{key:"updateCurrentInputIndex",value:function(){var e=window.getSelection(),n=(t.isDomNode(e.anchorNode)?e.anchorNode:e.anchorNode.parentNode).closest(t.EDITABLE_ELEMENT_SELECTOR);this.currentInput=n}},{key:"dispatchModifiedEvent",value:function(){this.api.editor.ui.nodes.redactor.dispatchEvent(this.blockModifiedEvent)}},{key:"contentChanged",value:function(){this.updateInputs(),this.empty=this.isEmpty,this.dispatchModifiedEvent()}},{key:"willHighlight",value:function(){var e=this;this.mutationObserver.observe(this.content,{childList:!0,subtree:!0}),this.api.listeners.add(this.wrapper,"input",(function(){e.contentChanged()}))}},{key:"willUnhighlight",value:function(){this.mutationObserver.disconnect(),this.api.listeners.remove(this.wrapper,"input")}},{key:"destroy",value:function(){"function"==typeof this.pluginInstance.destroy&&this.pluginInstance.destroy(),this.pluginClass=null,this.wrapper.remove(),this.actions&&this.actions.destroy(),this.dispatchModifiedEvent()}},{key:"content",get:function(){return this.wrapper.querySelector("."+e.CSS.content).children[0]}},{key:"publicBlockMethods",get:function(){return{dispatchModifiedEvent:this.dispatchModifiedEvent.bind(this)}}},{key:"providedApiMethods",get:function(){var e;return f(e={},r.MAKE_SETTINGS,this.pluginInstance.makeSettings),f(e,r.MAKE_EXTERNAL_SETTINGS,this.pluginInstance.makeExternalSettings),f(e,r.MAKE_MOBILE_TOOLBAR_SETTINGS,this.pluginInstance.makeMobileToolbarSettings),f(e,r.PASTE_PATTERN_PARSED,this.pluginInstance.pastePatternParsed),f(e,r.APPEND_CALLBACK,this.pluginInstance.appendCallback),f(e,r.ON_PASTE,this.pluginInstance.onPaste),f(e,r.INLINE_TOOLBAR,this.pluginClass.inlineToolbar),f(e,r.MARKDOWN_CONFIG,this.pluginClass.markdown),e}},{key:"externalConfig",get:function(){var e;return f(e={},i.KEYDOWN_CALLBACK,this.pluginConfig.keydownCallback),f(e,i.CONFIG,this.pluginConfig.config),f(e,i.FIXED,this.pluginConfig.fixed),f(e,i.PASTE_CALLBACK,this.pluginConfig.pasteCallback),f(e,i.IS_NEW,this.pluginConfig.isNew),e}},{key:"isEmpty",get:function(){var n=!!this.pluginClass&&this.pluginClass[r.CONTENTLESS],o=this.content;if(n)return!1;var i=t.hasMediaContent(o),a=!t.isEmpty(o),l=!i&&!a;return this.wrapper.classList.toggle(e.CSS.wrapperEmpty,l),l}},{key:"highlighted",set:function(t){this.wrapper.classList.toggle(e.CSS.blockHighlighted,t)},get:function(){return this.wrapper.classList.contains(e.CSS.blockHighlighted)}},{key:"selected",set:function(t){this.wrapper.classList.toggle(e.CSS.blockSelected,t)},get:function(){return this.wrapper.classList.contains(e.CSS.blockSelected)}},{key:"dragged",set:function(t){this.wrapper.classList.toggle(e.CSS.wrapperDragged,t)},get:function(){return this.wrapper.classList.contains(e.CSS.wrapperDragged)}},{key:"dragOver",set:function(t){this.wrapper.classList.toggle(e.CSS.wrapperDragOver,t)},get:function(){return this.wrapper.classList.contains(e.CSS.wrapperDragOver)}},{key:"cover",get:function(){return this.indicatorsState.cover},set:function(e){this.indicatorsState.cover=e,this.dispatchModifiedEvent()}},{key:"hidden",get:function(){return this.indicatorsState.hidden},set:function(e){this.indicatorsState.hidden=e,this.dispatchModifiedEvent()}},{key:"anchor",get:function(){return this.indicatorsState.anchor},set:function(t){this.indicatorsState.anchor=t,this.wrapper.dataset.anchor=t,this.wrapper.classList.toggle(e.CSS.blockWithAnchor,!!t&&""!==t.trim()),this.dispatchModifiedEvent()}},{key:"currentInput",get:function(){return this.inputs[this.currentInputIndex]},set:function(e){var t=this.inputs.findIndex((function(t){return t===e||t.contains(e)}));-1!==t&&(this.currentInputIndex=t)}},{key:"nextInput",get:function(){return this.inputs[this.currentInputIndex+1]}},{key:"previousInput",get:function(){return this.inputs[this.currentInputIndex-1]}},{key:"firstInput",get:function(){return this.inputs[0]}},{key:"lastInput",get:function(){return this.inputs[this.inputs.length-1]}}])&&h(a.prototype,s),c&&h(a,c),e}();e.default=y})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o=n(5);e.exports=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){var o=n(16);e.exports=function(e){if(!o(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var o,r,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t],void 0===(i="function"==typeof(o=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isPrintable=function(e){return e>47&&e<58||32===e||13===e||e>64&&e<91||e>95&&e<112||e>185&&e<193||e>218&&e<223},e.keys=void 0,e.keys={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,Z:90,Y:89,A:65,B:66,K:75,I:73,C:67,X:88}})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o=n(9),r=n(15),i=n(18);e.exports=o?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var o=n(2),r=n(43).f,i=n(12),a=n(46),l=n(26),s=n(93),c=n(98);e.exports=function(e,t){var n,u,f,d,p,h=e.target,y=e.global,v=e.stat;if(n=y?o:v?o[h]||l(h,{}):(o[h]||{}).prototype)for(u in t){if(d=t[u],f=e.noTargetGet?(p=r(n,u))&&p.value:n[u],!c(y?u:h+(v?".":"#")+u,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;s(d,f)}(e.sham||f&&f.sham)&&i(d,"sham",!0),a(n,u,d,e)}}},function(e,t,n){var o=n(2);e.exports=o},function(e,t,n){var o=n(9),r=n(39),i=n(10),a=n(27),l=Object.defineProperty;t.f=o?l:function(e,t,n){if(i(e),t=a(t,!0),i(n),r)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var o,r,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t],void 0===(i="function"==typeof(o=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IS_NEW=e.PASTE_CALLBACK=e.FIXED=e.KEYDOWN_CALLBACK=e.CONFIG=void 0,e.CONFIG="config",e.KEYDOWN_CALLBACK="keydownCallback",e.FIXED="fixed",e.PASTE_CALLBACK="pasteCallback",e.IS_NEW="isNew"})?o.apply(t,r):o)||(e.exports=i)},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var o=n(44),r=n(24);e.exports=function(e){return o(r(e))}},function(e,t,n){var o=n(24);e.exports=function(e){return Object(o(e))}},function(e,t,n){var o=n(48),r=n(32);e.exports=Object.keys||function(e){return o(e,r)}},function(e,t){e.exports={}},function(e,t){var n=Math.ceil,o=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?o:n)(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var o=n(2),r=n(26),i=o["__core-js_shared__"]||r("__core-js_shared__",{});e.exports=i},function(e,t,n){var o=n(2),r=n(12);e.exports=function(e,t){try{r(o,e,t)}catch(n){o[e]=t}return t}},function(e,t,n){var o=n(16);e.exports=function(e,t){if(!o(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!o(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var o=n(41),r=n(42),i=o("keys");e.exports=function(e){return i[e]||(i[e]=r(e))}},function(e,t){e.exports=!1},function(e,t){e.exports={}},function(e,t,n){"use strict";var o={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!o.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:o},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var o,r,i;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(0)],void 0===(i="function"==typeof(o=function(e,t){"use strict";function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(o=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==l.return||l.return()}finally{if(r)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.handleElementClassname=void 0,t=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(o,i,l):o[i]=e[i]}return o.default=e,t&&t.set(e,o),o}(t),e.handleElementClassname="ce-block-action--dnd";var l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=t,this.block=n,this.selectedBlocksWrapper=null,this.handle=null}var n,r,a;return n=e,a=[{key:"prepare",value:function(e){var n=e.getUiNodes();e.listeners.add(n.redactor,"drop",(function(){var r=Object.values(e.getBlocks()),i=r.find((function(e){return e.dragged})),a=r.find((function(e){return e.dragOver})),l=n.redactor.querySelector('[name="cdx-group-wrapper"]');if(i||l)if(l){var s=Array.from(l.childNodes).map((function(t){return e.getBlockByChildren(t)}));s.find((function(e){return e.id===a.id}))?s.forEach((function(e){e.dragged=!1,t.insertBefore(l,e.wrapper)})):s.forEach((function(e){e.dragged=!1,t.insertBefore(a.wrapper,e.wrapper)})),e.listeners.remove(l),l.remove(),Object.entries(e.getBlocks()).forEach((function(e){var t=o(e,2);t[0],t[1].dragOver=!1}))}else t.insertBefore(a.wrapper,i.wrapper)}),!1)}},{key:"CSS",get:function(){return{actionBaseClass:"ce-block-action",handle:"ce-block-action--dnd"}}}],(r=[{key:"render",value:function(){return this.toggler=this.makeHandle(),this.toggler}},{key:"makeHandle",value:function(){var n=this,o=t.node("div",[e.CSS.actionBaseClass,e.CSS.handle]),r=t.icon("block-dnd");return o.appendChild(r),this.api.listeners.add(o,"mousedown",(function(){n.dragPointerPressed()}),!1),this.api.listeners.add(o,"mouseup",(function(){n.dragEnd()}),!1),this.api.listeners.add(this.block.wrapper,"dragstart",(function(e){n.dragStart(e)}),!1),this.api.listeners.add(this.block.wrapper,"dragenter",(function(){n.dragEnter()}),!1),this.api.listeners.add(this.block.wrapper,"dragover",(function(e){n.dragOver(e)}),!1),this.api.listeners.add(this.block.wrapper,"dragend",(function(){n.dragEnd()}),!1),this.handle=o,o}},{key:"dragPointerPressed",value:function(){this.api.getSelectedBlocks().length<2?this.block.wrapper.draggable=!0:this.wrapSelectedBlocks()}},{key:"wrapSelectedBlocks",value:function(){var e=this,n=this.api.getSelectedBlocks();this.selectedBlocksWrapper=t.node("div"),t.insertBefore(n[0].wrapper,this.selectedBlocksWrapper),n.forEach((function(t){e.selectedBlocksWrapper.appendChild(t.wrapper)})),this.selectedBlocksWrapper.draggable=!0,this.selectedBlocksWrapper.setAttribute("name","cdx-group-wrapper"),this.api.listeners.add(this.selectedBlocksWrapper,"dragstart",(function(t){e.dragStartSeveralBlocks(t)}),!1),this.api.listeners.add(this.selectedBlocksWrapper,"dragend",(function(t){e.dragEnd(t)}),!1)}},{key:"unwrapSelectedBlocks",value:function(){var e=this;Array.from(this.selectedBlocksWrapper.childNodes).forEach((function(n){t.insertBefore(e.selectedBlocksWrapper,n)})),this.api.listeners.remove(this.selectedBlocksWrapper),this.selectedBlocksWrapper.remove(),this.selectedBlocksWrapper=null}},{key:"clearDragOver",value:function(){Object.entries(this.api.getBlocks()).forEach((function(e){var t=o(e,2);t[0],t[1].dragOver=!1}))}},{key:"dragStart",value:function(e){this.block.wrapper.draggable&&(this.api.toolbar.close(),e.dataTransfer.setData("text/plain",""),e.dataTransfer.dropEffect="copy",this.block.dragged=!0,this.api.dragScroller.enable())}},{key:"dragStartSeveralBlocks",value:function(e){this.selectedBlocksWrapper&&(this.api.toolbar.close(),e.dataTransfer.setData("text/plain",""),e.dataTransfer.dropEffect="copy",this.groupedBlocks.forEach((function(e){e.dragged=!0})))}},{key:"dragOver",value:function(e){this.isSomeBlockDragged&&e.preventDefault()}},{key:"dragEnter",value:function(){this.isSomeBlockDragged&&(this.clearDragOver(),this.block.dragOver=!0)}},{key:"dragEnd",value:function(){if(this.selectedBlocksWrapper)this.groupedBlocks.forEach((function(e){e.dragged=!1,e.dispatchModifiedEvent()})),this.unwrapSelectedBlocks();else{if(this.block.wrapper.draggable=!1,!this.isSomeBlockDragged)return;this.block.dragged=!1,this.block.dispatchModifiedEvent()}this.clearDragOver(),this.api.dragScroller.disable()}},{key:"destroy",value:function(){this.api.listeners.remove(this.handle),this.api.listeners.remove(this.block.wrapper,"dragstart"),this.api.listeners.remove(this.block.wrapper,"dragenter"),this.api.listeners.remove(this.block.wrapper,"dragover"),this.api.listeners.remove(this.block.wrapper,"dragend"),this.selectedBlocksWrapper&&this.api.listeners.remove(this.selectedBlocksWrapper),this.selectedBlocksWrapper=null,this.api=null,this.block=null,this.handle=null}},{key:"groupedBlocks",get:function(){var e=this;return this.selectedBlocksWrapper?Array.from(this.selectedBlocksWrapper.childNodes).map((function(t){return e.api.getBlockByChildren(t)})):[]}},{key:"isSomeBlockDragged",get:function(){return Object.values(this.api.getBlocks()).find((function(e){return e.dragged}))||this.selectedBlocksWrapper}}])&&i(n.prototype,r),a&&i(n,a),e}();e.default=l})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[n(0)],void 0===(i="function"==typeof(o=function(n){"use strict";function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(n,a,l):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}(n);var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.savedRange=null}var t,o,r;return t=e,r=[{key:"isEmpty",get:function(){var e=window.getSelection(),t=e.toString();return e.isCollapsed||0===t.trim().length}},{key:"text",get:function(){return window.getSelection().toString().trim()}},{key:"atStart",get:function(){var e=window.getSelection(),t=e.anchorOffset,o=e.anchorNode;if(!o)return!1;var r=(n.isDomNode(o)?o:o.parentNode).closest(n.EDITABLE_ELEMENT_SELECTOR);r||(r=o.querySelector(n.EDITABLE_ELEMENT_SELECTOR));var i=n.deepestNode(r);if(n.isDomNode(o)&&n.isEmpty(o)&&!i)return 0===t;if(n.isNativeInput(i))return 0===i.selectionEnd;n.isDomNode(o)&&(0===t?(o=o.childNodes[t],t=0):t=(o=o.childNodes[0]).textContent.length);var a=t<=(n.isEmpty(o)?o.textContent.length:o.textContent.search(/\S/));return!(o===i||!n.isEmpty(i)&&!n.isLineBreakTag(o)||!n.allSiblingsEmpty(o,"left")||!a)||i===o&&a}},{key:"atEnd",get:function(){var e=window.getSelection(),t=e.anchorOffset,o=e.anchorNode;if(!e.anchorNode)return!1;var r=(n.isDomNode(o)?o:o.parentNode).closest(n.EDITABLE_ELEMENT_SELECTOR);r||(r=o.querySelector(n.EDITABLE_ELEMENT_SELECTOR));var i=n.deepestNode(r,!0);if(n.isDomNode(o)&&n.isEmpty(o)&&!i)return 0===t;if(n.isNativeInput(i))return i.selectionEnd===i.value.length;n.isDomNode(o)&&(t=0===t?(o=o.childNodes[t]).textContent.length:(o=o.childNodes[0]).textContent.length);var a=t>=(n.isEmpty(o)?o.textContent.length:o.textContent.replace(/\s+$/,"").length);return!(o===i||!n.isEmpty(i)&&!n.isLineBreakTag(o)||!n.allSiblingsEmpty(o,"right")||!a)||i===o&&a}},{key:"rect",get:function(){var e,t=document.selection,n={x:0,y:0,width:0,height:0};if(t&&"Control"!==t.type)return e=t.createRange(),n.x=e.boundingLeft,n.y=e.boundingTop,n.width=e.boundingWidth,n.height=e.boundingHeight,n;if(!window.getSelection)return console.warn("Method window.getSelection is not supported"),n;if(null===(t=window.getSelection()).rangeCount||isNaN(t.rangeCount))return console.warn("Method selection.rangeCount is not supported"),n;if((e=t.getRangeAt(0).cloneRange()).getBoundingClientRect&&(n=e.getBoundingClientRect()),0===n.x&&0===n.y){var o=document.createElement("span");if(o.getBoundingClientRect){o.appendChild(document.createTextNode("​")),e.insertNode(o),n=o.getBoundingClientRect();var r=o.parentNode;r.removeChild(o),r.normalize()}}return n}}],(o=[{key:"save",value:function(){var e=window.getSelection(),t=e&&e.rangeCount?e.getRangeAt(0):null;this.savedRange=t}},{key:"restore",value:function(){var e=window.getSelection();e.empty(),e.addRange(this.savedRange)}}])&&i(t.prototype,o),r&&i(t,r),e}();"object"===r(t)?e.exports=a:window.SelectionHelper=a})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(0),n(139),n(141),n(143),n(146),n(148),n(150),n(7)],void 0===(i="function"==typeof(o=function(e,t,n,o,r,i,l,s,c){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CSS=void 0,t=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(t),n=u(n),o=u(o),r=u(r),i=u(i),l=u(l),s=u(s);var p={wrapper:"ce-block-settings",commonSettingsWrapper:"ce-block-settings__common",pluginSettingsWrapper:"ce-block-settings__plugin",item:"ce-block-settings__item",itemActive:"ce-block-settings__item--active"};e.CSS=p;var h=function(){function e(t){var a=t.api,c=t.block,u=t.close;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=a,this.block=c,this.close=u,this.nodes={wrapper:void 0,commonSettingsWrapper:void 0,pluginSettingsWrapper:void 0},this.commonTools=[s.default,r.default,i.default,n.default,o.default,l.default],this.commonToolsInstances=[]}var a,u,f;return a=e,(u=[{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.nodes.wrapper=t.node("div",p.wrapper),this.nodes.commonSettingsWrapper=t.node("div",p.commonSettingsWrapper),this.nodes.pluginSettingsWrapper=t.node("div",p.pluginSettingsWrapper),this.appendPluginSettings(e),this.appendCommonTools(e),this.nodes.wrapper.appendChild(this.nodes.pluginSettingsWrapper),this.nodes.wrapper.appendChild(this.nodes.commonSettingsWrapper),this.nodes.wrapper}},{key:"appendCommonTools",value:function(e){var t=this;this.commonTools.forEach((function(n){var o=new n(t.api,t.block,t),r=n.displayInMobileToolbar;if(!e||r){var i=o.render();i.classList.add(p.item),t.nodes.commonSettingsWrapper.appendChild(i),t.commonToolsInstances.push(o)}}))}},{key:"appendPluginSettings",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!1===e?c.MAKE_SETTINGS:c.MAKE_MOBILE_TOOLBAR_SETTINGS,n=this.block.providedApiMethods[t];if(n){var o=this.block.callApiMethod(t,this.block.content);o&&this.nodes.pluginSettingsWrapper.appendChild(o)}}},{key:"destroy",value:function(){this.commonToolsInstances.forEach((function(e){return e.destroy()})),this.commonToolsInstances=[],this.nodes.commonSettingsWrapper.remove(),this.nodes.pluginSettingsWrapper.remove(),this.nodes.wrapper.remove(),this.nodes={wrapper:void 0,commonSettingsWrapper:void 0,pluginSettingsWrapper:void 0}}}])&&d(a.prototype,u),f&&d(a,f),e}();e.default=h})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(0),n(11)],void 0===(i="function"==typeof(o=function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function e(n){var o=this,r=n.container,i=n.toolbar,a=n.editor;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._opened=!1,this.toolbar=i,this.editor=a,this.CSS={input:"cdx-inline-toolbar__input",toolbarWithOpenedInput:"cdx-inline-toolbar--link-input-opened"},this.input=(0,t.node)("input",this.CSS.input,{placeholder:"Вставьте ссылку ..."}),r.appendChild(this.input),this.editor.listeners.add(this.input,"keydown",(function(e){o.keydown(e)}),!1)}var r,i,a;return r=e,(i=[{key:"open",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.toolbar.classList.add(this.CSS.toolbarWithOpenedInput),e&&this.input.focus(),this._opened=!0}},{key:"close",value:function(){this.toolbar.classList.remove(this.CSS.toolbarWithOpenedInput),this.input.value="",this._opened=!1}},{key:"toggle",value:function(){this._opened?this.close():this.open()}},{key:"keydown",value:function(e){if(e.keyCode===n.keys.ENTER){var t=this.editor.blocks.currentBlock.wrapper,o=this.editor.toolbarInline.storedSelection,r=e.target.value?e.target.value.trim():"";if(!r)return this.editor.toolbarInline.restoreSelection(t,o),this.editor.toolbarInline.unlink(),void e.preventDefault();this.isURL(r)?(r=this.addProtocol(r),this.editor.toolbarInline.restoreSelection(t,o),this.editor.toolbarInline.setAnchor(r),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()):this.editor.notifications.show({status:"error",message:"Некорректная ссылка"})}}},{key:"isURL",value:function(e){return!/\s/.test(e)}},{key:"addProtocol",value:function(e){if(/^(https?|mailto|ftp):/.test(e))return e;var t=/^\/[^/\s]/.test(e),n="#"===e.substring(0,1),o=/^\/\/[^/\s]/.test(e);return t||n||o||(e="http://"+e),e}},{key:"value",set:function(e){this.input.value=e||""}},{key:"opened",get:function(){return this._opened}}])&&o(r.prototype,i),a&&o(r,a),e}();e.default=r})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i,a=n(90),l=n(2),s=n(16),c=n(12),u=n(3),f=n(25),d=n(28),p=n(30),h=l.WeakMap;if(a){var y=f.state||(f.state=new h),v=y.get,b=y.has,g=y.set;o=function(e,t){return t.facade=e,g.call(y,e,t),t},r=function(e){return v.call(y,e)||{}},i=function(e){return b.call(y,e)}}else{var m=d("state");p[m]=!0,o=function(e,t){return t.facade=e,c(e,m,t),t},r=function(e){return u(e,m)?e[m]:{}},i=function(e){return u(e,m)}}e.exports={set:o,get:r,has:i,enforce:function(e){return i(e)?r(e):o(e,{})},getterFor:function(e){return function(t){var n;if(!s(t)||(n=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var o=n(25),r=Function.toString;"function"!=typeof o.inspectSource&&(o.inspectSource=function(e){return r.call(e)}),e.exports=o.inspectSource},function(e,t,n){var o=n(9),r=n(5),i=n(40);e.exports=!o&&!r((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var o=n(2),r=n(16),i=o.document,a=r(i)&&r(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){var o=n(29),r=n(25);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.1",mode:o?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,o=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+o).toString(36)}},function(e,t,n){var o=n(9),r=n(31),i=n(18),a=n(19),l=n(27),s=n(3),c=n(39),u=Object.getOwnPropertyDescriptor;t.f=o?u:function(e,t){if(e=a(e),t=l(t,!0),c)try{return u(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){var o=n(5),r=n(45),i="".split;e.exports=o((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?i.call(e,""):Object(e)}:Object},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var o=n(2),r=n(12),i=n(3),a=n(26),l=n(38),s=n(37),c=s.get,u=s.enforce,f=String(String).split("String");(e.exports=function(e,t,n,l){var s,c=!!l&&!!l.unsafe,d=!!l&&!!l.enumerable,p=!!l&&!!l.noTargetGet;"function"==typeof n&&("string"!=typeof t||i(n,"name")||r(n,"name",t),(s=u(n)).source||(s.source=f.join("string"==typeof t?t:""))),e!==o?(c?!p&&e[t]&&(d=!0):delete e[t],d?e[t]=n:r(e,t,n)):d?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||l(this)}))},function(e,t,n){var o=n(14),r=n(2),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(o[e])||i(r[e]):o[e]&&o[e][t]||r[e]&&r[e][t]}},function(e,t,n){var o=n(3),r=n(19),i=n(96).indexOf,a=n(30);e.exports=function(e,t){var n,l=r(e),s=0,c=[];for(n in l)!o(a,n)&&o(l,n)&&c.push(n);for(;t.length>s;)o(l,n=t[s++])&&(~i(c,n)||c.push(n));return c}},function(e,t,n){var o=n(23),r=Math.min;e.exports=function(e){return e>0?r(o(e),9007199254740991):0}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";var o,r,i,a=n(52),l=n(12),s=n(3),c=n(6),u=n(29),f=c("iterator"),d=!1;[].keys&&("next"in(i=[].keys())?(r=a(a(i)))!==Object.prototype&&(o=r):d=!0),null==o&&(o={}),u||s(o,f)||l(o,f,(function(){return this})),e.exports={IteratorPrototype:o,BUGGY_SAFARI_ITERATORS:d}},function(e,t,n){var o=n(3),r=n(20),i=n(28),a=n(100),l=i("IE_PROTO"),s=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=r(e),o(e,l)?e[l]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){var o=n(5);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){return!String(Symbol())}))},function(e,t,n){var o=n(15).f,r=n(3),i=n(6)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,i)&&o(e,i,{configurable:!0,value:t})}},function(e,t,n){var o=n(9),r=n(21),i=n(19),a=n(31).f,l=function(e){return function(t){for(var n,l=i(t),s=r(l),c=s.length,u=0,f=[];c>u;)n=s[u++],o&&!a.call(l,n)||f.push(e?[n,l[n]]:l[n]);return f}};e.exports={entries:l(!0),values:l(!1)}},function(e,t,n){var o,r,i;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(0)],void 0===(i="function"==typeof(o=function(e,t){"use strict";function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(o,i,l):o[i]=e[i]}return o.default=e,t&&t.set(e,o),o}(t);var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t}var n,r,i;return n=e,(r=[{key:"save",value:function(){return this.editor.saver.save()}},{key:"wrapWithParagraphs",value:function(e){return t.wrapTextWithParagraphs(e)}},{key:"sanitize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.editor.sanitizer.clean(e,t,n)}},{key:"insertBlockBefore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.editor.blocks.append({},e-1,!0);t&&(this.editor.caret.setToBlock(n),this.editor.toolbar.move(),n.isEmpty&&(this.editor.toolbar.open(),this.editor.toolbar.showPlusButton()))}},{key:"insertBlockAfter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.editor.blocks.append({},e,!1);t&&(this.editor.caret.setToBlock(n),this.editor.toolbar.move(),n.isEmpty&&(this.editor.toolbar.open(),this.editor.toolbar.showPlusButton()))}},{key:"getCurrentBlockId",value:function(){return this.editor.blocks.currentBlockId?this.editor.blocks.currentBlockId:void 0}},{key:"oustBlock",value:function(e,t,n){var o=this.editor.blocks.getBlockById(e);if(!o)throw new Error("[CodeX Editor] oustBlock: Incorrect Block's ID was passed");if(!t.type||!Object.keys(this.editor.toolsManager.available).includes(t.type))throw new Error("[CodeX Editor] oustBlock: Incorrect new Block type:"+t.type);var r=this.editor.blocks.switch({blockToReplace:o,newBlockType:t.type,newBlockData:t.data});"function"==typeof n&&n(r)}},{key:"removeBlock",value:function(e){var t=this.editor.blocks.getBlockById(e);if(!t)throw new Error("[CodeX Editor] removeBlock: Incorrect Block's ID was passed");this.editor.blocks.remove(t),0===this.editor.blocks.count&&(this.editor.blocks.workingBlockChanged(),this.editor.renderer.addInitialBlock())}},{key:"fill",value:function(e){var t=this;this.editor.renderer.clear(),e&&(this.editor.config.data=e,this.editor.renderer.makeBlocksFromData()),this.editor.toolbar.close(),window.setTimeout((function(){t.editor.toolbar.close()}),1e3)}},{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e?this.editor.caret.setToBlock(this.editor.blocks.firstBlock):this.editor.ui.nodes.redactor.click()}},{key:"focusContenteditable",value:function(e){this.editor.caret.set(e)}},{key:"navigateNext",value:function(){this.editor.caret.goNext()}},{key:"navigatePrevious",value:function(){this.editor.caret.goPrevious()}},{key:"hideBlockActions",value:function(){console.warn("Paragraph API: hideBlockActions() method is deprecated. Use closeEveryBlockSettings() instead "),this.closeEveryBlockSettings()}},{key:"notify",value:function(e){this.editor.notifications.show(e)}},{key:"destroy",value:function(e){this.editor.destroyer.destroy(e)}},{key:"checkIndicatorsByBlock",value:function(e){this.editor.blockIndicatorsManager.checkIndicatorsByBlock(e)}},{key:"closeEveryBlockSettings",value:function(){this.editor.blockActionsManager.closeEveryBlockSettings()}},{key:"getSelectedBlocks",value:function(){return this.editor.blocks.selected}},{key:"getBlocks",value:function(){return this.editor.blocks.blocks}},{key:"getBlockByChildren",value:function(e){return this.editor.blocks.getBlockByChildren(e)}},{key:"checkElementFit",value:function(e){return this.editor.fitManager.check(e)}},{key:"getUiNodes",value:function(){return this.editor.ui.nodes}},{key:"state",get:function(){return this.editor.state}},{key:"toolbar",get:function(){var e=this;return{close:function(){e.editor.toolbar.close()},open:function(){e.editor.toolbar.open()}}}},{key:"listeners",get:function(){return{add:this.editor.listeners.add,remove:this.editor.listeners.remove}}},{key:"dragScroller",get:function(){var e=this;return{disable:function(){return e.editor.dragScroller.disable()},enable:function(){return e.editor.dragScroller.enable()}}}},{key:"config",get:function(){return this.editor.config}}])&&o(n.prototype,r),i&&o(n,i),e}();e.default=r})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(33)],void 0===(i="function"==typeof(o=function(e,t){"use strict";function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var o;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=(o=t)&&o.__esModule?o:{default:o};var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t}var o,r,i;return o=e,(r=[{key:"prepareActions",value:function(){this.editor.config.hideToolbar||t.default.prepare(this.editor.api)}},{key:"closeEveryBlockSettings",value:function(){this.editor.config.hideToolbar||Object.values(this.editor.blocks.blocks).forEach((function(e){e.actions.settings.close()}))}}])&&n(o.prototype,r),i&&n(o,i),e}();e.default=r})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(7),n(17),n(0),n(11),n(34),n(33)],void 0===(i="function"==typeof(o=function(e,t,n,o,r,i,l){"use strict";function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function c(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var f;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n=c(n),o=c(o),i=(f=i)&&f.__esModule?f:{default:f};var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.mouseDownedBlock=null}var a,s,c;return a=e,(s=[{key:"add",value:function(e){var t=this;this.editor.listeners.add(e.wrapper,"keydown",(function(n){t.blockKeydown(n,e)}),!1),this.editor.listeners.add(e.wrapper,"paste",(function(e){t.editor.paste.blockPasteCallback(e)}),!1),this.editor.listeners.add(e.wrapper,"mouseup",(function(e){t.mouseUp(e)}),!1),this.editor.listeners.add(e.wrapper,"mousedown",(function(n){t.mouseDown(e,n)}),!1),this.editor.listeners.add(e.wrapper,"keyup",(function(){t.blockKeyup()}),!1),this.editor.listeners.add(e.wrapper,"mouseover",(function(n){t.blockMouseover(n,e)}),!1)}},{key:"mouseDown",value:function(e,t){0===t.button&&(this.editor.blocks.clearSelection(),t.target.closest(".".concat(l.handleElementClassname))||(this.mouseDownedBlock=e))}},{key:"mouseUp",value:function(e){!this.editor.blocks.selected.length>0&&this.editor.toolbarInline.handle(e),this.mouseDownedBlock=null}},{key:"blockKeydown",value:function(e,t){var o=t.externalConfig[n.KEYDOWN_CALLBACK];if("function"!=typeof o||!1!==o(t.wrapper,e)){switch(e.keyCode){case r.keys.DOWN:case r.keys.RIGHT:this.rightOrDownArrowPressed(e),this.editor.blocks.clearSelection();break;case r.keys.BACKSPACE:this.backspacePressed(e);break;case r.keys.UP:case r.keys.LEFT:this.leftOrUpArrowPressed(e),this.editor.blocks.clearSelection()}this.editor.shortcuts.acceptKeydown(e)}}},{key:"rightOrDownArrowPressed",value:function(e){i.default.atEnd&&(this.editor.caret.goNext(),e.preventDefault())}},{key:"leftOrUpArrowPressed",value:function(e){i.default.atStart&&(this.editor.caret.goPrevious(),e.preventDefault())}},{key:"backspacePressed",value:function(e){var t=this,n=e.target;if(document.body.contains(n)){this.editor.blocks.workingBlockChanged(n);var r=this.editor.blocks.currentBlock;if(!o.isNativeInput(n)){var a=this.editor.blocks.previousBlock;if(r.isEmpty)this.editor.caret.goPrevious(),this.editor.blocks.remove(r);else{var l=i.default.isEmpty,s=i.default.atStart,c=r.type===this.editor.config.initialBlockPlugin,u=a.type===this.editor.config.initialBlockPlugin;if(!c||!u)return;if(!(s&&l&&a))return;this.editor.caret.goPrevious(),this.editor.blocks.merge(r,a),this.editor.blocks.remove(r)}if(0===this.editor.blocks.count){var f=this.editor.renderer.addInitialBlock();this.editor.blocks.currentBlock=f,window.setTimeout((function(){t.editor.caret.setToBlock(f)}),10)}this.editor.toolbar.move();var d=this.editor.blocks.currentBlock,p=d.isEmpty,h=d.type===this.editor.config.initialBlockPlugin;p&&h&&window.setTimeout((function(){t.editor.toolbar.open(),t.editor.toolbar.showPlusButton()}),10),e.preventDefault()}}}},{key:"blockMouseover",value:function(e,n){var o=e.target,r=this.mouseDownedBlock;n!==r&&(n.providedApiMethods[t.INLINE_TOOLBAR]&&("A"===o.tagName?this.editor.helperTooltip.showLinkTooltip(o):this.editor.helperTooltip.hide()),this.mouseDownedBlock&&(this.editor.blocks.workingBlockChanged(),r.selected=!0,n.selected=!0,this.editor.toolbar.close(),this.editor.toolbarInline.close(),window.getSelection().empty()))}},{key:"blockKeyup",value:function(){window.setTimeout(this.editor.toolbarInline.handle,50)}}])&&u(a.prototype,s),c&&u(a,c),e}();e.default=d})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(133),n(134),n(135)],void 0===(i="function"==typeof(o=function(e,t,n,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=r(t),n=r(n),o=r(o);var a=function(){function e(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=r,this.indicators=[],this.availableIndicators=[t.default,n.default,o.default]}var r,a,l;return r=e,(a=[{key:"add",value:function(e){var t=this;this.editor.config.hideToolbar||this.availableIndicators.forEach((function(n){var o=new n(t.editor,e),r=o.render();e.addIndicator(r),t.indicators.push(o)}))}},{key:"checkIndicatorsByBlock",value:function(e){this.indicators.filter((function(t){return t.block.id===e.id})).forEach((function(e){e.checkState&&e.checkState()}))}},{key:"destroy",value:function(e){var t=this;this.indicators.filter((function(t){return t.block.id===e.id})).forEach((function(n){n.destroy(e);var o=t.indicators.indexOf(n);t.indicators.splice(o,1)}))}}])&&i(r.prototype,a),l&&i(r,l),e}();e.default=a})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(8),n(0),n(153),n(7)],void 0===(i="function"==typeof(o=function(e,t,n,o,r){"use strict";function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function l(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(o=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==l.return||l.return()}finally{if(r)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var f;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=(f=t)&&f.__esModule?f:{default:f},n=l(n),o=l(o);var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.blocks={},this.currentBlockId=void 0}var i,a,l;return i=e,(a=[{key:"getBlocksOrdered",value:function(){for(var e=this.editor.ui.nodes.redactor.querySelectorAll(".".concat(t.default.CSS.wrapper)),n=[],o=0;o<e.length;o++)this.isFirstLevelBlock(e[o])&&n.push(this.getBlockByChildren(e[o]));return n}},{key:"workingBlockChanged",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this.currentBlock&&(this.currentBlock.willUnhighlight(),this.clearHightlight(),this.currentBlockId=void 0),e){var n=e instanceof t.default?e:this.getBlockByChildren(e);n&&n.willHighlight(),this.currentBlockId=n?n.id:void 0}}},{key:"createBlock",value:function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=new t.default({type:e,data:n,toolClass:this.editor.toolsManager.available[e],api:this.editor.api});return a.anchor=o,a.cover=r,a.hidden=i,this.editor.blockEvents.add(a),this.editor.blockIndicatorsManager.add(a),a}},{key:"append",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.type,r=void 0===o?this.editor.config.initialBlockPlugin:o,i=t.data,a=void 0===i?{}:i,l=t.anchor,s=void 0===l?"":l,c=t.cover,u=void 0!==c&&c,f=t.hidden,d=void 0!==f&&f,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,h=arguments.length>2&&void 0!==arguments[2]&&arguments[2],y=this.createBlock(r,a,s,u,d);if(void 0===p)e=this.currentBlock;else{var v=this.getBlocksOrdered();e=p<v.length-1?v[p]:v[v.length-1]}return e&&e.wrapper?h?n.insertBefore(e.wrapper,y.wrapper):n.insertAfter(e.wrapper,y.wrapper):this.editor.ui.nodes.redactor.appendChild(y.wrapper),y.updateInputs(),setTimeout((function(){y.updateInputs(!0),y.empty=y.isEmpty}),250),this.blocks[y.id]=y,this.workingBlockChanged(y.wrapper),y}},{key:"getBlockById",value:function(e){return this.blocks[e]}},{key:"getBlockByChildren",value:function(e){if(n.isDomNode(e)||(e=e.parentNode),e===this.editor.ui.nodes.redactor||e===document.body)return null;var o;if(!(o=e.classList.contains(t.default.CSS.wrapper)?e:e.closest(".".concat(t.default.CSS.wrapper))))return null;var r=o.dataset.id;return this.blocks[r]}},{key:"extractBlockContentsFromCaret",value:function(){var e=window.getSelection();if(!e.rangeCount)return null;var t=e.getRangeAt(0),n=this.getBlockByChildren(t.endContainer);if(!n||!n.wrapper)return null;var o=t.cloneRange();o.selectNodeContents(n.wrapper),o.setStart(t.endContainer,t.endOffset);var r=o.extractContents();return r?r.querySelector("[contenteditable]").innerHTML:void 0}},{key:"splitBlock",value:function(){var e=this.extractBlockContentsFromCaret(),t=document.createElement("div");t.innerHTML=e?e.trim():"",this.editor.sanitizer.removeEmptyTags(t);var n=this.editor.config.initialBlockPlugin;return this.append({type:n,data:{text:t.innerHTML}})}},{key:"merge",value:function(e,t){t&&(t.content.innerHTML+=e.content.innerHTML)}},{key:"switch",value:function(e){var t=e.blockToReplace,o=e.newBlockType,r=e.newBlockData,i=this.createBlock(o,r);return n.replace(t.wrapper,i.wrapper),delete this.blocks[t.id],this.blocks[i.id]=i,i}},{key:"remove",value:function(e){delete this.blocks[e.id],this.editor.listeners.remove(e.wrapper),this.editor.blockIndicatorsManager.destroy(e),e.destroy()}},{key:"isFirstLevelBlock",value:function(e){return e.nodeType===Node.ELEMENT_NODE&&e.classList.contains(t.default.CSS.wrapper)}},{key:"highlightBlock",value:function(e){e.highlighted=!0}},{key:"clearHightlight",value:function(){Object.entries(this.blocks).forEach((function(e){var t=s(e,2);t[0],t[1].highlighted=!1}))}},{key:"selectBlock",value:function(e){e.selected=!0}},{key:"selectAll",value:function(){Object.entries(this.blocks).forEach((function(e){var t=s(e,2);t[0],t[1].selected=!0}))}},{key:"clearSelection",value:function(){Object.entries(this.blocks).forEach((function(e){var t=s(e,2);t[0],t[1].selected=!1})),this.editor.shortcuts.nativeItemSelected=!1}},{key:"getBlockPosition",value:function(e){return Array.from(this.editor.ui.nodes.redactor.querySelectorAll(".".concat(t.default.CSS.wrapper))).indexOf(e.wrapper)}},{key:"copyToClipBoard",value:function(e){var t=this,n=e.map((function(e){return t.editor.saver.saveBlock(e).then((function(t){var n=e.providedApiMethods[r.MARKDOWN_CONFIG],o=n&&n.parseTo(t.data);return o||"[".concat(e.type,":").concat(JSON.stringify(t.data),"]")})).catch((function(e){console.log("err",e)}))}));Promise.all(n).then((function(e){var t=(e=e.filter((function(e){return void 0!==e}))).join("\n\n");o.setPlain(t)}))}},{key:"count",get:function(){return Object.keys(this.blocks).length}},{key:"currentBlock",get:function(){if(this.currentBlockId)return this.blocks[this.currentBlockId]},set:function(e){this.currentBlockId=e.id}},{key:"previousBlock",get:function(){var e=this,t=this.getBlocksOrdered(),n=t.findIndex((function(t){return t.id===e.currentBlockId}));return 0!==n?t[n-1]:void 0}},{key:"nextBlock",get:function(){var e=this.getBlocksOrdered(),t=e.indexOf(this.currentBlock);return t!==e.length-1?e[t+1]:void 0}},{key:"previousEditableBlock",get:function(){var e=this.getBlocksOrdered(),t=e.indexOf(this.currentBlock);return e.slice(0,t).reverse().find((function(e){return 0!==e.inputs.length}))}},{key:"nextEditableBlock",get:function(){var e=this.getBlocksOrdered(),t=e.indexOf(this.currentBlock);return e.slice(t+1).find((function(e){return 0!==e.inputs.length}))}},{key:"lastBlock",get:function(){var e=this.getBlocksOrdered();return e[e.length-1]}},{key:"firstBlock",get:function(){return this.blocks[Object.keys(this.blocks)[0]]}},{key:"selected",get:function(){return this.getBlocksOrdered().filter((function(e){return!0===e.selected}))}}])&&u(i.prototype,a),l&&u(i,l),e}();e.default=d})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(0),n(152)],void 0===(i="function"==typeof(o=function(e,t,n){"use strict";function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var s;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(t),n=(s=n)&&s.__esModule?s:{default:s};var c=function(){function e(t){var n=t.title,o=t.api,r=t.onClose,i=t.classes;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.title=n,this.api=o,this.onClose=r,this.classes=i,this.nodes={wrapper:null,title:null,close:null,content:null},this.render()}var o,i,a;return o=e,a=[{key:"CSS",get:function(){return{wrapper:"ce-popover",wrapperAbove:"ce-popover--above",title:"ce-popover__title",close:"ce-popover__close",content:"ce-popover__content"}}}],(i=[{key:"render",value:function(){var o=this;this.nodes.wrapper=t.node("div",[e.CSS.wrapper].concat(r(this.classes?this.classes:[]))),this.nodes.title=t.node("div",[e.CSS.title],{textContent:this.title}),this.nodes.close=t.node("div",[e.CSS.close],{innerHTML:n.default}),this.nodes.content=t.node("div",e.CSS.content),this.nodes.close.addEventListener("click",(function(){o.closeClicked()})),this.nodes.wrapper.appendChild(this.nodes.title),this.nodes.wrapper.appendChild(this.nodes.close),this.nodes.wrapper.appendChild(this.nodes.content),this.checkScrollableParentFitness()}},{key:"checkScrollableParentFitness",value:function(){var t=this.nodes.wrapper;this.api.checkElementFit(t).bottom||(t.classList.add(e.CSS.wrapperAbove),this.api.checkElementFit(t).top||t.classList.remove(e.CSS.wrapperAbove))}},{key:"appendContent",value:function(e){this.nodes.content.appendChild(e)}},{key:"closeClicked",value:function(){"function"==typeof this.onClose&&this.onClose()}},{key:"element",get:function(){return this.nodes.wrapper}}])&&l(o.prototype,i),a&&l(o,a),e}();e.default=c})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(0)],void 0===(i="function"==typeof(o=function(e,t){"use strict";function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(o,i,l):o[i]=e[i]}return o.default=e,t&&t.set(e,o),o}(t);var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t}var n,r,i;return n=e,(r=[{key:"set",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t.isNativeInput(e))return!o&&n&&(o=e.value.length),e.focus(),void setTimeout((function(){e.setSelectionRange(o,o)}),10);var r=e;t.isDomNode(r)&&((r=t.deepestNode(e,n))||(e.appendChild(document.createTextNode("​")),r=e.firstChild),t.isNativeInput(r)&&this.set(r,n),!0===n&&(o=r.textContent.length));var i=document.createRange(),a=window.getSelection();i.setStart(r,o),i.setEnd(r,o),a.removeAllRanges(),a.addRange(i);var l=r;l.nodeType!==Node.ELEMENT_NODE&&(l=l.parentNode),"function"==typeof l.scrollIntoViewIfNeeded&&l.scrollIntoViewIfNeeded()}},{key:"setToBlock",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.positions.START,o=n===this.positions.END;switch(n){case this.positions.START:t=e.firstInput;break;case this.positions.END:t=e.lastInput}this.set(t,o),this.editor.blocks.workingBlockChanged(e),this.editor.blocks.currentBlock.updateCurrentInputIndex(),this.editor.toolbar.move()}},{key:"setToInput",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.positions.START,n=t===this.positions.END,o=this.editor.blocks.currentBlock;this.set(e,n),o.currentInput=e,setTimeout((function(){o.updateCurrentInputIndex()}),30)}},{key:"goNext",value:function(){var e=this,t=this.editor.blocks,n=t.currentBlock,o=t.nextEditableBlock,r=n.nextInput;if(r)this.setToInput(r,this.positions.START);else if(o)this.setToBlock(o,this.positions.START);else{var i=this.editor.blocks.append();setTimeout((function(){e.setToBlock(i,e.positions.START)}),60)}}},{key:"goPrevious",value:function(){var e=this.editor.blocks,t=e.currentBlock,n=e.previousEditableBlock,o=t.previousInput;o?this.setToInput(o,this.positions.END):n&&this.setToBlock(n,this.positions.END)}},{key:"positions",get:function(){return{START:0,END:1}}}])&&o(n.prototype,r),i&&o(n,i),e}();e.default=r})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t],void 0===(i="function"==typeof(o=function(e){"use strict";function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.locked=!1,this.editor=t,this.isActive=!1,this.mutationDebounceTimer=null}var n,o,r;return n=e,(o=[{key:"lock",value:function(){this.locked=!0}},{key:"unlock",value:function(){this.locked=!1}},{key:"observe",value:function(){var e=this;this.isActive||(this.isActive=!0,this.editor.listeners.add(this.editor.ui.nodes.redactor,"blockModified",(function(t){e.contentModified(t)})))}},{key:"contentModified",value:function(e){var t=this;this.locked||(this.mutationDebounceTimer&&window.clearTimeout(this.mutationDebounceTimer),this.mutationDebounceTimer=setTimeout((function(){t.contentModifiedCallback(e)}),350))}},{key:"contentModifiedCallback",value:function(e){"function"==typeof this.editor.config.modifyCallback&&this.editor.config.modifyCallback.call(e.target,e)}}])&&t(n.prototype,o),r&&t(n,r),e}();e.default=n})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(0)],void 0===(i="function"==typeof(o=function(e,t){"use strict";function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(o,i,l):o[i]=e[i]}return o.default=e,t&&t.set(e,o),o}(t);var c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(this,e),this.holder=n.holder,this.tools=n.tools,this.data=n.data,this.initialBlockPlugin=n.initialBlockPlugin||"paragraph",this.customNotifiers=n.notifications,this.placeholder=n.placeholder||"Текст или ссылка на YouTube, твит, фотографию, снимок из Instagram...",this.modifyCallback=n.modifyCallback,this.hideToolbar=n.hideToolbar,this.visibleToolsLimit=n.visibleToolsLimit||7,this.coverBlocksLimit=n.coverBlocksLimit||2,this.offset=r({top:0,bottom:0},n.offset)}var n,o,i;return n=e,(o=[{key:"prepare",value:function(){if(!this.holder)throw Error("Holder is missed");if(!t.isDomNode(this.holder))throw Error("Passed holder must be an Element");this.data&&this.data.items.length&&this.checkTools(this.data.items)}},{key:"checkTools",value:function(e){var t=this,n=e.filter((function(e){return!(e.type in t.tools)})).map((function(e){return e.type}));if(n.length)throw Error("Some tools is not supported: "+n.join(", "))}},{key:"clear",value:function(){this.holder=void 0,this.tools=void 0,this.data=void 0,this.initialBlockPlugin=void 0,this.customNotifiers=void 0,this.placeholder=void 0,this.modifyCallback=void 0,this.hideToolbar=void 0,this.visibleToolsLimit=void 0,this.coverBlocksLimit=void 0}}])&&s(n.prototype,o),i&&s(n,i),e}();e.default=c})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t],void 0===(i="function"==typeof(o=function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var n=this;return this.editor=e,this.removeNodes=function(){n.editor.ui.nodes.wrapper&&n.editor.ui.nodes.wrapper.remove(),n.editor.notifications.nodes.holder&&n.editor.notifications.nodes.holder.remove()},this.destroyPlugins=function(){var e=[];for(var t in n.editor.toolsManager.available){var o=n.editor.toolsManager.available[t];"function"!=typeof o?"function"==typeof o.class.destroy&&o.class.destroy():e.push(t)}for(var r in n.editor.toolsManager.available)for(var i=n.editor.toolsManager.available[r].class,a=e.length-1;a>=0;a--)i instanceof n.editor.toolsManager.available[e[a]].class&&"function"==typeof i.destroy&&i.destroy()},this.destroy=function(e){e&&"object"===t(e)&&(n.editor.config.clear(),n.editor.blocks.currentBlockId=void 0,e.ui&&(n.removeNodes(),n.editor.listeners.removeAll()),e.plugins&&n.destroyPlugins(),n.editor.redoManager.destroy(),e.ui&&e.scripts&&e.core&&delete codex.editor)},this}})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(0)],void 0===(i="function"==typeof(o=function(e,t){"use strict";function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.scrollableParent=null,this.isScrollableParentWindow=!0,this.listenedEvent="dragover",this.offset=200,this.maxScrollStep=40,this.animation=null,this.prevCursorPosition=0}var o,i,a;return o=e,a=[{key:"documentHeight",get:function(){return Math.max(document.body.scrollHeight,document.body.offsetHeight,document.body.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight)}}],(i=[{key:"enable",value:function(){this.scrollableParent||(this.scrollableParent=(0,t.findClosestScrollableParent)(this.editor.ui.nodes.redactor),this.isScrollableParentWindow=this.scrollableParent===document.documentElement),this.editor.listeners.add(document,this.listenedEvent,this.onListenedEvent.bind(this))}},{key:"disable",value:function(){this.editor.listeners.remove(document,this.listenedEvent),this.stopAnimation()}},{key:"startAnimation",value:function(e){this.stopAnimation(),this.animation=window.requestAnimationFrame(e)}},{key:"stopAnimation",value:function(){this.animation&&(window.cancelAnimationFrame(this.animation),this.animation=null)}},{key:"onListenedEvent",value:function(e){var t=this,n=e.clientY;this.isScrollableParentWindow||(n-=this.scrollableParent.getBoundingClientRect().top),n>0&&n!==this.prevCursorPosition&&(this.prevCursorPosition=n);var o=this.prevCursorPosition,r={top:this.offset,bottom:this.scrollableContainerViewportHeight-this.offset},i={top:o<r.top,bottom:o>r.bottom};i.top||i.bottom?this.startAnimation((function(){t.scroll({offset:r,direction:i,cursorPosition:o})})):this.stopAnimation()}},{key:"scroll",value:function(e){var t=arguments,o=this,r=e.offset,i=e.direction,a=e.cursorPosition,l=this.isScrollableParentWindow?window:this.scrollableParent,s=this.isScrollableParentWindow?window.pageYOffset:this.scrollableParent.scrollTop,c=this.scrollableContainerContentHeight-this.scrollableContainerViewportHeight,u=1,f=s;i.top?(u=(r.top-a)/this.offset,f-=this.maxScrollStep*u):(u=(a-r.bottom)/this.offset,f+=this.maxScrollStep*u),(f=Math.max(0,Math.min(c,f)))!==s&&(l.scrollTo(0,f),this.startAnimation((function(){o.scroll.apply(o,n(t))})))}},{key:"scrollableContainerViewportHeight",get:function(){return this.scrollableParent.clientHeight}},{key:"scrollableContainerContentHeight",get:function(){return this.isScrollableParentWindow?e.documentHeight:this.scrollableParent.scrollHeight}}])&&r(o.prototype,i),a&&r(o,a),e}();e.default=i})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(0)],void 0===(i="function"==typeof(o=function(e,t){"use strict";function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.scrollableParent=null,this.offset=this.editor.config.offset}var o,r,i;return o=e,i=[{key:"viewportHeight",get:function(){return document.documentElement.clientHeight}}],(r=[{key:"check",value:function(n){this.scrollableParent||(this.scrollableParent=(0,t.findClosestScrollableParent)(this.editor.ui.nodes.redactor));var o=n.getBoundingClientRect(),r=this.scrollableParent.getBoundingClientRect(),i=this.scrollableParent===document.documentElement?0:r.top,a=this.scrollableParent===document.documentElement?e.viewportHeight:r.bottom;return{top:o.top>=i+this.offset.top,bottom:o.bottom<=a-this.offset.bottom}}}])&&n(o.prototype,r),i&&n(o,i),e}();e.default=o})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(11),n(8),n(0),n(154),n(4)],void 0===(i="function"==typeof(o=function(e,t,n,o,r,i){"use strict";function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n=s(n),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(o),r=s(r);var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.isMobile=(0,r.default)()}var a,l,s;return a=e,(l=[{key:"bindDocumentEvents",value:function(){var e=this;this.editor.listeners.add(document,"keydown",(function(t){e.keydown(t)}),!1),this.editor.listeners.add(document,"keyup",(function(t){e.keyup(t)}),!1),this.editor.listeners.add(document,"click",(function(t){e.click(t)}),!1),this.isMobile&&this.editor.listeners.add(document,"selectionchange",(function(t){e.selectionChanged(t)}),!1)}},{key:"click",value:function(e){var t=this.editor.ui.nodes.wrapper.contains(e.target);this.editor.state.mutate(i.IS_EDITOR_FOCUSED,t),t||this.editor.blocks.clearSelection()}},{key:"selectionChanged",value:function(e){var t=window.getSelection().anchorNode;t&&(o.isDomNode(t)||(t=t.parentNode),t&&t.closest(".".concat(n.default.CSS.content))&&this.editor.toolbarInline.handle(e))}},{key:"keydown",value:function(e){switch(e.keyCode){case t.keys.ENTER:this.enterKeyPressed(e);break;case t.keys.Z:case t.keys.Y:}this.editor.shortcuts.acceptKeydown(e,!0)}},{key:"keyup",value:function(e){switch(e.keyCode){case t.keys.UP:case t.keys.LEFT:case t.keys.RIGHT:case t.keys.DOWN:this.arrowKeyUp(e)}}},{key:"redoKeyPressed",value:function(e){(e.metaKey||e.ctrlKey)&&(e.keyCode===t.keys.Z?this.editor.redoManager.back():e.keyCode===t.keys.Y&&this.editor.redoManager.forward(),e.preventDefault())}},{key:"enterKeyPressed",value:function(e){var t=this.editor.blocks.currentBlock;t&&t.highlighted&&(e.preventDefault(),this.editor.ui.enterPressedOnBlock())}},{key:"arrowKeyUp",value:function(){this.editor.toolbarToolbox.opened||(this.editor.toolbar.close(),this.editor.toolbar.move())}}])&&c(a.prototype,l),s&&c(a,s),e}();e.default=u})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(0)],void 0===(i="function"==typeof(o=function(e,t){"use strict";function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(o,i,l):o[i]=e[i]}return o.default=e,t&&t.set(e,o),o}(t);var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.hidingTimeout=null,this.nodes={wrapper:void 0}}var n,r,i;return n=e,i=[{key:"CSS",get:function(){return{wrapper:"cdx-helper"}}}],(r=[{key:"make",value:function(){var n=this;return this.nodes.wrapper=t.node("div",e.CSS.wrapper),this.editor.listeners.add(this.nodes.wrapper,"mouseover",(function(){n.hovered()}),!1),this.editor.listeners.add(this.nodes.wrapper,"mouseleave",(function(){n.blurred()}),!1),this.nodes.wrapper}},{key:"moveTo",value:function(e,t){var n=this,o=this.editor.toolbarInline;this.hidingTimeout&&window.clearTimeout(this.hidingTimeout),o.wrappersOffset=this.editor.ui.getWrappersOffset(),this.nodes.wrapper.innerHTML=t,window.setTimeout((function(){var t=n.getElementRect(e),r=t.left-o.wrappersOffset.left+t.width/2-n.nodes.wrapper.clientWidth/2,i=t.top-o.wrappersOffset.top+t.height+10;n.nodes.wrapper.style.transform="translate3D(".concat(Math.floor(r),"px, ").concat(Math.floor(i),"px, 0)"),n.nodes.wrapper.classList.add("opened")}),50)}},{key:"getElementRect",value:function(e){var t=e.getClientRects();return t?t[0]:{}}},{key:"showLinkTooltip",value:function(e){var t=document.createElement("a");t.href=e.getAttribute("href"),t.textContent=e.getAttribute("href"),t.setAttribute("target","_blank"),this.moveTo(e,t.outerHTML)}},{key:"hide",value:function(){var e=this;this.hidingTimeout&&window.clearTimeout(this.hidingTimeout),this.hidingTimeout=window.setTimeout((function(){e.nodes.wrapper.classList.remove("opened"),e.nodes.wrapper.innerHTML=""}),300)}},{key:"hovered",value:function(){this.hidingTimeout&&window.clearTimeout(this.hidingTimeout)}},{key:"blurred",value:function(){this.hide()}}])&&o(n.prototype,r),i&&o(n,i),e}();e.default=r})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t],void 0===(i="function"==typeof(o=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var e,t,n,o=this;return this.allListeners=[],this.search={byElement:e=function(e,t){var n=[];t=t||o.allListeners;for(var r=0;r<t.length;r++){var i=t[r];i.element===e&&n.push(i)}return n},byType:t=function(e,t){var n=[];t=t||o.allListeners;for(var r=0;r<t.length;r++){var i=t[r];i.type===e&&n.push(i)}return n},byHandler:n=function(e,t){var n=[];t=t||o.allListeners;for(var r=0;r<t.length;r++){var i=t[r];i.handler===e&&n.push(i)}return n},one:function(r,i,a){var l=o.allListeners;return r&&(l=e(r,l)),i&&(l=t(i,l)),a&&(l=n(a,l)),l[0]},all:function(r,i,a){var l=o.allListeners;return r&&(l=e(r,l)),i&&(l=t(i,l)),a&&(l=n(a,l)),l}},this.add=function(e,t,n,r){e.addEventListener(t,n,r);var i={element:e,type:t,handler:n};o.search.one(e,t,n)||o.allListeners.push(i)},this.remove=function(e,t,n){for(var r=o.search.all(e,t,n),i=0;i<r.length;i++){var a=o.allListeners.indexOf(r[i]);e.removeEventListener(r[i].type,r[i].handler),a>0&&o.allListeners.splice(a,1)}},this.removeAll=function(){o.allListeners.forEach((function(e){o.remove(e.element,e.type,e.handler)}))},this.get=function(e,t,n){return o.search.all(e,t,n)},this}})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(0),n(1)],void 0===(i="function"==typeof(o=function(e,t,n){"use strict";function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(t),n=(i=n)&&i.__esModule?i:{default:i};var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.queue=[],this.nodes={holder:void 0},this.customNotifiers=null}var o,i,a;return o=e,a=[{key:"CSS",get:function(){return{holder:"cdx-notifications-block"}}}],(i=[{key:"make",value:function(){return this.nodes.holder=t.node("div",e.CSS.holder),this.nodes.holder}},{key:"addToQueue",value:function(e){this.queue.push(e);for(var t=0;t<this.queue.length&&this.queue.length>5;)"confirm"!==this.queue[t].type&&"prompt"!==this.queue[t].type?(this.queue[t].close(),this.queue.splice(t,1)):t++}},{key:"errorThrown",value:function(e,t){this.show({message:"This action is not available currently",type:t.type})}},{key:"show",value:function(e){var o=this;if(!this.editor.config.customNotifiers||"function"!=typeof this.editor.config.customNotifiers.alert){var r=null,i=null,a=null,l=null,s=null,c=function(){p(),"function"==typeof l&&("prompt"!==a?l():l(s.value))},u=function(){p(),"function"==typeof i&&i()},f=function(e){if(e&&e.message){e.type=e.type||"alert",e.time=1e3*e.time||1e4;var f=t.node("div","cdx-notification"),d=t.node("div","cdx-notification__message"),h=t.node("input","cdx-notification__input"),y=t.node("span","cdx-notification__ok-btn"),v=t.node("span","cdx-notification__cancel-btn");d.textContent=e.message,y.textContent=e.okMsg||"ОК",v.textContent=e.cancelMsg||"Отмена",o.editor.listeners.add(y,"click",c),o.editor.listeners.add(v,"click",u),f.appendChild(d),"prompt"===e.type&&f.appendChild(h),f.appendChild(y),"prompt"!==e.type&&"confirm"!==e.type||f.appendChild(v),f.classList.add("cdx-notification-"+e.type),f.dataset.type=e.type,r=f,a=e.type,l=e.confirm,i=e.cancel,s=h,"prompt"!==e.type&&"confirm"!==e.type&&window.setTimeout(p,e.time)}else(0,n.default)("Can't create notification. Message is missed")},d=function(){o.nodes.holder.appendChild(r),s.focus(),o.nodes.holder.classList.add("cdx-notification__notification-appending"),window.setTimeout((function(){o.nodes.holder.classList.remove("cdx-notification__notification-appending")}),100),o.addToQueue({type:a,close:p})},p=function(){r.remove()};return e&&(f(e),d()),{create:f,send:d,close:p}}this.editor.config.customNotifiers.alert({type:e.status,message:e.message,button_text:e.button_text,onButtonClick:e.onButtonClick})}},{key:"clear",value:function(){this.nodes.holder.innerHTML="",this.queue=[]}}])&&r(o.prototype,i),a&&r(o,a),e}();e.default=l})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(0),n(73),n(1),n(7),n(17)],void 0===(i="function"==typeof(o=function(e,t,n,o,r,i){"use strict";function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function l(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(o=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==l.return||l.return()}finally{if(r)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var d;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=l(t),n=l(n),o=(d=o)&&d.__esModule?d:{default:d},r=l(r),i=l(i);var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.patterns=[],this.handledTags=[],this.handledFiles=[],this.markdownConfigs=[],this.MAX_LENGTH_TO_PARSE=350}var a,l,u;return a=e,(l=[{key:"prepareSettings",value:function(){var e=this,t=this.editor.toolsManager.available;Object.entries(t).forEach((function(t){var n=c(t,2),o=n[0],i=n[1].class,a=i[r.HANDLE_TAGS],l=i[r.RENDER_ON_PASTE_PATTERNS],s=i[r.MARKDOWN_CONFIG],u=i[r.HANDLE_FILES];a&&Array.isArray(a.tags)&&a.tags.forEach((function(t){e.handledTags.push({tool:o,tag:t,fill:a.fill,pasteParser:a.pasteParser||null})})),Array.isArray(l)&&l.forEach((function(t){e.patterns.push(Object.assign(t,{tool:o}))})),s&&s.pattern&&e.markdownConfigs.push({tool:o,pattern:s.pattern,parseFrom:s.parseFrom,parseTo:s.parseTo}),u&&Array.isArray(u.mime)&&u.mime.forEach((function(t){e.handledFiles.push({tool:o,mime:t})}))}))}},{key:"blockPasteCallback",value:function(e){var n=this,r=this.editor.blocks.currentBlock,a=r.type,l=e.clipboardData,s=l.types;if(!t.isNativeInput(e.target)&&r)if(e.preventDefault(),s.includes?s.includes("Files"):s.contains("Files"))this.processFiles(l.files);else{var c=r.externalConfig[i.PASTE_CALLBACK],u=l.getData("text/html"),f=l.getData("text/plain"),d=!1;if("function"==typeof c){if(!1===c.call(r.wrapper,e,u,f))return}else c&&(0,o.default)("".concat(a," tool: pasteCallback is not a function"),"warn");t.isNativeInput(e.target)||e.target.closest('[contenteditable="true"]')&&(u||f?(r.type===this.editor.config.initialBlockPlugin?!0!==(d=this.splitAndPaste(u,f))&&d.then((function(){r.isEmpty&&n.editor.blocks.remove(r)})):d=this.defaultPasteBehaviour(u,f),d&&(e.preventDefault(),e.stopImmediatePropagation())):(0,o.default)("There is no data to paste","log",l))}}},{key:"processFiles",value:function(e){var t=this,n=Array.from(e).map((function(e){return t.processFile(e)})).filter((function(e){return void 0!==e}));if(n.length){var i=this.editor.blocks.currentBlock,a=i.id;if(i){var l=this.editor.blocks.getBlockPosition(i);n.forEach((function(e){var n=e.tool,o=e.file;t.editor.blocks.append({type:n,data:{}},l).callApiMethod(r.ON_PASTE,{file:o})}));var s=this.editor.blocks.getBlockById(a);s.isEmpty&&this.editor.blocks.remove(s)}}else(0,o.default)("No tools found to process files with mime types: ","log",Array.from(e).map((function(e){return e.type})))}},{key:"processFile",value:function(e){var t=e.type,n=this.handledFiles.find((function(e){var n=e.mime;return t===n}));if(n)return{tool:n.tool,file:e}}},{key:"splitAndPaste",value:function(e,t){return!!(t.trim()&&this.editor.toolsManager.available[this.editor.blocks.currentBlock.type].class.allowRenderOnPaste&&this.renderOnPaste(t))||(e?this.appendHTMLParts(this.prepareHTML(e)):this.appendPlainParts(this.preparePlain(t)))}},{key:"prepareHTML",value:function(e){for(var n=this.editor.sanitizer.getConfig(),o=this.handledTags.length-1;o>=0;o--)n.tags[this.handledTags[o].tag.toLowerCase()]=this.checkSanitizerForBlockTags;var r=this.editor.sanitizer.clean(e,n,!0);return t.wrapTextWithParagraphs(r,!0)}},{key:"checkSanitizerForBlockTags",value:function(e){return(!["CODE","IMG"].includes(e.tagName)||"block"===e.style.display)&&{}}},{key:"preparePlain",value:function(e){return e.split("\n\n").filter((function(e){return e.trim().length>0})).map((function(e){return n.trimChars(e,"\n")}))}},{key:"appendPlainParts",value:function(e){var t=this;return 1===e.length?(this.defaultPasteBehaviour("",e[0]),Promise.resolve()):e.reduce((function(n,o,r){return n.then((function(){var n=r===e.length-1,i=t.appendPlainPart(o);n&&t.editor.caret.setToBlock(i,t.editor.caret.positions.END)}))}),Promise.resolve())}},{key:"appendPlainPart",value:function(e){var t,n=this.editor.config.initialBlockPlugin,o=e;if(e.trim()){var r=this.matchMarkdown(o),i=o.match(/\[([a-zA-Z]+):(.+)\]/);if(r)n=r.tool,t=r.parseFrom(o);else if(i){n=i[1];try{t=JSON.parse(i[2])}catch(e){console.warn("Can not parse paragraph clipboard data: ",i[2],e),t=null}}else(t={}).text=o;var a=this.editor.toolsManager.available[n].class;return console.assert(a,"[CodeX Editor] Paste module can not find tool "+n),this.editor.blocks.append({type:n,data:t})}}},{key:"matchMarkdown",value:function(e){return this.markdownConfigs.find((function(t){return t.pattern.test(e)}))}},{key:"appendHTMLParts",value:function(e){var t=this;return 1===e.length?(this.defaultPasteBehaviour(e[0].innerHTML,e[0].textContent),Promise.resolve()):Array.from(e).reduce((function(o,r,i){return o.then((function(){var o,a=i===e.length-1,l=t.editor.config.initialBlockPlugin,c=t.editor.toolsManager.available[l].class,u="text",f=r.outerHTML;if(r.textContent.trim())if("p"!==r.tagName.toLowerCase()||1!==r.childNodes.length){for(var d=t.handledTags.length-1;d>=0;d--)t.handledTags[d].tag===r.tagName&&(l=t.handledTags[d].tool,c=t.editor.toolsManager.available[l].class,u=t.handledTags[d].fill,console.assert(c,"[CodeX Editor] Paste module can not find tool "+l),t.handledTags[d].pasteParser?(console.assert("function"==typeof t.handledTags[d].pasteParser,"[CodeX Editor] Unexpected pasteParser method type"),f=t.handledTags[d].pasteParser(r)):f=r.textContent);if("object"===s(f))for(var p in f)f[p]=t.editor.sanitizer.clean(f[p]);else f=t.editor.sanitizer.clean(f);(o={})[u]=f,t.editor.blocks.append({type:l,data:o}),a&&t.editor.caret.setToBlock(t.editor.blocks.lastBlock)}else t.appendPlainPart(n.unescapeHTML(r.innerHTML))}))}),Promise.resolve())}},{key:"defaultPasteBehaviour",value:function(e,n){var o,r,i,a,l=t.node("div"),s=document.createDocumentFragment();for(e.trim()?l.innerHTML=this.editor.sanitizer.clean(e,null,!0):l.innerText=n.toString();o=l.firstChild;)r=s.appendChild(o);if(this.editor.toolsManager.available[this.editor.blocks.currentBlock.type].class.allowRenderOnPaste&&this.renderOnPaste(n))return!0;(a=(i=window.getSelection()).getRangeAt(0)).deleteContents(),a.insertNode(s),r&&((a=a.cloneRange()).setStartAfter(r),a.collapse(!0),i.removeAllRanges(),i.addRange(a))}},{key:"renderOnPaste",value:function(e){return this.analyze(e)}},{key:"analyze",value:function(e){var t=this,n=!1,o=this.editor.blocks.currentBlock;return!(e.length>this.MAX_LENGTH_TO_PARSE)&&!function(e){return/\s/.test(e)}(e)&&(this.patterns.forEach((function(i){var a=i.regex.exec(e);a&&(a[0]||a[1])&&!n&&(t.editor.blocks.append({type:i.tool}).callApiMethod(r.PASTE_PATTERN_PARSED,[e,i]),o.isEmpty&&t.editor.blocks.remove(o),n=!0)})),n)}}])&&f(a.prototype,l),u&&f(a,u),e}();e.default=p})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t],void 0===(i="function"==typeof(o=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.misTranslit=function(e){for(var t={q:"й",w:"ц",e:"у",r:"к",t:"е",y:"н",u:"г",i:"ш",o:"щ",p:"з",a:"ф",s:"ы",d:"в",f:"а",g:"п",h:"р",j:"о",k:"л",l:"д",z:"я",x:"ч",c:"с",v:"м",b:"и",n:"т",m:"ь"},n="",o=0,r=(e=e.toLowerCase()).length;o<r;o++)n+=t[e[o]];return n},e.trimChars=function(e,t){var n=new RegExp("^["+t+"]+|["+t+"]+$","g");return e.replace(n,"")},e.escapeHTML=function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return String(e).replace(new RegExp("[".concat(Object.keys(t).join(""),"]"),"g"),(function(e){return t[e]}))},e.unescapeHTML=function(e){var t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"};for(var n in t)e=e.replace(new RegExp(n,"g"),t[n]);return e}})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t],void 0===(i="function"==typeof(o=function(e){"use strict";function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.history=[],this.currentVersion=-1,this.deep=15}var n,o,r;return n=e,(o=[{key:"back",value:function(){--this.currentVersion,this.currentVersion<0&&(this.currentVersion=0),this.acceptVersion()}},{key:"forward",value:function(){++this.currentVersion,this.currentVersion>this.history.length&&(this.currentVersion=this.history.length),this.acceptVersion()}},{key:"acceptVersion",value:function(){var e=this,t=this.history[this.currentVersion];if(t){this.editor.changesObserver.lock(),this.editor.ui.nodes.redactor.innerHTML=t;for(var n=this.editor.ui.nodes.redactor.querySelectorAll(".ce-block"),o=n.length-1;o>=0;o--)this.editor.blockEvents.add(n[o]);setTimeout((function(){e.editor.changesObserver.unlock()}),500)}}},{key:"save",value:function(){var e=this.editor.ui.nodes.redactor.innerHTML;console.assert(e,"RedoManager: Unable to write empty state to the history"),e&&(this.history[++this.currentVersion]=e,this.history.length>this.deep&&this.history.shift())}},{key:"destroy",value:function(){this.history=[],this.currentVersion=-1}}])&&t(n.prototype,o),r&&t(n,r),e}();e.default=n})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(1)],void 0===(i="function"==typeof(o=function(e,t){"use strict";function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var o;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=(o=t)&&o.__esModule?o:{default:o};var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t}var o,r,i;return o=e,(r=[{key:"clear",value:function(){var e=this;this.editor.blocks.getBlocksOrdered().forEach((function(t){e.editor.blocks.remove(t)})),this.editor.blocks.workingBlockChanged()}},{key:"addBlock",value:function(e){var t=e.type,n=e.data,o=e.anchor,r=e.cover,i=e.hidden;"undefined"===o&&(o=""),this.editor.blocks.append({type:t,data:n,anchor:o,cover:r,hidden:i})}},{key:"getNodeAsync",value:function(e,t){return Promise.resolve(e[t])}},{key:"appendNodeAtIndex",value:function(e,n,o){var r=this;e.then((function(){return r.getNodeAsync(n,o)})).then((function(e){r.addBlock(e)})).catch((function(e){(0,t.default)("Node skipped while parsing because %o","error",e)}))}},{key:"appendBlocks",value:function(e){for(var t=e.items,n=Promise.resolve(),o=0;o<t.length;o++)this.appendNodeAtIndex(n,t,o)}},{key:"finished",value:function(){var e=this;setTimeout((function(){e.editor.changesObserver.observe()}),1e3)}},{key:"makeBlocksFromData",value:function(){var e=this;if(!this.editor.config.data||!this.editor.config.data.items.length)return this.addInitialBlock(),void this.finished();Promise.resolve().then((function(){return e.editor.config.data})).then((function(t){return e.appendBlocks(t)})).then((function(){return e.finished()})).catch((function(e){(0,t.default)("Error while parsing JSON: %o","error",e)}))}},{key:"addInitialBlock",value:function(){var e=this.editor.blocks.append();return e.wrapper.setAttribute("data-placeholder",this.editor.config.placeholder),e}}])&&n(o.prototype,r),i&&n(o,i),e}();e.default=r})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t],void 0===(i="function"==typeof(o=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,o,r,i=(t={},o=n(155),r={DEFAULT:{tags:{p:{},a:{href:!0,target:"_blank",rel:"nofollow"}}}},t.getConfig=function(){var e=r.DEFAULT;return JSON.parse(JSON.stringify(e))},t.clean=function(e,t,n){var i;return i=new o(t||r.DEFAULT).clean(e),n&&(i=i.replace(/&nbsp;/gi," ").replace(/\u200B/g,"").replace(/\s+/g," ").trim()),i},t.removeEmptyTags=function(e){function n(e){return e.textContent.trim().length>0}e.innerHTML=t.clean(e.innerHTML,{tags:{a:n,b:n,div:n,p:n,i:n,u:n,span:n,em:n,mark:n}})},t);e.default=i})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(1)],void 0===(i="function"==typeof(o=function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var r;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=(r=t)&&r.__esModule?r:{default:r};var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.savingGroupLabel="[CodeX Editor] Saving"}var r,i,a;return r=e,(i=[{key:"save",value:function(){var e=this;console.groupCollapsed(this.savingGroupLabel);var t=this.editor.blocks.getBlocksOrdered().map((function(t){return e.blockSavingProcess(t)}));return Promise.all(t).then(this.filterEmptyBlocks).catch(this.savingFailed).finally((function(){console.groupEnd()}))}},{key:"savingFailed",value:function(e){(0,t.default)("Saving process failed because of %o","warn",e);var n=new CustomEvent("cdxSavingError",{detail:{error:e}});document.dispatchEvent(n)}},{key:"filterEmptyBlocks",value:function(e){var t=new CustomEvent("cdxSavingSuccess");document.dispatchEvent(t);var n=e.filter((function(e){return void 0!==e}));return n.forEach((function(e){console.groupCollapsed("".concat(e.type," ").concat(e.anchor?"       #"+e.anchor:""," ").concat(e.cover?"☆":""," ").concat(e.hidden?"𓁹":""," ")),console.log(e.data),console.groupEnd()})),n}},{key:"blockSavingProcess",value:function(e){var n=this;return new Promise((function(o){n.checkBlockTool(e).then((function(e){return n.saveBlock(e)})).then((function(e){o(e)})).catch((function(n){(0,t.default)("Tool «".concat(e.type,"» skipped while saving because of %o"),"warn",n);var r=new CustomEvent("cdxToolSkippedWhileSaving",{detail:{type:e.type}});document.dispatchEvent(r),o()}))}))}},{key:"checkBlockTool",value:function(e){var t=e.type,n=e.pluginInstance;if(!n)throw new Error("Plugin «".concat(t,"» not found"));return"function"!=typeof n.save?Promise.reject(new Error("Plugin «".concat(t,"» must have save method"))):Promise.resolve(e)}},{key:"callSaveMethod",value:function(e){return Promise.resolve().then((function(){var t=e.pluginInstance,n=e.content;return t.save(n)}))}},{key:"saveBlock",value:function(e){var t=this;return new Promise((function(n,o){t.callSaveMethod(e).then((function(r){t.validateBlock(e,r)||o(Error("saved data is invalid")),n(t.formatData(r,e))})).catch((function(t){o(Error("Plugin «".concat(e.type,"» throws exception while saving: ")+t))}))}))}},{key:"validateBlock",value:function(e,t){var o=e.type,r=e.pluginInstance;if("function"!=typeof r.validate)return!0;var i=r.validate(t);return console.assert("boolean"==typeof i,"Unexpected «".concat(o,"» 'validate' response. Boolean expected, ").concat(n(i)," given")),Boolean(i)}},{key:"formatData",value:function(e,t){var n={};return n.type=t.type,n.cover=t.cover,n.hidden=t.hidden,n.anchor=t.anchor||null,n.data=e,n}}])&&o(r.prototype,i),a&&o(r,a),e}();e.default=i})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(11),n(0),n(4)],void 0===(i="function"==typeof(o=function(e,t,n,o){"use strict";function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(n);var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.preDefined=[],this.addPredefined(),this.nativeItemSelected=!1}var r,a,l;return r=e,(a=[{key:"acceptKeydown",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.keyCode,o=e.ctrlKey||e.metaKey,r=this.preDefined.length-1;r>=0;r--)if(this.preDefined[r].keyCode===n&&(!this.preDefined[r].cmdKey||this.preDefined[r].cmdKey===o)){var i=!!this.preDefined[r].global;if(t&&!i||!t&&i)return;var a=this.preDefined[r].handler.call(this,e),l=new CustomEvent("cdxShortcutUsed",{detail:{type:this.preDefined[r].name}});return document.dispatchEvent(l),a}}},{key:"add",value:function(e){this.preDefined.push(e)}},{key:"addPredefined",value:function(){this.add({name:"CMD+K",keyCode:t.keys.K,cmdKey:!0,handler:function(e){e.preventDefault(),this.editor.toolbarInline.handle(e),this.editor.toolbarInline.createLinkAction(e),this.editor.toolbarInline.link.open()}}),this.add({name:"CMD+B",keyCode:t.keys.B,cmdKey:!0,handler:function(e){e.preventDefault(),document.execCommand("bold")}}),this.add({name:"CMD+I",keyCode:t.keys.I,cmdKey:!0,handler:function(e){e.preventDefault(),document.execCommand("italic")}}),this.add({name:"CMD+A",keyCode:t.keys.A,cmdKey:!0,global:!0,handler:function(e){var t=this.editor.blocks.currentBlock,r=window.getSelection().anchorNode;if(!this.editor.state.get(o.IS_EDITOR_FOCUSED))return!0;r&&!n.isDomNode(r)&&(r=r.parentNode);var i=!!r&&(n.isNativeInput(e.target)||r.closest(n.EDITABLE_ELEMENT_SELECTOR));if(t){if(this.nativeItemSelected||!i)return t.selected||this.nativeItemSelected?this.editor.blocks.selectAll():this.editor.blocks.selectBlock(t),e.preventDefault(),window.getSelection().removeAllRanges(),!1;this.nativeItemSelected=!0}}}),this.add({name:"CMD+С",keyCode:t.keys.C,global:!0,cmdKey:!0,handler:function(e){var t=this.editor.blocks.selected;if(t.length)return e.preventDefault(),this.editor.blocks.copyToClipBoard(t),!1}}),this.add({name:"CMD+X",keyCode:t.keys.X,global:!0,cmdKey:!0,handler:function(e){var t=this,n=this.editor.blocks.selected;if(n.length)return e.preventDefault(),this.editor.blocks.copyToClipBoard(n),setTimeout((function(){var e=t.editor.blocks.getBlockPosition(n[0]),o=t.editor.blocks.append(void 0,e);n.forEach((function(e){t.editor.blocks.remove(e)})),setTimeout((function(){t.editor.caret.setToBlock(o)}),50)}),50),!1}})}}])&&i(r.prototype,a),l&&i(r,l),e}();e.default=l})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(0),n(4)],void 0===(i="function"==typeof(o=function(e,t,n){"use strict";function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var o=this;this.editor=e;var r=this,i="ce-toolbar",a="ce-toolbar__content",l="ce-toolbar__plus",s="ce-toolbar__plus--hidden",c="ce-toolbar__mobile-block-actions",u="ce-toolbar__mobile-block-actions-block-settings-button";this.nodes={wrapper:void 0,content:void 0,plusButton:void 0,mobileBlockActions:void 0},this.make=function(){return o.nodes.wrapper=t.node("div",i),f(),o.nodes.wrapper};var f=function(){o.nodes.content=t.node("div",a);var e=o.editor.toolbarToolbox.make();o.nodes.plusButton=t.node("span",l,{innerHTML:'<i class="cdx-icon cdx-icon--plus"></i>'}),o.nodes.mobileBlockActions=d(),o.editor.listeners.add(o.nodes.plusButton,"click",(function(){p()}),!1),o.nodes.content.appendChild(o.nodes.plusButton),o.nodes.content.appendChild(o.nodes.mobileBlockActions),o.nodes.content.appendChild(e),o.nodes.wrapper.appendChild(o.nodes.content)},d=function(){return t.node("div",c)},p=function(){o.editor.toolbarToolbox.toggle()};return this.defaultToolbarHeight=52,this.defaultOffset=32,this.opened=!1,this.open=function(){r.editor.config.hideToolbar||(function(){var e=o.editor.blocks.currentBlock;if(Array.from(o.nodes.mobileBlockActions.children).forEach((function(e){o.editor.listeners.remove(e)})),o.nodes.mobileBlockActions.innerHTML="",e&&!e.isEmpty){var n=t.node("div",u),r=t.icon("block-settings");n.appendChild(r),o.editor.listeners.add(n,"click",(function(e){var t=o.editor.blocks.currentBlock;t&&t.actions.settings.togglerClicked()})),o.nodes.mobileBlockActions.appendChild(n)}}(),r.editor.toolbar.nodes.wrapper.classList.add("opened"),this.opened=!0)},this.close=function(){for(var e in r.editor.toolbar.nodes.wrapper.classList.remove("opened"),r.opened=!1,r.nodes.buttons)r.nodes.buttons[e].classList.remove("selected");r.editor.toolbarToolbox.close()},this.toggle=function(){o.opened?o.close():o.open()},this.hidePlusButton=function(){r.editor.toolbar.nodes.plusButton.classList.add(s)},this.showPlusButton=function(){r.editor.toolbar.nodes.plusButton.classList.remove(s)},this.move=function(){this.close(),r.editor.toolbarToolbox.close();var e=this.editor.blocks.currentBlock;if(e){var t=e.wrapper.offsetTop-r.editor.toolbar.defaultToolbarHeight/2+r.editor.toolbar.defaultOffset-4;if(this.editor.state.get(n.IS_MOBILE)){var o=window.scrollY+window.innerHeight;if((t+=e.wrapper.offsetHeight-10)>o){var i=this.editor.ui.getWrappersOffset().top;t=o-this.nodes.wrapper.offsetHeight-parseInt(window.getComputedStyle(this.nodes.wrapper).marginTop)-i-10-window.scrollY}}r.editor.toolbar.nodes.wrapper.style.transform="translate3D(0, ".concat(Math.floor(t),"px, 0)")}},this},t=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(t)})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(0),n(7),n(34),n(156),n(157),n(158),n(159)],void 0===(i="function"==typeof(o=function(e,t,o,r,i,l,s,c){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var a=this;this.editor=e,this.selection=new r.default;var u=this,f=n(36).default,d="cdx-inline-toolbar",p="cdx-inline-toolbar--opened",h="cdx-inline-toolbar__button-wrapper",y="cdx-inline-toolbar__button-wrapper--hided",v="cdx-inline-toolbar__button",b="cdx-inline-toolbar__button-wrapper--active",g="cdx-inline-toolbar__link-remover",m="cdx-marked-text",k="cdx-inline-toolbar__link-back",w=null,S=null,O={bold:{icon:i.default,command:"bold"},italic:{icon:l.default,command:"italic"},marker:{icon:s.default,wrapperClass:"marked-text"},link:{icon:c.default,command:"createLink"}};function T(e){u.editor.listeners.add(e,"click",(function(e){!function(e,n){var o=n.dataset.type,r=O[o];switch(console.assert(r,"Unknown inline toolbar tool: "+o),o){case"link":u.createLinkAction(e,o);break;case"marker":!function(e){var n=j("MARK",m);if(n){M(n);var o=document.createElement("span");o.innerHTML=n.innerHTML,t.replace(n,o)}else!function(e){if(window.getSelection){var t=window.getSelection();if(t.rangeCount){var n=t.getRangeAt(0).cloneRange();n.surroundContents(e),t.removeAllRanges(),t.addRange(n)}}}(t.node("mark",[m,e.wrapperClass]))}(r);break;default:P(r.command,r.argument)}B(),e.preventDefault()}(e,this)}),!1)}this.link=null,this.storedSelection=null,this.scrollableParent=null,this.unlink=function(e){e.preventDefault(),u.createLinkAction(e),B(),setTimeout((function(){u.close()}),150)},this.make=function(){S=t.node("div",d),u.editor.ui.nodes.wrapper.appendChild(S),function(){var e,n,o,r,i;for(var a in O){n=O[a];var l=t.node("span",h);if(o=a,r=n.icon,i=void 0,(i=t.node("button",v)).innerHTML=r,i.dataset.type=o,e=i,l.appendChild(e),S.appendChild(l),l.setAttribute("data-type",a),"link"===a){u.link=new f({container:l,toolbar:S,editor:u.editor});var s=t.node("span",k);l.insertBefore(s,l.firstChild);var c=t.node("button",g);l.appendChild(c),u.editor.listeners.add(c,"click",u.unlink,!1),u.editor.listeners.add(s,"click",(function(){u.link.toggle()}),!1)}T(e)}}()},this.handle=function(e){E(e)?(C(),u.show(),u.editor.toolbar.close(),_(),B(),this.editor.blocks.workingBlockChanged(e.target)):u.close()},this.show=function(){S.classList.add(p)},this.close=function(){S.classList.remove(p)};var C=function(e){w=u.editor.ui.getWrappersOffset(),u.scrollableParent||(u.scrollableParent=t.findClosestScrollableParent(u.editor.ui.nodes.redactor));var n,o,i=r.default.rect,a=0;i&&(0===S.offsetHeight&&(a=40),n=i.x-w.left,o=i.y-w.top-a-S.offsetHeight-10,n>u.scrollableParent.clientWidth-S.offsetWidth-60?(S.style.left="auto",S.style.right="0"):(S.style.left=Math.floor(n)+"px",S.style.right="auto"),S.style.top=Math.floor(o)+"px",u.link.close())},E=function(e){var t,n,o,i,a=window.getSelection();if(e&&["IMG","INPUT"].includes(e.target.tagName))return!1;if(!a)return!1;if(a.anchorNode){if(t=r.default.text,!(n=u.editor.blocks.getBlockByChildren(a.anchorNode)))return!1;o=n.type}return!a.isCollapsed&&!(t.length<1)&&(i=u.editor.toolsManager.available)[o]&&i[o].class.inlineToolbar};function P(e,t){document.execCommand(e,!1,t||null)}this.createLinkAction=function(){var e=function(){for(var e=S.querySelectorAll(".".concat(h)),t=e.length-1;t>=0;t--){var n=e[t];if("link"===n.dataset.type&&n.classList.contains(b))return!0}return!1}();if(u.selection.save(),e){var t=j("A");t&&M(t),P("unlink")}else u.link.toggle()},this.setAnchor=function(e){var t=j("A");t&&M(t),document.execCommand("createLink",!1,e),setTimeout((function(){u.close()}),50)},this.restoreSelection=function(e,t){a.selection.restore()};var _=function(){for(var e=window.getSelection().anchorNode,t=u.editor.blocks.getBlockByChildren(e),n=S.querySelectorAll(".".concat(h)),r=n.length-1;r>=0;r--)n[r].classList.remove(y);var i=t.providedApiMethods[o.INLINE_TOOLBAR];if(i instanceof Array)for(var a=n.length-1;a>=0;a--){var l=n[a];i.includes(l.dataset.type)||l.classList.add(y)}};function M(e){var t=window.getSelection();t.removeAllRanges();var n=document.createRange();n.selectNodeContents(e),t.addRange(n)}function j(e,t){var n=window.getSelection();if(!n.anchorNode)return null;for(var o=n.anchorNode.parentNode,r=10;r>0&&o!==u.editor.ui.nodes.redactor&&o.parentNode;){if(o.tagName===e)return t&&!o.classList.contains(t)?null:o;o=o.parentNode,r--}return null}function B(){var e=S.querySelectorAll(".".concat(h));u.link.value="";for(var t=e.length-1;t>=0;t--){var n=e[t],o=n.dataset.type,r=O[o],i=!1;if(r.command)i=document.queryCommandState(r.command);else if(r.wrapperClass){var a=null!==j("SPAN",m),l=null!==j("MARK",m);i=a||l}if(n.classList.toggle(b,i),"link"===o){var s=j("A");if(s){n.classList.add(b),u.link.open(!1);var c=s.getAttribute("href");u.link.value="null"!==c?c:"",u.selection.save()}}}}return this},t=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(t),r=u(r),i=u(i),l=u(l),s=u(s),c=u(c)})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(0),n(1),n(73),n(11),n(7),n(17),n(160),n(4),n(61)],void 0===(i="function"==typeof(o=function(e,t,n,o,r,i,l,s,c,u){"use strict";function f(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(o=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==l.return||l.return()}finally{if(r)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(t),n=f(n),s=f(s),u=f(u);var v=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.opened=!1,this.current=null,this.nodes={wrapper:void 0,searchWrapper:void 0,search:void 0,buttons:[],notFoundMessage:void 0}}var a,f,d;return a=e,d=[{key:"CSS",get:function(){return{wrapper:"ce-toolbox",content:"ce-toolbox__content",wrapperAbove:"ce-toolbox--above",item:"ce-toolbox__item",itemSelected:"ce-toolbox__item--selected",itemHidden:"ce-toolbox__item--hidden",notFound:"ce-toolbox__not-found",notFoundShowed:"ce-toolbox__not-found--showed",itemIcon:"ce-toolbox__item-icon",itemTitle:"ce-toolbox__item-title",editorModeToolboxOpened:"codex-editor--toolbox-opened",toolBoxOpened:"opened",plusButtonClicked:"clicked",searchWrapper:"ce-toolbox-search",searchInput:"ce-toolbox-search-input",searchIcon:"ce-toolbox-search-icon"}}}],(f=[{key:"make",value:function(){var n=this,o=new u.default({title:"Выбор блока",api:this.editor.api,classes:[e.CSS.wrapper],onClose:function(){n.close()}}),r=t.node("div",e.CSS.content),i=this.createSearch(),a=this.createToolButtons();return this.nodes.wrapper=o.element,r.appendChild(i),a.forEach((function(e){return r.appendChild(e)})),r.appendChild(this.createNotFoundItem()),o.appendContent(r),this.nodes.wrapper}},{key:"createSearch",value:function(){var n=this;return this.nodes.searchWrapper=t.node("div",e.CSS.searchWrapper,{innerHTML:'<span class="'.concat(e.CSS.searchIcon,'">').concat(s.default,"</span>")}),this.nodes.search=t.node("input",e.CSS.searchInput),this.nodes.search.placeholder="Поиск",this.editor.listeners.add(this.nodes.search,"keydown",(function(e){switch(e.keyCode){case r.keys.DOWN:case r.keys.UP:case r.keys.TAB:e.preventDefault(),n.leaf(e.keyCode===r.keys.UP);break;case r.keys.ESC:n.close(),n.editor.caret.setToBlock(n.editor.blocks.currentBlock);break;case r.keys.ENTER:n.toolSelected(e);break;default:setTimeout((function(){n.search(e.target.value)}),120)}})),this.nodes.searchWrapper.appendChild(this.nodes.search),this.nodes.searchWrapper}},{key:"search",value:function(t){var n,r=t.toLowerCase(),i=(0,o.misTranslit)(r),a=0;this.nodes.buttons.forEach((function(t){var o=t.type,l=t.button,s=l.textContent.trim().toLowerCase(),c=s.includes(r)||s.includes(i);!n&&c&&(n=o),l.classList.toggle(e.CSS.itemHidden,!c),c&&a++})),n&&this.selectTool(n),this.nodes.notFoundMessage.classList.toggle(e.CSS.notFoundShowed,0===a)}},{key:"createToolButtons",value:function(){var e=this;return Object.entries(this.editor.toolsManager.available).filter((function(e){var t=p(e,2),o=t[0],r=t[1].class;return!!r.iconClassname&&("function"!=typeof r&&"function"!=typeof r.render&&(0,n.default)("render method missed. Tool %o skipped","warn",o),!0)})).map((function(t){var n=p(t,2),o=n[0],r=n[1],i=r.class,a=r[l.IS_NEW];return e.createToolButton(o,i.iconClassname,i.title,a)}))}},{key:"toggle",value:function(){this.opened?this.close():this.open()}},{key:"open",value:function(){var t=this;this.editor.blockActionsManager.closeEveryBlockSettings(),this.nodes.wrapper.classList.add(e.CSS.toolBoxOpened),this.editor.toolbar.nodes.plusButton.classList.add(e.CSS.plusButtonClicked),this.opened=!0,this.editor.ui.nodes.wrapper.classList.add(e.CSS.editorModeToolboxOpened),this.nodes.wrapper.classList.remove(e.CSS.wrapperAbove),this.editor.state.get(c.IS_MOBILE)||this.editor.api.checkElementFit(this.nodes.wrapper).bottom||(this.nodes.wrapper.classList.add(e.CSS.wrapperAbove),this.editor.api.checkElementFit(this.nodes.wrapper).top||this.nodes.wrapper.classList.remove(e.CSS.wrapperAbove)),setTimeout((function(){t.nodes.search.focus()}),100)}},{key:"close",value:function(){this.nodes.wrapper.classList.remove(e.CSS.toolBoxOpened),this.editor.toolbar.nodes.plusButton.classList.remove(e.CSS.plusButtonClicked),this.opened=!1,this.current=null,this.nodes.search.value="",this.nodes.buttons.forEach((function(t){t.button.classList.remove(e.CSS.itemSelected),t.button.classList.remove(e.CSS.itemHidden)})),this.editor.ui.nodes.wrapper.classList.remove(e.CSS.editorModeToolboxOpened)}},{key:"leaf",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.current,o=0,r=this.nodes.buttons;if(n){for(var i=0,a=0;a<r.length;a++)if(r[a].type===n){i=a;break}o=t?i-1:i+1}o===r.length&&(o=0),-1===o&&(o=r.length-1),e=r[o].type,this.selectTool(e)}},{key:"selectTool",value:function(t){var n=this;this.nodes.buttons.forEach((function(o){if(o.type===t)return o.button.classList.add(e.CSS.itemSelected),"function"==typeof o.button.scrollIntoViewIfNeeded&&o.button.scrollIntoViewIfNeeded(),void(n.current=t);o.button.classList.remove(e.CSS.itemSelected)}))}},{key:"createToolButton",value:function(e,t,n,o){var r=this,i=this.makeButton(e,t,n,o);return this.editor.listeners.add(i,"click",(function(e){r.buttonClicked(e,i)}),!1),this.nodes.buttons.push({type:e,button:i}),i}},{key:"createNotFoundItem",value:function(){var n=t.node("div",[e.CSS.notFound],{innerHTML:"Нет инструментов"});return this.nodes.notFoundMessage=n,n}},{key:"makeButton",value:function(n,o){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=i?'<span class="new">NEW</span>':"",l=t.node("li",e.CSS.item,{innerHTML:'<span class="'.concat(e.CSS.itemIcon," ").concat(o,'"></span>\n                  <span class="').concat(e.CSS.itemTitle,'">\n                    ').concat(r," ").concat(a,"\n                  </span>\n                  ")});return l.dataset.type=n,l}},{key:"buttonClicked",value:function(e,t){var n=t.dataset.type;this.current=n,"__show-more"===n?this.editor.toolbarToolbox.showMoreClicked():(this.editor.toolbarToolbox.toolSelected(e),this.editor.toolbar.close())}},{key:"toolSelected",value:function(e){var t,n=this,o=this.current,r=this.editor.blocks.currentBlock;this.editor.toolbar.close(),"function"==typeof(t=r&&r.type===this.editor.config.initialBlockPlugin&&r.isEmpty?this.editor.blocks.switch({blockToReplace:r,newBlockType:o,newBlockData:void 0}):this.editor.blocks.append({type:o})).providedApiMethods[i.APPEND_CALLBACK]&&t.callApiMethod(i.APPEND_CALLBACK,e),window.setTimeout((function(){t.inputs.length&&n.editor.caret.setToBlock(t)}),10),window.setTimeout((function(){n.editor.blocks.workingBlockChanged(t),n.editor.blocks.currentBlock.updateCurrentInputIndex(),t.updateInputs()}),250),this.editor.toolbar.move(),this.current=null;var a=new CustomEvent("cdxToolClick",{detail:{type:o}});document.dispatchEvent(a)}},{key:"appendDelimiter",value:function(){this.nodes.wrapper.appendChild(document.createElement("div"))}},{key:"showMoreClicked",value:function(){this.nodes.wrapper.classList.toggle("ce-toolbar__tools--expanded")}}])&&y(a.prototype,f),d&&y(a,d),e}();e.default=v})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(7),n(17),n(1)],void 0===(i="function"==typeof(o=function(e,t,n,o){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(o=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==l.return||l.return()}finally{if(r)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var s;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,o=(s=o)&&s.__esModule?s:{default:s};var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.plugins={},this.toolsAvailable=[],this.toolsUnavailable={}}var a,s,c;return a=e,(s=[{key:"prepare",value:function(){var e=this;return new Promise((function(t,n){var o=e.editor.config.tools;Object.entries(o).forEach((function(t){var n=i(t,2),o=n[0],a=n[1];"object"===r(a)&&"function"==typeof a.class?e.plugins[o]=a:e.plugins[o]={class:a}})),Promise.resolve().then((function(){return e.toolsToPrepare})).then((function(t){return e.prepareTools(t)})).then(t).catch(n)}))}},{key:"prepareTools",value:function(e){var t=this;return e.length?new Promise((function(n){e.reduce((function(r,i,a){return r.then((function(){return new Promise((function(r){t.callPluginsPrepare(i).then(r).catch((function(e){(0,o.default)("Plugin «".concat(i,"» was not loaded. Preparation failed because %o"),"warn",e),t.toolsUnavailable[i]=e,r()})).then((function(){t.toolsAvailable.push(i),a===e.length-1&&n()}))}))}))}),Promise.resolve())})):Promise.resolve()}},{key:"callPluginsPrepare",value:function(e){var o=this.plugins[e].class;return o[t.PREPARE](o[n.CONFIG]||{})}},{key:"available",get:function(){var e=this,t={};return Object.entries(this.plugins).forEach((function(n){var o=i(n,2),r=o[0],a=o[1];e.toolsAvailable.includes(r)&&(t[r]=a)})),t}},{key:"toolsToPrepare",get:function(){var e=[];for(var n in this.plugins)if(Object.prototype.hasOwnProperty.call(this.plugins,n)){if("function"!=typeof this.plugins[n].class[t.PREPARE]){this.toolsAvailable.push(n);continue}e.push(n)}return e}}])&&l(a.prototype,s),c&&l(a,c),e}();e.default=c})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(0),n(1),n(34),n(11),n(4)],void 0===(i="function"==typeof(o=function(e,t,n,o,r,i){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var a=this;this.editor=e;var l=this;function s(){l.editor.listeners.add(l.nodes.redactor,"keydown",c,!1),l.editor.listeners.add(l.nodes.redactor,"click",f,!1),l.editor.listeners.add(l.nodes.bottomZone,"click",d,!1)}function c(e){switch(e.keyCode){case r.keys.TAB:!function(e){if(!l.editor.config.hideToolbar){var t=l.editor.blocks.currentBlock.isEmpty;e.preventDefault(),t?(l.editor.toolbar.opened||l.editor.toolbar.open(),l.editor.toolbar.opened&&!l.editor.toolbarToolbox.opened?l.editor.toolbarToolbox.open():l.editor.toolbarToolbox.leaf()):l.editor.caret.goNext()}}(e);break;case r.keys.ENTER:!function(e){if("true"===e.target.contentEditable&&l.editor.blocks.currentBlock.updateCurrentInputIndex(),l.editor.toolbar.opened&&l.editor.toolbarToolbox.current&&e.target===l.editor.blocks.currentBlock.currentInput)return e.preventDefault(),l.editor.toolbarToolbox.toolSelected(e),e.stopPropagation(),void e.stopImmediatePropagation();var t=l.editor.blocks.currentBlock,n=t&&l.editor.toolsManager.available[t.type].class.enableLineBreaks;if(e.shiftKey||n)return e.stopPropagation(),void e.stopImmediatePropagation();e.shiftKey&&!n&&(l.enterPressedOnBlock(),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()),e.preventDefault();var o=l.editor.blocks.splitBlock();l.editor.caret.setToBlock(l.editor.blocks.currentBlock),l.editor.toolbar.move(),o.isEmpty&&(l.editor.toolbar.open(),l.editor.toolbar.showPlusButton())}(e);break;case r.keys.ESC:!function(e){l.editor.toolbar.close(),l.editor.toolbarToolbox.close(),e.preventDefault()}(e);break;case r.keys.BACKSPACE:case r.keys.DELETE:!function(e){var t=l.editor.blocks.selected;if(t.length>0){e.preventDefault();var n=l.editor.blocks.getBlockPosition(t[0]),o=l.editor.blocks.append(void 0,n);l.editor.caret.setToBlock(o),t.forEach((function(e){l.editor.blocks.remove(e)}))}}(e);break;default:u(e)}}this.CSS={wrapper:"codex-editor",redactor:"ce-redactor",bottomZone:"codex-editor__bottom"},this.nodes={wrapper:void 0,redactor:void 0,bottomZone:void 0},this.make=function(){return new Promise((function(e){a.nodes.wrapper=t.node("div",a.CSS.wrapper),a.nodes.redactor=t.node("div",a.CSS.redactor),a.nodes.bottomZone=t.node("div",a.CSS.bottomZone);var n=a.editor.toolbar.make(),o=a.editor.notifications.make(),r=a.editor.helperTooltip.make();a.nodes.wrapper.appendChild(a.nodes.redactor),a.nodes.wrapper.appendChild(a.nodes.bottomZone),a.nodes.wrapper.appendChild(n),a.nodes.wrapper.appendChild(o),a.nodes.wrapper.appendChild(r),a.editor.config.holder.appendChild(a.nodes.wrapper),e()})).then(l.editor.toolbarInline.make).then(s).catch((function(e){(0,n.default)("Can't draw CodeX Editor interface because %o","warn",e)}))};var u=function(){l.editor.toolbar.close(),l.editor.toolbarInline.link.opened||(l.editor.toolbarInline.close(),l.editor.blocks.clearHightlight())};function f(e){if(!(l.editor.blocks.selected.length>1)&&o.default.isEmpty){l.editor.blocks.clearSelection();var t=e.target;if(l.editor.toolbarInline.close(),function(e){e&&e.target&&"A"===e.target.tagName&&e.preventDefault()}(t),l.editor.blocks.workingBlockChanged(t),"true"===t.contentEditable&&l.editor.blocks.currentBlock.updateCurrentInputIndex(),l.editor.toolbarToolbox.close(),!t.closest(".ce-block-action")){l.editor.blockActionsManager.closeEveryBlockSettings();var n=l.editor.blocks.currentBlock;if(n){var r=n.isEmpty,a=n.type===l.editor.config.initialBlockPlugin;l.editor.toolbar.move(),l.editor.toolbar.open(),l.editor.state.get(i.IS_MOBILE)||(l.editor.toolbar.hidePlusButton(),r||l.editor.blocks.highlightBlock(n),a&&r&&l.editor.toolbar.showPlusButton())}}}}function d(){var e=l.editor.blocks.lastBlock,t=l.editor.blocks.getBlockPosition(e);if(e.isEmpty&&e.type===l.editor.config.initialBlockPlugin)l.editor.caret.setToBlock(e);else{var n=l.editor.blocks.append(void 0,t++);l.editor.caret.setToBlock(n)}}return this.enterPressedOnBlock=function(){var e=l.editor.blocks.append();l.editor.toolbar.move(),l.editor.toolbar.open(),l.editor.blockActionsManager.closeEveryBlockSettings(),l.editor.caret.setToBlock(e)},this.getWrappersOffset=function(){var e=l.nodes.wrapper.getBoundingClientRect();return{top:e.top,left:e.left}},this},t=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(t),n=l(n),o=l(o)})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(1),n(85),n(86),n(119),n(122),n(125),n(128)],void 0===(i="function"==typeof(o=function(e,t,o,r,i,a,l,s){"use strict";function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=(u=t)&&u.__esModule?u:{default:u},e.default=function e(o){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modules=function(){var e=n(132),t=[];function o(e){var t=e.replace("./","").replace(".js","");return["/","-"].forEach((function(e){var n=t.indexOf(e);-1!==n&&(t=t.slice(0,n)+t.charAt(n+1).toUpperCase()+t.slice(n+2))})),t}return e.keys().forEach((function(n){!n.includes("_")&&n.match(/[\w/]*\.js$/)&&t.push({name:o(n),module:e(n).default})})),t}(),this.version="3.16.0",this.modules.forEach((function(e){var t=e.name,n=e.module;"object"===c(n)?r[t]=n:r[t]=new n(r,o)}));var i=this.modules.filter((function(e){var t=e.name;return e.module,"function"==typeof r[t].prepare})).map((function(e){var t=e.name;return e.module,r[t].prepare(r,o)})),a=Promise.all(i).then((function(){return r.ui.make()})).then((function(){return r.renderer.makeBlocksFromData()})).then((function(){return r.globalEvents.bindDocumentEvents()})).then((function(){return r.blockActionsManager.prepareActions()})).then((function(){return r.paste.prepareSettings()})).then((function(){return(0,t.default)("Paragraph initialized","log",r.version,"blue"),r})).catch((function(e){(0,t.default)("Initialization failed with error: %o","warn",e)}));return Object.assign(this.api,{isReady:a,version:this.version})}})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){},function(e,t,n){var o=n(87);e.exports=o},function(e,t,n){n(88),n(107);var o=n(14);e.exports=o.Array.from},function(e,t,n){"use strict";var o=n(89).charAt,r=n(37),i=n(92),a=r.set,l=r.getterFor("String Iterator");i(String,"String",(function(e){a(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=l(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=o(n,r),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){var o=n(23),r=n(24),i=function(e){return function(t,n){var i,a,l=String(r(t)),s=o(n),c=l.length;return s<0||s>=c?e?"":void 0:(i=l.charCodeAt(s))<55296||i>56319||s+1===c||(a=l.charCodeAt(s+1))<56320||a>57343?e?l.charAt(s):i:e?l.slice(s,s+2):a-56320+(i-55296<<10)+65536}};e.exports={codeAt:i(!1),charAt:i(!0)}},function(e,t,n){var o=n(2),r=n(38),i=o.WeakMap;e.exports="function"==typeof i&&/native code/.test(r(i))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var o=n(13),r=n(99),i=n(52),a=n(105),l=n(54),s=n(12),c=n(46),u=n(6),f=n(29),d=n(22),p=n(51),h=p.IteratorPrototype,y=p.BUGGY_SAFARI_ITERATORS,v=u("iterator"),b=function(){return this};e.exports=function(e,t,n,u,p,g,m){r(n,t,u);var k,w,S,O=function(e){if(e===p&&_)return _;if(!y&&e in E)return E[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},T=t+" Iterator",C=!1,E=e.prototype,P=E[v]||E["@@iterator"]||p&&E[p],_=!y&&P||O(p),M="Array"==t&&E.entries||P;if(M&&(k=i(M.call(new e)),h!==Object.prototype&&k.next&&(f||i(k)===h||(a?a(k,h):"function"!=typeof k[v]&&s(k,v,b)),l(k,T,!0,!0),f&&(d[T]=b))),"values"==p&&P&&"values"!==P.name&&(C=!0,_=function(){return P.call(this)}),f&&!m||E[v]===_||s(E,v,_),d[t]=_,p)if(w={values:O("values"),keys:g?_:O("keys"),entries:O("entries")},m)for(S in w)(y||C||!(S in E))&&c(E,S,w[S]);else o({target:t,proto:!0,forced:y||C},w);return w}},function(e,t,n){var o=n(3),r=n(94),i=n(43),a=n(15);e.exports=function(e,t){for(var n=r(t),l=a.f,s=i.f,c=0;c<n.length;c++){var u=n[c];o(e,u)||l(e,u,s(t,u))}}},function(e,t,n){var o=n(47),r=n(95),i=n(50),a=n(10);e.exports=o("Reflect","ownKeys")||function(e){var t=r.f(a(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){var o=n(48),r=n(32).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,r)}},function(e,t,n){var o=n(19),r=n(49),i=n(97),a=function(e){return function(t,n,a){var l,s=o(t),c=r(s.length),u=i(a,c);if(e&&n!=n){for(;c>u;)if((l=s[u++])!=l)return!0}else for(;c>u;u++)if((e||u in s)&&s[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,n){var o=n(23),r=Math.max,i=Math.min;e.exports=function(e,t){var n=o(e);return n<0?r(n+t,0):i(n,t)}},function(e,t,n){var o=n(5),r=/#|\.prototype\./,i=function(e,t){var n=l[a(e)];return n==c||n!=s&&("function"==typeof t?o(t):!!t)},a=i.normalize=function(e){return String(e).replace(r,".").toLowerCase()},l=i.data={},s=i.NATIVE="N",c=i.POLYFILL="P";e.exports=i},function(e,t,n){"use strict";var o=n(51).IteratorPrototype,r=n(102),i=n(18),a=n(54),l=n(22),s=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=r(o,{next:i(1,n)}),a(e,c,!1,!0),l[c]=s,e}},function(e,t,n){var o=n(5);e.exports=!o((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var o=n(53);e.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var o,r=n(10),i=n(103),a=n(32),l=n(30),s=n(104),c=n(40),u=n(28),f=u("IE_PROTO"),d=function(){},p=function(e){return"<script>"+e+"<\/script>"},h=function(){try{o=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;h=o?function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t}(o):((t=c("iframe")).style.display="none",s.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F);for(var n=a.length;n--;)delete h.prototype[a[n]];return h()};l[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=r(e),n=new d,d.prototype=null,n[f]=e):n=h(),void 0===t?n:i(n,t)}},function(e,t,n){var o=n(9),r=n(15),i=n(10),a=n(21);e.exports=o?Object.defineProperties:function(e,t){i(e);for(var n,o=a(t),l=o.length,s=0;l>s;)r.f(e,n=o[s++],t[n]);return e}},function(e,t,n){var o=n(47);e.exports=o("document","documentElement")},function(e,t,n){var o=n(10),r=n(106);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return o(n),r(i),t?e.call(n,i):n.__proto__=i,n}}():void 0)},function(e,t,n){var o=n(16);e.exports=function(e){if(!o(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){var o=n(13),r=n(108);o({target:"Array",stat:!0,forced:!n(118)((function(e){Array.from(e)}))},{from:r})},function(e,t,n){"use strict";var o=n(109),r=n(20),i=n(111),a=n(113),l=n(49),s=n(114),c=n(115);e.exports=function(e){var t,n,u,f,d,p,h=r(e),y="function"==typeof this?this:Array,v=arguments.length,b=v>1?arguments[1]:void 0,g=void 0!==b,m=c(h),k=0;if(g&&(b=o(b,v>2?arguments[2]:void 0,2)),null==m||y==Array&&a(m))for(n=new y(t=l(h.length));t>k;k++)p=g?b(h[k],k):h[k],s(n,k,p);else for(d=(f=m.call(h)).next,n=new y;!(u=d.call(f)).done;k++)p=g?i(f,b,[u.value,k],!0):u.value,s(n,k,p);return n.length=k,n}},function(e,t,n){var o=n(110);e.exports=function(e,t,n){if(o(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,r){return e.call(t,n,o,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){var o=n(10),r=n(112);e.exports=function(e,t,n,i){try{return i?t(o(n)[0],n[1]):t(n)}catch(t){throw r(e),t}}},function(e,t,n){var o=n(10);e.exports=function(e){var t=e.return;if(void 0!==t)return o(t.call(e)).value}},function(e,t,n){var o=n(6),r=n(22),i=o("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[i]===e)}},function(e,t,n){"use strict";var o=n(27),r=n(15),i=n(18);e.exports=function(e,t,n){var a=o(t);a in e?r.f(e,a,i(0,n)):e[a]=n}},function(e,t,n){var o=n(116),r=n(22),i=n(6)("iterator");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||r[o(e)]}},function(e,t,n){var o=n(117),r=n(45),i=n(6)("toStringTag"),a="Arguments"==r(function(){return arguments}());e.exports=o?r:function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:a?r(t):"Object"==(o=r(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t,n){var o={};o[n(6)("toStringTag")]="z",e.exports="[object z]"===String(o)},function(e,t,n){var o=n(6)("iterator"),r=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){r=!0}};a[o]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var i={};i[o]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(e){}return n}},function(e,t,n){var o=n(120);e.exports=o},function(e,t,n){n(121);var o=n(14);e.exports=o.Object.entries},function(e,t,n){var o=n(13),r=n(55).entries;o({target:"Object",stat:!0},{entries:function(e){return r(e)}})},function(e,t,n){var o=n(123);e.exports=o},function(e,t,n){n(124);var o=n(14);e.exports=o.Object.keys},function(e,t,n){var o=n(13),r=n(20),i=n(21);o({target:"Object",stat:!0,forced:n(5)((function(){i(1)}))},{keys:function(e){return i(r(e))}})},function(e,t,n){var o=n(126);e.exports=o},function(e,t,n){n(127);var o=n(14);e.exports=o.Object.values},function(e,t,n){var o=n(13),r=n(55).values;o({target:"Object",stat:!0},{values:function(e){return r(e)}})},function(e,t,n){var o=n(129);e.exports=o},function(e,t,n){n(130);var o=n(14);e.exports=o.Object.assign},function(e,t,n){var o=n(13),r=n(131);o({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},function(e,t,n){"use strict";var o=n(9),r=n(5),i=n(21),a=n(50),l=n(31),s=n(20),c=n(44),u=Object.assign,f=Object.defineProperty;e.exports=!u||r((function(){if(o&&1!==u({b:1},u(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||"abcdefghijklmnopqrst"!=i(u({},t)).join("")}))?function(e,t){for(var n=s(e),r=arguments.length,u=1,f=a.f,d=l.f;r>u;)for(var p,h=c(arguments[u++]),y=f?i(h).concat(f(h)):i(h),v=y.length,b=0;v>b;)p=y[b++],o&&!d.call(h,p)||(n[p]=h[p]);return n}:u},function(e,t,n){var o={"./api":56,"./api.js":56,"./blockActionsManager":57,"./blockActionsManager.js":57,"./blockEvents":58,"./blockEvents.js":58,"./blockIndicatorsManager":59,"./blockIndicatorsManager.js":59,"./blocks":60,"./blocks.js":60,"./caret":62,"./caret.js":62,"./changesObserver":63,"./changesObserver.js":63,"./config":64,"./config.js":64,"./destroyer":65,"./destroyer.js":65,"./dragScroller":66,"./dragScroller.js":66,"./fitManager":67,"./fitManager.js":67,"./globalEvents":68,"./globalEvents.js":68,"./helperTooltip":69,"./helperTooltip.js":69,"./listeners":70,"./listeners.js":70,"./notifications":71,"./notifications.js":71,"./paste":72,"./paste.js":72,"./redoManager":74,"./redoManager.js":74,"./renderer":75,"./renderer.js":75,"./sanitizer":76,"./sanitizer.js":76,"./saver":77,"./saver.js":77,"./shortcuts":78,"./shortcuts.js":78,"./state":4,"./state.js":4,"./toolbar":79,"./toolbar.js":79,"./toolbar/_linkInput":36,"./toolbar/_linkInput.js":36,"./toolbar/inline":80,"./toolbar/inline.js":80,"./toolbar/toolbox":81,"./toolbar/toolbox.js":81,"./toolsManager":82,"./toolsManager.js":82,"./ui":83,"./ui.js":83};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=132},function(e,t,n){var o,r,i;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(0),n(4)],void 0===(i="function"==typeof(o=function(e,t,n){"use strict";function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(t);var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=t,this.block=n,this.nodes={wrapper:void 0},this.maxCoveredBlocksCount=this.api.config.coverBlocksLimit,this.checkStateTimeout=null}var o,i,a;return o=e,(i=[{key:"render",value:function(){var e=this,n=t.node("div",[this.CSS.indicator,this.CSS.indicatorType]),o=t.node("span",this.CSS.icon);return o.innerHTML=this.icon,n.appendChild(o),this.nodes.wrapper=n,this.api.listeners.add(this.nodes.wrapper,"click",(function(t){e.click(t),t.stopPropagation()}),!1),this.checkStateTimeout=setTimeout((function(){e.checkState()}),0),n}},{key:"checkState",value:function(){this.nodes.wrapper.classList.toggle(this.CSS.indicatorActivated,this.block.cover);var e=this.api.blocks.getBlocksOrdered().filter((function(e){return!0===e.cover})).length>=this.maxCoveredBlocksCount;this.api.ui.nodes.wrapper.classList.toggle(this.CSS.limitExceededEditorModifier,e),this.api.state.mutate(n.IS_COVER_BLOCKS_LIMIT_EXCEEDED,e)}},{key:"click",value:function(e){this.api.blocks.workingBlockChanged(e.target),this.api.blocks.currentBlock.cover=!this.api.blocks.currentBlock.cover,this.checkState()}},{key:"destroy",value:function(){this.checkStateTimeout&&(clearTimeout(this.checkStateTimeout),this.checkStateTimeout=null),this.api.listeners.remove(this.nodes.wrapper),this.block=null,this.nodes={wrapper:null},this.api=null}},{key:"CSS",get:function(){return{indicator:"ce-block-indicator",indicatorType:"ce-block-indicator--cover",indicatorActivated:"ce-block-indicator--active",icon:"ce-block-indicator__icon",limitExceededEditorModifier:"codex-editor--covers-limit-exceeded"}}},{key:"icon",get:function(){return'\n      <svg width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M10 .833c.317 0 .606.18.747.464l2.381 4.82 5.325.777a.833.833 0 01.461 1.422l-3.852 3.748.909 5.295a.833.833 0 01-1.209.879L10 15.736l-4.763 2.502a.833.833 0 01-1.209-.88l.91-5.294-3.853-3.748a.833.833 0 01.461-1.422l5.325-.778 2.382-4.819A.833.833 0 0110 .833z"/>\n      </svg>\n    '}}])&&r(o.prototype,i),a&&r(o,a),e}();e.default=i})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(0)],void 0===(i="function"==typeof(o=function(e,t){"use strict";function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(o,i,l):o[i]=e[i]}return o.default=e,t&&t.set(e,o),o}(t);var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=t,this.block=n,this.nodes={wrapper:void 0}}var n,r,i;return n=e,(r=[{key:"render",value:function(){var e=this,n=t.node("div",[this.CSS.indicator,this.CSS.indicatorType]),o=t.node("span",this.CSS.icon);return o.innerHTML=this.icon,n.appendChild(o),this.nodes.wrapper=n,this.api.listeners.add(this.nodes.wrapper,"click",(function(t){e.click(t),t.stopPropagation()}),!1),this.checkState(),n}},{key:"checkState",value:function(){this.nodes.wrapper.classList.toggle(this.CSS.indicatorActivated,this.block.hidden)}},{key:"click",value:function(e){this.api.blocks.workingBlockChanged(e.target),this.api.blocks.currentBlock.hidden=!this.api.blocks.currentBlock.hidden,this.checkState()}},{key:"destroy",value:function(){this.api.listeners.remove(this.nodes.wrapper),this.block=null,this.nodes={wrapper:null},this.api=null}},{key:"CSS",get:function(){return{indicator:"ce-block-indicator",indicatorType:"ce-block-indicator--hidden",indicatorActivated:"ce-block-indicator--active",icon:"ce-block-indicator__icon"}}},{key:"icon",get:function(){return'\n      <svg width="14" height="11" viewBox="0 0 14 11" xmlns="http://www.w3.org/2000/svg">\n          <path d="M7.8 3.4l1.3 1.3a2.7 2.7 0 00-1.3-1.3z"/>\n          <path d="M13.8 5.1a14.2 14.2 0 00-2.5-3A6.3 6.3 0 007 .7a4.7 4.7 0 00-1.7.2l1.2 1.2H7a5 5 0 013.4 1.1 11.4 11.4 0 012 2.3 17.1 17.1 0 01-1.1 1.4l1 1 1.5-2a1.1 1.1 0 000-.8zM2.7.2a.7.7 0 00-1 0 .7.7 0 000 1l1 1A13.7 13.7 0 00.2 5.1a1.1 1.1 0 000 .8 14.2 14.2 0 002.5 3A6.3 6.3 0 007 10.3a6.8 6.8 0 003.1-.7l1.2 1.2.5.2.5-.2a.7.7 0 000-1zm4.2 6.1a.7.7 0 01-.7-.7zM7 8.9a5 5 0 01-3.4-1.1 11.4 11.4 0 01-2-2.3 11.4 11.4 0 012-2.3.1.1 0 01.1-.1L5 4.5a3 3 0 00-.2 1A2.2 2.2 0 007 7.7l1-.2 1.1 1.1a6.6 6.6 0 01-2.1.3z"/>\n      </svg>\n    '}}])&&o(n.prototype,r),i&&o(n,i),e}();e.default=r})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(0)],void 0===(i="function"==typeof(o=function(e,t){"use strict";function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(o,i,l):o[i]=e[i]}return o.default=e,t&&t.set(e,o),o}(t);var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=t,this.block=n,this.nodes={wrapper:void 0}}var n,r,i;return n=e,(r=[{key:"render",value:function(){var e=this,n=t.node("div",[this.CSS.indicator,this.CSS.indicatorType]),o=t.node("span",this.CSS.icon);return o.innerHTML=this.icon,n.appendChild(o),this.nodes.wrapper=n,this.api.listeners.add(this.nodes.wrapper,"click",(function(t){e.click(t),t.stopPropagation()}),!1),this.checkState(),n}},{key:"checkState",value:function(){this.nodes.wrapper.classList.toggle(this.CSS.indicatorActivated,this.block.anchor),this.nodes.wrapper.setAttribute("title",this.block.anchor||"")}},{key:"click",value:function(){this.block.actions.settings.open(),this.block.wrapper.querySelector(".anchor-tool__input").focus()}},{key:"destroy",value:function(){this.api.listeners.remove(this.nodes.wrapper),this.block=null,this.nodes={wrapper:null},this.api=null}},{key:"CSS",get:function(){return{indicator:"ce-block-indicator",indicatorType:"ce-block-indicator--anchor",indicatorActivated:"ce-block-indicator--active",icon:"ce-block-indicator__icon"}}},{key:"icon",get:function(){return'\n      <svg width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M10.83 8.227A3.333 3.333 0 0010 1.669a3.331 3.331 0 00-.832 6.558v.942H6.874a.831.831 0 100 1.662h2.294v5.797c-1.725-.175-2.68-.89-3.218-1.535a3.838 3.838 0 01-.625-1.058 3.102 3.102 0 01-.13-.415l-.002-.013a.831.831 0 00-1.639.28l.015.076c.009.04.02.094.038.159.034.13.087.306.168.515a5.5 5.5 0 00.898 1.52C5.617 17.29 7.26 18.331 10 18.331c2.74 0 4.383-1.042 5.326-2.174a5.5 5.5 0 00.898-1.52 4.773 4.773 0 00.206-.673v-.001l.015-.076a.831.831 0 00-1.639-.28l-.002.013-.02.08c-.02.076-.054.192-.11.335a3.836 3.836 0 01-.625 1.058c-.538.646-1.492 1.36-3.217 1.535v-5.797h2.293a.831.831 0 000-1.662h-2.293v-.942zM10 3.33a1.669 1.669 0 100 3.338 1.669 1.669 0 000-3.338z"/>\n      </svg>\n    '}}])&&o(n.prototype,r),i&&o(n,i),e}();e.default=r})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t],void 0===(i="function"==typeof(o=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return"_"+Math.random().toString(36).substr(2,9)}})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(33),n(138)],void 0===(i="function"==typeof(o=function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(o=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==l.return||l.return()}finally{if(r)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=o(t),n=o(n);var l=function(){function e(o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=o,this.actions={settings:n.default,dragndrop:t.default},this.actionsInstances=[],this.api.config.hideToolbar||this.addActionsToBlock(r)}var o,i,l;return o=e,(i=[{key:"addActionsToBlock",value:function(e){var t=this;Object.entries(this.actions).forEach((function(n){var o=r(n,2),i=o[0],a=new(0,o[1])(t.api,e),l=a.render();t[i]=a,e.addAction(l),t.actionsInstances.push(a)}))}},{key:"renderMobileBlockSettings",value:function(){return this.settings.renderBlockSettingsPanel(!0)}},{key:"destroy",value:function(){this.actionsInstances.forEach((function(e){return e.destroy()})),this.actionsInstances=[],this.api=null}}])&&a(o.prototype,i),l&&a(o,l),e}();e.default=l})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(8),n(0),n(35),n(61)],void 0===(i="function"==typeof(o=function(e,t,n,o,r){"use strict";function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(o=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==l.return||l.return()}finally{if(r)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=l(t),n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(n),o=l(o),r=l(r);var f=function(){function e(t,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=t,this.block=n,this.togglerClickHandler=function(){o.togglerClicked()},this.nodes={wrapper:null,toggler:null,popover:null},this.opened=!1,this.blockSettingsPanel=null}var t,i,a;return t=e,a=[{key:"CSS",get:function(){return{actionBaseClass:"ce-block-action",actionUnitClass:"ce-block-action--settings",toggler:"ce-block-action__settings-toggler",blockWithOpenedSettings:"ce-block--settings-opened"}}}],(i=[{key:"render",value:function(){return this.nodes.wrapper=n.node("div",[e.CSS.actionBaseClass,e.CSS.actionUnitClass]),this.nodes.toggler=this.makeToggler(),this.nodes.wrapper.appendChild(this.nodes.toggler),this.nodes.wrapper}},{key:"makeToggler",value:function(){var t=n.node("div",[e.CSS.toggler]),o=n.icon("block-settings");return t.appendChild(o),this.api.listeners.add(t,"click",this.togglerClickHandler,{passive:!0}),t}},{key:"togglerClicked",value:function(){this.opened?this.close():this.open()}},{key:"renderBlockSettingsPanel",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.blockSettingsPanel=new o.default({api:this.api,block:this.block,close:function(){e.close()}}),this.blockSettingsPanel.render(t)}},{key:"open",value:function(){var t=this;this.api.closeEveryBlockSettings(),this.api.toolbar.close(),this.popover=new r.default({title:"Настройки",api:this.api,onClose:function(){t.close()}}),this.nodes.popover=this.popover.element;var n=this.renderBlockSettingsPanel();this.popover.appendContent(n),this.nodes.wrapper.appendChild(this.nodes.popover),this.opened=!0,this.block.wrapper.classList.add(e.CSS.blockWithOpenedSettings);var o=new CustomEvent("cdxBlockSettingsOpening",{detail:{type:this.block.type}});document.dispatchEvent(o)}},{key:"close",value:function(){this.popover&&this.nodes.popover&&(this.popover=null,this.nodes.popover.remove()),this.block.wrapper.classList.remove(e.CSS.blockWithOpenedSettings),this.opened=!1,this.blockSettingsPanel&&this.blockSettingsPanel.destroy(),this.blockSettingsPanel=null}},{key:"destroy",value:function(){var e=this;this.api.listeners.remove(this.nodes.toggler),this.api=null,this.block=null,Object.entries(this.nodes).forEach((function(t){var n=s(t,2),o=n[0],r=n[1];r&&r.remove(),e.nodes[o]=null})),this.opened=!1,this.blockSettingsPanel=null}}])&&u(t.prototype,i),a&&u(t,a),e}();e.default=f})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(0),n(8),n(140)],void 0===(i="function"==typeof(o=function(e,t,n,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(t),n=r(n),o=r(o);var c=function(){function e(t,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=t,this.block=n,this.clickHandler=function(){o.performAction()},this.button=void 0}return s(e,null,[{key:"displayInMobileToolbar",get:function(){return!0}}]),s(e,[{key:"render",value:function(){return this.button=t.node("div"),this.button.insertAdjacentHTML("afterbegin",o.default),this.button.appendChild(t.text("Переместить вверх")),this.api.listeners.add(this.button,"click",this.clickHandler),this.button}},{key:"performAction",value:function(){var e,n=this.block,o=n.wrapper.previousSibling;if(!o)return!1;var r=n.wrapper.getBoundingClientRect(),i=o.getBoundingClientRect();e=i.top>0?Math.abs(r.top)-Math.abs(i.top):window.innerHeight-Math.abs(r.top)+Math.abs(i.top),t.insertBefore(o,n.wrapper),window.scrollBy(0,-1*e);var a=new CustomEvent("cdxBlockMoved",{detail:{direction:"up",type:n.type}});this.block.dispatchModifiedEvent(),document.dispatchEvent(a)}},{key:"destroy",value:function(){this.api.listeners.remove(this.button),this.button=null,this.api=null,this.block=null}}]),e}();e.default=c})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){"use strict";n.r(t),t.default='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M11.293 3.293a1 1 0 011.414 0l7 7a1 1 0 01-1.414 1.414L13 6.414V20a1 1 0 11-2 0V6.414l-5.293 5.293a1 1 0 01-1.414-1.414l7-7z" fill="#000"/>\n</svg>\n'},function(e,t,n){var o,r,i;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(0),n(8),n(142)],void 0===(i="function"==typeof(o=function(e,t,n,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(t),n=r(n),o=r(o);var c=function(){function e(t,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=t,this.block=n,this.clickHandler=function(){o.performAction()},this.button=void 0}return s(e,null,[{key:"displayInMobileToolbar",get:function(){return!0}}]),s(e,[{key:"render",value:function(){return this.button=t.node("div"),this.button.insertAdjacentHTML("afterbegin",o.default),this.button.appendChild(t.text("Переместить вниз")),this.api.listeners.add(this.button,"click",this.clickHandler),this.button}},{key:"performAction",value:function(){var e,n=this.block,o=n.wrapper.nextSibling;if(!o)return!1;e=o.getBoundingClientRect().top<window.innerHeight?window.scrollY+o.offsetHeight:Math.abs(window.innerHeight-o.offsetHeight),t.insertAfter(o,n.wrapper),window.scrollTo(0,e);var r=new CustomEvent("cdxBlockMoved",{detail:{direction:"down",type:n.type}});this.block.dispatchModifiedEvent(),document.dispatchEvent(r)}},{key:"destroy",value:function(){this.api.listeners.remove(this.button),this.button.removeEventListener("click",this.clickHandler),this.button=null,this.editor=null,this.block=null}}]),e}();e.default=c})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){"use strict";n.r(t),t.default='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.707 20.707a1 1 0 01-1.414 0l-7-7a1 1 0 111.414-1.414L11 17.586V4a1 1 0 112 0v13.586l5.293-5.293a1 1 0 011.414 1.414l-7 7z" fill="#000"/>\n</svg>\n'},function(e,t,n){var o,r,i;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(0),n(8),n(4),n(35),n(144),n(145)],void 0===(i="function"==typeof(o=function(e,t,n,o,r,i,l){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(t),n=s(n),i=s(i),l=s(l);var f=function(){function e(t,n,o){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=t,this.block=n,this.blockSettingsInstance=o,this.clickHandler=function(e){r.performAction(e)},this.button=void 0}var n,a,s;return n=e,(a=[{key:"render",value:function(){return this.button=t.node("div"),this.button.appendChild(t.text("Вывести в ленте")),this.isActivated?(this.button.classList.add(r.CSS.itemActive),this.button.insertAdjacentHTML("afterbegin",l.default)):this.button.insertAdjacentHTML("afterbegin",i.default),this.api.listeners.add(this.button,"click",this.clickHandler),this.button}},{key:"performAction",value:function(e){e.stopPropagation();var t=this.block;if(this.isActivated)t.cover=!1;else{if(this.api.state.get(o.IS_COVER_BLOCKS_LIMIT_EXCEEDED))return;t.cover=!0;var n=new CustomEvent("cdxBlockMarkedAsCover",{detail:{type:t.type}});document.dispatchEvent(n)}this.api.checkIndicatorsByBlock(t),this.blockSettingsInstance.close()}},{key:"destroy",value:function(){this.api.listeners.remove(this.button),this.button=null,this.api=null,this.block=null,this.blockSettingsInstance=null}},{key:"isActivated",get:function(){return this.block.cover}}])&&u(n.prototype,a),s&&u(n,s),e}();e.default=f})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){"use strict";n.r(t),t.default='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path fill="#000" fill-rule="evenodd" clip-rule="evenodd" d="M12 1a1 1 0 01.897.557l2.857 5.783 6.39.933a1 1 0 01.553 1.706l-4.622 4.498 1.09 6.354a1 1 0 01-1.45 1.054L12 18.883l-5.715 3.002a1 1 0 01-1.45-1.054l1.09-6.354-4.622-4.498a1 1 0 01.553-1.706l6.39-.933 2.857-5.783A1 1 0 0112 1zm0 3.257l-2.193 4.44a1 1 0 01-.752.546l-4.905.716 3.547 3.452a1 1 0 01.289.886l-.838 4.876 4.387-2.305a1 1 0 01.93 0l4.387 2.305-.837-4.876a1 1 0 01.288-.886l3.547-3.452-4.905-.716a1 1 0 01-.752-.547L12 4.257z" />\n</svg>\n'},function(e,t,n){"use strict";n.r(t),t.default='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M12 1a1 1 0 01.897.557l2.857 5.783 6.39.933a1 1 0 01.553 1.706l-4.622 4.498 1.09 6.354a1 1 0 01-1.45 1.054L12 18.883l-5.715 3.002a1 1 0 01-1.45-1.054l1.09-6.354-4.622-4.498a1 1 0 01.553-1.706l6.39-.933 2.857-5.783A1 1 0 0112 1z" fill="#4684D9"/>\n</svg>\n'},function(e,t,n){var o,r,i;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(0),n(147),n(35)],void 0===(i="function"==typeof(o=function(e,t,n,o){"use strict";function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var l;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(t),n=(l=n)&&l.__esModule?l:{default:l};var s=function(){function e(t,n,o){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=t,this.block=n,this.blockSettingsInstance=o,this.clickHandler=function(e){r.performAction(e)},this.button=void 0}var r,a,l;return r=e,(a=[{key:"render",value:function(){return this.button=t.node("div"),this.button.insertAdjacentHTML("afterbegin",n.default),this.isActivated?(this.button.classList.add(o.CSS.itemActive),this.button.appendChild(t.text("Показать содержание"))):this.button.appendChild(t.text("Скрыть содержание")),this.api.listeners.add(this.button,"click",this.clickHandler),this.button}},{key:"performAction",value:function(e){e.stopPropagation();var t=this.block,n=this.isActivated;if(t.hidden=!n,t.hidden){var o=new CustomEvent("cdxBlockMarkedAsHidden",{detail:{type:t.type}});document.dispatchEvent(o)}this.api.checkIndicatorsByBlock(t),this.blockSettingsInstance.close()}},{key:"destroy",value:function(){this.api.listeners.remove(this.button),this.button=null,this.api=null,this.block=null,this.blockSettingsInstance=null}},{key:"isActivated",get:function(){return this.block.hidden}}])&&i(r.prototype,a),l&&i(r,l),e}();e.default=s})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){"use strict";n.r(t),t.default='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.186 6.126a9.13 9.13 0 00-1.398.938c-1.51 1.225-2.602 2.856-3.62 4.38a1 1 0 000 1.111c1.018 1.524 2.11 3.156 3.62 4.38C7.343 18.198 9.3 19 12 19c2.63 0 4.557-.762 6.092-1.968l-1.427-1.427C15.518 16.448 14.073 17 12 17c-2.25 0-3.76-.651-4.953-1.618C5.96 14.5 5.106 13.334 4.204 12c.902-1.335 1.755-2.5 2.843-3.382A6.948 6.948 0 018.68 7.62L7.186 6.126zm3.133 1.012L8.67 5.49C9.64 5.175 10.74 5 12 5c2.7 0 4.657.803 6.212 2.064 1.51 1.225 2.602 2.856 3.62 4.38a1 1 0 010 1.111c-.782 1.17-1.606 2.403-2.63 3.467l-1.414-1.414c.717-.75 1.35-1.634 2.007-2.608-.901-1.335-1.755-2.5-2.843-3.382C15.762 7.65 14.251 7 12 7c-.612 0-1.17.048-1.681.138zm-.026 2.096a3.25 3.25 0 104.473 4.473l-1.528-1.529a1.25 1.25 0 11-1.416-1.415l-1.529-1.53zm4.957 2.835L11.93 8.75l.07-.001a3.25 3.25 0 013.249 3.319z" fill="#000"/>\n  <path d="M5 5l14 14" stroke="#000" stroke-width="1.5" stroke-linecap="round"/>\n</svg>\n'},function(e,t,n){var o,r,i;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(0),n(8),n(149)],void 0===(i="function"==typeof(o=function(e,t,n,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(t),n=r(n),o=r(o);var c=function(){function e(t,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=t,this.block=n,this.clickHandler=function(){o.performAction()},this.button=void 0}return s(e,null,[{key:"displayInMobileToolbar",get:function(){return!0}}]),s(e,[{key:"render",value:function(){return this.button=t.node("div",e.CSS.button),this.button.insertAdjacentHTML("afterbegin",o.default),this.button.appendChild(t.node("span",e.CSS.text,{textContent:"Удалить блок"})),this.api.listeners.add(this.button,"click",this.clickHandler),this.button}},{key:"performAction",value:function(){this.button.classList.contains(e.CSS.confirmationMode)?this.confirmRemovingRequest():(this.button.querySelector(".".concat(e.CSS.text)).textContent="Точно удалить?",this.button.classList.add(e.CSS.confirmationMode))}},{key:"confirmRemovingRequest",value:function(){var e=this.block,t=new CustomEvent("cdxBlockRemoved",{detail:{type:e.type}});document.dispatchEvent(t),this.api.removeBlock(e.id),this.api.toolbar.close()}},{key:"destroy",value:function(){this.api.listeners.remove(this.button),this.button=null,this.api=null,this.block=null}}],[{key:"CSS",get:function(){return{button:"remove-tool",confirmationMode:"remove-tool--confirm",text:"remove-tool__text"}}}]),e}();e.default=c})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){"use strict";n.r(t),t.default='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.002 5.5A2.498 2.498 0 0110.5 3.002h3A2.498 2.498 0 0115.998 5.5v1.003H20a.998.998 0 010 1.995h-.526l-1.15 9.008a3.998 3.998 0 01-3.965 3.491H9.64a3.997 3.997 0 01-3.965-3.491l-1.15-9.008H4a.997.997 0 110-1.995h4.002V5.5zm1.995 1.003h4.005V5.5a.503.503 0 00-.502-.503h-3a.503.503 0 00-.502.503v1.003zm-3.46 1.995l1.118 8.755c.128 1 .978 1.75 1.986 1.75h4.718c1.008 0 1.858-.75 1.986-1.75l1.118-8.755H6.537zM10 10.253c.55 0 .998.446.998.997v4.5a.998.998 0 01-1.995 0v-4.5c0-.55.446-.998.997-.998zm4 0c.55 0 .998.446.998.997v4.5a.998.998 0 01-1.995 0v-4.5c0-.55.446-.998.997-.998z" fill="#000"/>\n</svg>\n'},function(e,t,n){var o,r,i;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(0),n(8),n(11),n(151)],void 0===(i="function"==typeof(o=function(e,t,n,o,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(t),n=i(n),r=i(r);var c=function(){function e(t,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=t,this.block=n,this.clickHandler=function(){o.performAction()},this.wrapper=void 0,this.input=void 0}var n,i,a;return n=e,a=[{key:"CSS",get:function(){return{noHover:"no-hover",wrapper:"anchor-tool",input:"anchor-tool__input"}}}],(i=[{key:"render",value:function(){var n=this;this.wrapper=t.node("div",[e.CSS.wrapper,e.CSS.noHover]);var o=t.node("input",e.CSS.input,{placeholder:"Якорь"});return this.wrapper.insertAdjacentHTML("afterbegin",r.default),this.wrapper.appendChild(o),this.input=o,this.input.value=this.block.anchor||"",this.api.listeners.add(this.input,"keydown",(function(e){n.keyDownOnAnchorInput(e)})),this.api.listeners.add(this.input,"keyup",(function(e){n.keyUpOnAnchorInput(e)})),this.api.listeners.add(this.input,"input",(function(e){n.anchorChanged(e)})),this.api.listeners.add(this.input,"blur",(function(e){n.anchorChanged(e)})),this.wrapper}},{key:"anchorChanged",value:function(e){var t=e.target.value=this.rusToTranslit(e.target.value);this.block.anchor=t,this.api.checkIndicatorsByBlock(this.block)}},{key:"keyDownOnAnchorInput",value:function(e){e.keyCode===o.keys.ENTER&&(e.preventDefault(),e.stopPropagation(),e.target.blur(),this.block.actions.settings.close())}},{key:"keyUpOnAnchorInput",value:function(e){e.keyCode>=o.keys.LEFT&&e.keyCode<=o.keys.DOWN&&e.stopPropagation()}},{key:"rusToTranslit",value:function(e){for(var t=["А","Б","В","Г","Д","Е","Ё","Ж","З","И","Й","К","Л","М","Н","О","П","Р","С","Т","У","Ф","Х","Ц","Ч","Ш","Щ","Ь","Ы","Ь","Э","Ю","Я"],n=["A","B","V","G","D","E","E","Zh","Z","I","Y","K","L","M","N","O","P","R","S","T","U","F","H","C","Ch","Sh","Sch","","Y","","E","Yu","Ya"],o=0;o<t.length;o++)e=(e=e.split(t[o]).join(n[o])).split(t[o].toLowerCase()).join(n[o].toLowerCase());return e=e.replace(/[^0-9a-zA-Z_]+/g,"-")}},{key:"destroy",value:function(){this.wrapper=null,this.input&&this.api.listeners.remove(this.input),this.input=null,this.block=null,this.api=null}}])&&s(n.prototype,i),a&&s(n,a),e}();e.default=c})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){"use strict";n.r(t),t.default='<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.831 8.227A3.333 3.333 0 0010 1.669a3.331 3.331 0 00-.831 6.558v.942H6.875a.831.831 0 100 1.662h2.294v5.797c-1.726-.175-2.68-.89-3.218-1.535a3.837 3.837 0 01-.626-1.058 3.1 3.1 0 01-.129-.415l-.002-.013a.831.831 0 00-1.64.28l.016.076a4.758 4.758 0 00.206.673 5.5 5.5 0 00.898 1.521C5.617 17.29 7.26 18.331 10 18.331c2.74 0 4.382-1.042 5.326-2.174a5.5 5.5 0 00.898-1.52 4.747 4.747 0 00.206-.673v-.001l.015-.076a.831.831 0 00-1.64-.28l-.002.013-.019.08c-.02.076-.054.192-.11.335a3.836 3.836 0 01-.625 1.058c-.538.646-1.493 1.36-3.218 1.535v-5.797h2.294a.831.831 0 000-1.662H10.83v-.942zM10 3.33a1.669 1.669 0 100 3.338 1.669 1.669 0 000-3.338z" fill="#000"/>\n</svg>\n'},function(e,t,n){"use strict";n.r(t),t.default='<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.36804 11.7677L5.86998 7.2628l-4.52056 4.5049c-.30924.30973-.80965.30973-1.1189 0C.07873 11.6213 0 11.4242 0 11.21024c0-.20835.07872-.40544.23053-.55748L4.7567 6.14782.2474 1.63162c-.30925-.3097-.30925-.8165 0-1.12622.298-.29845.8209-.29845 1.1189 0L5.8812 5.02722 10.35118.57297c.30924-.30408.80965-.30408 1.1189 0 .1518.15204.23052.34913.23052.5575 0 .21397-.07872.41106-.23053.55747L7.00012 6.14782l4.48682 4.49366c.30924.30972.30924.81652 0 1.12623-.1462.14642-.3486.2309-.56226.2309-.20803 0-.41045-.07884-.55664-.2309" fill="#000" fill-rule="evenodd"/></svg>\n'},function(e,t,n){var o,r,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t],void 0===(i="function"==typeof(o=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.set=function(e){var t=document.createElement("pre");t.contentEditable="true",t.style.position="absolute",t.style.left="-99999px",t.style.opacity="0.01",document.body.appendChild(t),t.innerHTML=e;var n=document.createRange(),o=window.getSelection();n.selectNodeContents(t),o.removeAllRanges(),o.addRange(n),document.execCommand("copy"),t.remove()},e.setPlain=function(e){var t=document.createElement("textarea");t.contentEditable="true",t.style.position="absolute",t.style.left="-99999px",t.style.opacity="0.01",document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy"),t.remove()}})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t],void 0===(i="function"==typeof(o=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t}})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r;void 0===(r="function"==typeof(o=function(){function e(e){var t=e.tags;if(!Object.keys(t).map((function(e){return typeof t[e]})).every((function(e){return"object"===e||"boolean"===e||"function"===e})))throw new Error("The configuration was invalid");this.config=e}var t=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function n(e){return-1!==t.indexOf(e.nodeName)}var o=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function r(e){return-1!==o.indexOf(e.nodeName)}function i(e,t,n){return"function"==typeof e.tags[t]?e.tags[t](n):e.tags[t]}function a(e,t){return void 0===t||"boolean"==typeof t&&!t}function l(e,t,n){var o=e.name.toLowerCase();return!0!==t&&("function"==typeof t[o]?!t[o](e.value,n):void 0===t[o]||!1===t[o]||"string"==typeof t[o]&&t[o]!==e.value)}return e.prototype.clean=function(e){const t=document.implementation.createHTMLDocument(),n=t.createElement("div");return n.innerHTML=e,this._sanitize(t,n),n.innerHTML},e.prototype._sanitize=function(e,t){var o=function(e,t){return e.createTreeWalker(t,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}(e,t),s=o.firstChild();if(s)do{if(s.nodeType!==Node.TEXT_NODE){if(s.nodeType===Node.COMMENT_NODE){t.removeChild(s),this._sanitize(e,t);break}var c,u=r(s);u&&(c=Array.prototype.some.call(s.childNodes,n));var f=!!t.parentNode,d=n(t)&&n(s)&&f,p=s.nodeName.toLowerCase(),h=i(this.config,p,s);if(u&&c||a(0,h)||!this.config.keepNestedBlockElements&&d){if("SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName)for(;s.childNodes.length>0;)t.insertBefore(s.childNodes[0],s);t.removeChild(s),this._sanitize(e,t);break}for(var y=0;y<s.attributes.length;y+=1){var v=s.attributes[y];l(v,h,s)&&(s.removeAttribute(v.name),y-=1)}this._sanitize(e,s)}else if(""===s.data.trim()&&(s.previousElementSibling&&n(s.previousElementSibling)||s.nextElementSibling&&n(s.nextElementSibling))){t.removeChild(s),this._sanitize(e,t);break}}while(s=o.nextSibling())},e})?o.call(t,n,t,e):o)||(e.exports=r)},function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M5.833 4.166c0-.46.373-.833.834-.833h3.75a3.75 3.75 0 012.954 6.06 3.751 3.751 0 01-1.288 7.273H6.667a.833.833 0 01-.834-.833V4.166zM7.5 10.833V15h4.583a2.083 2.083 0 000-4.167H7.5zm0-1.667h2.917a2.083 2.083 0 100-4.166H7.5v4.166z"/>\n</svg>\n'},function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M11.647 3.333h-2.48a.833.833 0 000 1.667h1.395L7.705 15H5.833a.833.833 0 000 1.667h5a.833.833 0 100-1.667H9.438l2.857-10h1.872a.833.833 0 000-1.667h-2.52z"/>\n</svg>\n'},function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.953 3.85a1.667 1.667 0 012.277-.61l1.438.83c.797.46 1.07 1.48.61 2.277l-1.04 1.799-4.247 7.37c-.164.286-.41.516-.705.662l-2.462 1.218a.833.833 0 01-1.2-.694l-.177-2.741a1.667 1.667 0 01.22-.94l5.286-9.17zm2.259 2.742l.622-1.079-1.437-.83-.623 1.079 1.438.83zm-2.27.613L9.11 13.854l.096 1.494 1.341-.664 3.832-6.649-1.437-.83zM2.5 16.667c0-.46.373-.834.833-.834h2.5a.833.833 0 110 1.667h-2.5a.833.833 0 01-.833-.833z"/>\n</svg>\n'},function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.286 3.705A4.243 4.243 0 0113.283 2.5a4.244 4.244 0 012.976 1.257 4.298 4.298 0 011.244 2.99 4.298 4.298 0 01-1.192 3.011l-.01.01-2.055 2.071a4.233 4.233 0 01-5.057.732 4.266 4.266 0 01-1.367-1.195.833.833 0 011.338-.993 2.572 2.572 0 003.903.283l2.05-2.066c.469-.493.73-1.152.724-1.839a2.63 2.63 0 00-.761-1.83 2.578 2.578 0 00-1.807-.764 2.577 2.577 0 00-1.816.728L10.28 6.071A.833.833 0 019.1 4.894l1.178-1.18.008-.01zM7.277 7.17a4.233 4.233 0 013.534.255 4.266 4.266 0 011.367 1.195.833.833 0 01-1.338.993 2.571 2.571 0 00-3.903-.283l-2.049 2.066a2.632 2.632 0 00-.724 1.838c.005.689.28 1.346.76 1.83.481.485 1.13.759 1.808.765a2.577 2.577 0 001.815-.728l1.165-1.175a.833.833 0 011.184 1.174l-1.172 1.18-.01.01a4.243 4.243 0 01-2.997 1.206 4.244 4.244 0 01-2.976-1.257 4.298 4.298 0 01-1.244-2.99 4.299 4.299 0 011.193-3.011l.01-.01 2.054-2.071c.431-.435.95-.772 1.523-.987z"/>\n</svg>\n'},function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M9.167 4.167a5 5 0 100 10 5 5 0 000-10zm-6.667 5a6.667 6.667 0 1111.933 4.088l2.823 2.822a.833.833 0 11-1.178 1.179l-2.823-2.823A6.667 6.667 0 012.5 9.167z"/>\n</svg>\n'}]).default;